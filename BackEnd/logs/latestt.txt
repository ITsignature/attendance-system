[2025-10-17T02:21:39.291Z] [INFO] 🚀 Payroll calculation logging started for run: c206b8d0-0a5a-48be-85b6-eaa2f9effb9a
[2025-10-17T02:21:39.291Z] [INFO] 📁 Log file: E:\smart_attendance_system\BackEnd\logs\payroll-run-c206b8d0-0a5a-48be-85b6-eaa2f9effb9a-2025-10-17T02-21-39-291Z.txt
[2025-10-17T02:21:39.291Z] [INFO] ⏰ Started at: 2025-10-17T02:21:39.291Z
[2025-10-17T02:21:39.291Z] [INFO] ================================================================================
[2025-10-17T02:21:39.291Z] [LOG] 🚀 Starting payroll calculation for run: c206b8d0-0a5a-48be-85b6-eaa2f9effb9a
[2025-10-17T02:21:39.292Z] [LOG] 👤 Client ID: it-signature, User ID: 059304ea-24a5-4d78-a290-cf09b9e53c4c
[2025-10-17T02:21:39.825Z] [LOG] ✅ Payroll run verified: october (MONTHLY_2025_10_REGULAR)
[2025-10-17T02:21:40.178Z] [LOG] 📊 Status updated to 'calculating'
[2025-10-17T02:21:40.711Z] [LOG] 👥 Processing 34 employee records:
[2025-10-17T02:21:40.712Z] [LOG] ============================================================
[2025-10-17T02:21:40.713Z] [LOG] 
🧮 Processing: Prasanthan null (EMP000001)
[2025-10-17T02:21:40.713Z] [LOG] 📋 Record ID: 701ece87-3c13-4c5a-8c01-ad9382986cc9
[2025-10-17T02:21:40.715Z] [LOG] 
======================================================================
[2025-10-17T02:21:40.716Z] [LOG] 🧮 CALCULATING PAYROLL: Prasanthan null (EMP000001)
[2025-10-17T02:21:40.716Z] [LOG] ======================================================================
[2025-10-17T02:21:42.139Z] [LOG] 🔍 Component filtering for employee 014397c7-7105-11f0-a50f-98e743540430:
[2025-10-17T02:21:42.140Z] [LOG]    Total components: 9
[2025-10-17T02:21:42.140Z] [LOG]    Applicable components: 9
[2025-10-17T02:21:42.140Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:21:43.559Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:21:43.560Z] [LOG] 🔄 Processing financial records for employee 014397c7-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:21:43.916Z] [LOG] 📊 Found 0 active loans for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:44.270Z] [LOG] 📊 Found 0 active advances for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:44.625Z] [LOG] 📊 Found 0 approved bonuses for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:44.626Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:21:44.627Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:21:44.630Z] [LOG] 💰 GROSS CALCULATION for Prasanthan null:
[2025-10-17T02:21:44.630Z] [LOG]    Base Salary: 150000
[2025-10-17T02:21:44.631Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:21:44.983Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:21:45.340Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:21:45.340Z] [LOG]    Employee ID: 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:45.341Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:21:45.341Z] [LOG]    Base Salary: Rs.150000.00
[2025-10-17T02:21:45.699Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:21:45.699Z] [LOG]       Daily Salary: Rs.6000.00
[2025-10-17T02:21:45.700Z] [LOG]       Weekday Hourly Rate: Rs.705.88
[2025-10-17T02:21:45.700Z] [LOG]       Saturday Hourly Rate: Rs.705.88
[2025-10-17T02:21:45.701Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:21:46.057Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:21:46.058Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:21:46.059Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:21:46.060Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:21:46.060Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:21:46.060Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:21:46.061Z] [LOG]       Weekday: 17.00h × Rs.705.88 = Rs.11999.96
[2025-10-17T02:21:46.062Z] [LOG]       Saturday: 0.00h × Rs.705.88 = Rs.0.00
[2025-10-17T02:21:46.062Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:21:46.063Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:46.064Z] [LOG]       Total Earned Salary: Rs.11999.96
[2025-10-17T02:21:46.065Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:21:46.065Z] [LOG]       Base Salary: Rs.150000.00
[2025-10-17T02:21:46.065Z] [LOG]       Earned Salary: Rs.11999.96
[2025-10-17T02:21:46.066Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:46.066Z] [LOG]       Attendance Deduction: Rs.138000.04
[2025-10-17T02:21:46.067Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:21:46.068Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:21:46.069Z] [LOG]    Gross Salary: 150000
[2025-10-17T02:21:46.069Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:21:46.070Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:21:46.071Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.071Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:21:46.072Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.072Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:21:46.073Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.073Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:21:46.073Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.073Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:21:46.074Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.074Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:21:46.076Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.077Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:21:46.077Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.078Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:21:46.079Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.081Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:21:46.084Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:46.084Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:21:46.085Z] [LOG] Regular deductions for Prasanthan null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:21:46.088Z] [LOG] Combined deductions for Prasanthan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 138000.04,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 138000.04
}
[2025-10-17T02:21:46.449Z] [LOG] Creating components for record 701ece87-3c13-4c5a-8c01-ad9382986cc9: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-17T02:21:46.450Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 138000.04
}
[2025-10-17T02:21:46.801Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:21:47.152Z] [LOG] Created payroll_record_component: 77614b53-adbe-4c13-b269-659bcce06b9c for Attendance Deduction
[2025-10-17T02:21:47.154Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 3000
}
[2025-10-17T02:21:47.333Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-17T02:21:47.510Z] [LOG] Created payroll_record_component: e5e10a0d-02ff-461a-9f13-aeb516aaee11 for Income Tax
[2025-10-17T02:21:47.872Z] [LOG] ✅ Financial balances updated successfully for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:47.873Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:21:47.873Z] [LOG] 
======================================================================
[2025-10-17T02:21:47.874Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Prasanthan null
[2025-10-17T02:21:47.874Z] [LOG] ======================================================================
[2025-10-17T02:21:47.874Z] [LOG]    Gross Salary: Rs.150000.00
[2025-10-17T02:21:47.875Z] [LOG]    Total Deductions: Rs.138000.04
[2025-10-17T02:21:47.875Z] [LOG]       - Attendance Deduction: Rs.138000.04
[2025-10-17T02:21:47.876Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:21:47.876Z] [LOG]    Total Taxes: Rs.3000.00
[2025-10-17T02:21:47.877Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:21:47.877Z] [LOG]    NET SALARY: Rs.8999.96
[2025-10-17T02:21:47.878Z] [LOG] ======================================================================

[2025-10-17T02:21:47.881Z] [LOG] ✅ Prasanthan null: Calculation completed successfully
[2025-10-17T02:21:47.881Z] [LOG] 📊 Progress: 1/34 (2.9%)
[2025-10-17T02:21:47.882Z] [LOG] 
🧮 Processing: Faizan Faizan (EMP000003)
[2025-10-17T02:21:47.883Z] [LOG] 📋 Record ID: 8f5812a6-b12a-4664-96a0-d4103538297d
[2025-10-17T02:21:47.886Z] [LOG] 
======================================================================
[2025-10-17T02:21:47.886Z] [LOG] 🧮 CALCULATING PAYROLL: Faizan Faizan (EMP000003)
[2025-10-17T02:21:47.887Z] [LOG] ======================================================================
[2025-10-17T02:21:48.623Z] [LOG] 🔍 Component filtering for employee 0143a057-7105-11f0-a50f-98e743540430:
[2025-10-17T02:21:48.624Z] [LOG]    Total components: 9
[2025-10-17T02:21:48.624Z] [LOG]    Applicable components: 9
[2025-10-17T02:21:48.625Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T02:21:49.359Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:21:49.360Z] [LOG] 🔄 Processing financial records for employee 0143a057-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:21:49.539Z] [LOG] 📊 Found 0 active loans for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:49.722Z] [LOG] 📊 Found 0 active advances for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:49.910Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:49.911Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:21:49.912Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:21:49.913Z] [LOG] 💰 GROSS CALCULATION for Faizan Faizan:
[2025-10-17T02:21:49.913Z] [LOG]    Base Salary: 50000
[2025-10-17T02:21:49.914Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:21:50.092Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:21:50.272Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:21:50.273Z] [LOG]    Employee ID: 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:50.273Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:21:50.274Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:21:50.450Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:21:50.451Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:21:50.452Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:21:50.452Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:21:50.452Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:21:50.632Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:21:50.632Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:21:50.633Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:21:50.633Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:21:50.634Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:21:50.634Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:21:50.635Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:21:50.635Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:21:50.636Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:21:50.637Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:50.637Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:21:50.638Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:21:50.639Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:21:50.640Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:21:50.640Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:50.641Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:21:50.642Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:21:50.642Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:21:50.643Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:21:50.643Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:21:50.644Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:21:50.645Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.646Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:21:50.648Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.648Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:21:50.650Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.650Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:21:50.651Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.652Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:21:50.652Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.652Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:21:50.652Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.653Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:21:50.653Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.654Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:21:50.654Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.656Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:21:50.656Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:50.657Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:21:50.657Z] [LOG] Regular deductions for Faizan Faizan: {
  "components": [],
  "total": 0
}
[2025-10-17T02:21:50.658Z] [LOG] Combined deductions for Faizan Faizan: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:21:50.837Z] [LOG] Creating components for record 8f5812a6-b12a-4664-96a0-d4103538297d: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:21:50.838Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:21:51.015Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:21:51.196Z] [LOG] Created payroll_record_component: 439d9e4a-3201-4736-a8d8-7d1574ed3a1c for Attendance Deduction
[2025-10-17T02:21:51.553Z] [LOG] ✅ Financial balances updated successfully for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:51.554Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:21:51.554Z] [LOG] 
======================================================================
[2025-10-17T02:21:51.555Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Faizan Faizan
[2025-10-17T02:21:51.555Z] [LOG] ======================================================================
[2025-10-17T02:21:51.556Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:21:51.556Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:21:51.557Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:21:51.558Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:21:51.558Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:21:51.559Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:21:51.559Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:21:51.560Z] [LOG] ======================================================================

[2025-10-17T02:21:51.561Z] [LOG] ✅ Faizan Faizan: Calculation completed successfully
[2025-10-17T02:21:51.563Z] [LOG] 📊 Progress: 2/34 (5.9%)
[2025-10-17T02:21:51.563Z] [LOG] 
🧮 Processing: Uthpala null (EMP000006)
[2025-10-17T02:21:51.564Z] [LOG] 📋 Record ID: a99c53ae-f61e-49f6-8684-1f17bf79f54f
[2025-10-17T02:21:51.564Z] [LOG] 
======================================================================
[2025-10-17T02:21:51.565Z] [LOG] 🧮 CALCULATING PAYROLL: Uthpala null (EMP000006)
[2025-10-17T02:21:51.568Z] [LOG] ======================================================================
[2025-10-17T02:21:52.281Z] [LOG] 🔍 Component filtering for employee 0143a539-7105-11f0-a50f-98e743540430:
[2025-10-17T02:21:52.281Z] [LOG]    Total components: 9
[2025-10-17T02:21:52.282Z] [LOG]    Applicable components: 9
[2025-10-17T02:21:52.282Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T02:21:54.058Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:21:54.059Z] [LOG] 🔄 Processing financial records for employee 0143a539-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:21:54.237Z] [LOG] 📊 Found 0 active loans for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:54.416Z] [LOG] 📊 Found 0 active advances for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:54.594Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:54.596Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:21:54.598Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:21:54.598Z] [LOG] 💰 GROSS CALCULATION for Uthpala null:
[2025-10-17T02:21:54.599Z] [LOG]    Base Salary: 100000
[2025-10-17T02:21:54.599Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:21:54.777Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:21:54.955Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:21:54.957Z] [LOG]    Employee ID: 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:54.957Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:21:54.958Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-17T02:21:55.134Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:21:55.134Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-17T02:21:55.135Z] [LOG]       Weekday Hourly Rate: Rs.500.00
[2025-10-17T02:21:55.135Z] [LOG]       Saturday Hourly Rate: Rs.500.00
[2025-10-17T02:21:55.135Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:21:55.313Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:21:55.314Z] [LOG]       Weekday (Mon-Fri): 15.00h
[2025-10-17T02:21:55.315Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:21:55.315Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:21:55.316Z] [LOG]       Total Worked: 15.00h
[2025-10-17T02:21:55.316Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:21:55.317Z] [LOG]       Weekday: 15.00h × Rs.500.00 = Rs.7500.00
[2025-10-17T02:21:55.317Z] [LOG]       Saturday: 0.00h × Rs.500.00 = Rs.0.00
[2025-10-17T02:21:55.317Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:21:55.318Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:55.318Z] [LOG]       Total Earned Salary: Rs.7500.00
[2025-10-17T02:21:55.319Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:21:55.319Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-17T02:21:55.320Z] [LOG]       Earned Salary: Rs.7500.00
[2025-10-17T02:21:55.321Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:55.322Z] [LOG]       Attendance Deduction: Rs.92500.00
[2025-10-17T02:21:55.322Z] [LOG]       📉 Deduction is 92.50% of base salary
[2025-10-17T02:21:55.323Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:21:55.324Z] [LOG]    Gross Salary: 100000
[2025-10-17T02:21:55.325Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:21:55.326Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:21:55.327Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.329Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:21:55.329Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.330Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:21:55.331Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.332Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:21:55.332Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.333Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:21:55.333Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.334Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:21:55.335Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.336Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:21:55.336Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.337Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:21:55.338Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.338Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:21:55.339Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:55.339Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:21:55.340Z] [LOG] Regular deductions for Uthpala null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:21:55.341Z] [LOG] Combined deductions for Uthpala null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 92500,
      "details": "Based on worked hours (15h total)"
    }
  ],
  "total": 92500
}
[2025-10-17T02:21:55.519Z] [LOG] Creating components for record a99c53ae-f61e-49f6-8684-1f17bf79f54f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:21:55.520Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 92500
}
[2025-10-17T02:21:55.701Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:21:55.879Z] [LOG] Created payroll_record_component: ba1c26df-5952-44cc-b54f-c603f11c8509 for Attendance Deduction
[2025-10-17T02:21:56.232Z] [LOG] ✅ Financial balances updated successfully for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:56.233Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:21:56.234Z] [LOG] 
======================================================================
[2025-10-17T02:21:56.234Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Uthpala null
[2025-10-17T02:21:56.235Z] [LOG] ======================================================================
[2025-10-17T02:21:56.235Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-17T02:21:56.235Z] [LOG]    Total Deductions: Rs.92500.00
[2025-10-17T02:21:56.236Z] [LOG]       - Attendance Deduction: Rs.92500.00
[2025-10-17T02:21:56.236Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:21:56.237Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:21:56.237Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:21:56.238Z] [LOG]    NET SALARY: Rs.7500.00
[2025-10-17T02:21:56.238Z] [LOG] ======================================================================

[2025-10-17T02:21:56.239Z] [LOG] ✅ Uthpala null: Calculation completed successfully
[2025-10-17T02:21:56.240Z] [LOG] 📊 Progress: 3/34 (8.8%)
[2025-10-17T02:21:56.240Z] [LOG] 
🧮 Processing: Saruban null (EMP000007)
[2025-10-17T02:21:56.241Z] [LOG] 📋 Record ID: ce98d56c-d2a9-4e8c-9234-71411759b7f7
[2025-10-17T02:21:56.241Z] [LOG] 
======================================================================
[2025-10-17T02:21:56.242Z] [LOG] 🧮 CALCULATING PAYROLL: Saruban null (EMP000007)
[2025-10-17T02:21:56.242Z] [LOG] ======================================================================
[2025-10-17T02:21:56.950Z] [LOG] 🔍 Component filtering for employee 0143a6e3-7105-11f0-a50f-98e743540430:
[2025-10-17T02:21:56.951Z] [LOG]    Total components: 9
[2025-10-17T02:21:56.951Z] [LOG]    Applicable components: 9
[2025-10-17T02:21:56.952Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:21:57.668Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:21:57.669Z] [LOG] 🔄 Processing financial records for employee 0143a6e3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:21:57.845Z] [LOG] 📊 Found 0 active loans for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:58.022Z] [LOG] 📊 Found 0 active advances for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:58.199Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:58.200Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:21:58.201Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:21:58.202Z] [LOG] 💰 GROSS CALCULATION for Saruban null:
[2025-10-17T02:21:58.202Z] [LOG]    Base Salary: 0
[2025-10-17T02:21:58.203Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:21:58.380Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:21:58.557Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:21:58.557Z] [LOG]    Employee ID: 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:58.558Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:21:58.558Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T02:21:58.736Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:21:58.737Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T02:21:58.738Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T02:21:58.738Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T02:21:58.739Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:21:58.917Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:21:58.917Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:21:58.918Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:21:58.918Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:21:58.919Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:21:58.919Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:21:58.919Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:21:58.920Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:21:58.920Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:21:58.921Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:58.921Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T02:21:58.921Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:21:58.922Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T02:21:58.922Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T02:21:58.923Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:21:58.924Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T02:21:58.925Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T02:21:58.925Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:21:58.926Z] [LOG]    Gross Salary: 0
[2025-10-17T02:21:58.926Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:21:58.927Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:21:58.930Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.930Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:21:58.931Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.932Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:21:58.933Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.933Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:21:58.934Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.934Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:21:58.935Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.936Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:21:58.936Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.937Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:21:58.937Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.938Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:21:58.938Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.939Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:21:58.939Z] [LOG]    Fixed amount: 0
[2025-10-17T02:21:58.940Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:21:58.941Z] [LOG] Regular deductions for Saruban null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:21:58.941Z] [LOG] Combined deductions for Saruban null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T02:21:59.131Z] [LOG] Creating components for record ce98d56c-d2a9-4e8c-9234-71411759b7f7: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:21:59.132Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T02:21:59.307Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:21:59.487Z] [LOG] Created payroll_record_component: b1eb58e4-f1bd-4dfa-995b-7c2008046836 for Attendance Deduction
[2025-10-17T02:21:59.838Z] [LOG] ✅ Financial balances updated successfully for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T02:21:59.839Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:21:59.839Z] [LOG] 
======================================================================
[2025-10-17T02:21:59.840Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saruban null
[2025-10-17T02:21:59.840Z] [LOG] ======================================================================
[2025-10-17T02:21:59.841Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T02:21:59.841Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T02:21:59.842Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T02:21:59.842Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:21:59.843Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:21:59.843Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:21:59.844Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T02:21:59.844Z] [LOG] ======================================================================

[2025-10-17T02:21:59.844Z] [LOG] ✅ Saruban null: Calculation completed successfully
[2025-10-17T02:21:59.846Z] [LOG] 📊 Progress: 4/34 (11.8%)
[2025-10-17T02:21:59.848Z] [LOG] 
🧮 Processing: Dharshika null (EMP000009)
[2025-10-17T02:21:59.848Z] [LOG] 📋 Record ID: d3aecc8b-c97f-4bfb-b6b0-f6429a41c378
[2025-10-17T02:21:59.849Z] [LOG] 
======================================================================
[2025-10-17T02:21:59.849Z] [LOG] 🧮 CALCULATING PAYROLL: Dharshika null (EMP000009)
[2025-10-17T02:21:59.850Z] [LOG] ======================================================================
[2025-10-17T02:22:00.556Z] [LOG] 🔍 Component filtering for employee 0143a994-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:00.558Z] [LOG]    Total components: 9
[2025-10-17T02:22:00.559Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:00.560Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:01.270Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:01.271Z] [LOG] 🔄 Processing financial records for employee 0143a994-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:01.449Z] [LOG] 📊 Found 0 active loans for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:01.630Z] [LOG] 📊 Found 0 active advances for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:01.809Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:01.809Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:01.810Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:01.810Z] [LOG] 💰 GROSS CALCULATION for Dharshika null:
[2025-10-17T02:22:01.811Z] [LOG]    Base Salary: 100000
[2025-10-17T02:22:01.811Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:01.990Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:02.167Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:02.167Z] [LOG]    Employee ID: 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:02.168Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:02.168Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-17T02:22:02.344Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:02.345Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-17T02:22:02.347Z] [LOG]       Weekday Hourly Rate: Rs.470.59
[2025-10-17T02:22:02.348Z] [LOG]       Saturday Hourly Rate: Rs.470.59
[2025-10-17T02:22:02.348Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:02.525Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:02.525Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:02.526Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:02.526Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:02.526Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:02.526Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:02.527Z] [LOG]       Weekday: 17.00h × Rs.470.59 = Rs.8000.03
[2025-10-17T02:22:02.527Z] [LOG]       Saturday: 0.00h × Rs.470.59 = Rs.0.00
[2025-10-17T02:22:02.527Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:02.528Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:02.528Z] [LOG]       Total Earned Salary: Rs.8000.03
[2025-10-17T02:22:02.529Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:02.529Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-17T02:22:02.530Z] [LOG]       Earned Salary: Rs.8000.03
[2025-10-17T02:22:02.530Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:02.531Z] [LOG]       Attendance Deduction: Rs.91999.97
[2025-10-17T02:22:02.531Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:02.531Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:02.532Z] [LOG]    Gross Salary: 100000
[2025-10-17T02:22:02.532Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:02.532Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:02.533Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.533Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:02.533Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.533Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:02.534Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.534Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:02.534Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.535Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:02.535Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.535Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:02.535Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.536Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:02.536Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.536Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:02.537Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.537Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:02.537Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:02.537Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:02.538Z] [LOG] Regular deductions for Dharshika null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:02.538Z] [LOG] Combined deductions for Dharshika null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 91999.97,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 91999.97
}
[2025-10-17T02:22:02.716Z] [LOG] Creating components for record d3aecc8b-c97f-4bfb-b6b0-f6429a41c378: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:02.717Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 91999.97
}
[2025-10-17T02:22:02.894Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:03.073Z] [LOG] Created payroll_record_component: 2bcfb1f5-4c79-4c02-9900-a9b5acd8d7d3 for Attendance Deduction
[2025-10-17T02:22:03.430Z] [LOG] ✅ Financial balances updated successfully for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:03.432Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:03.432Z] [LOG] 
======================================================================
[2025-10-17T02:22:03.432Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Dharshika null
[2025-10-17T02:22:03.433Z] [LOG] ======================================================================
[2025-10-17T02:22:03.433Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-17T02:22:03.434Z] [LOG]    Total Deductions: Rs.91999.97
[2025-10-17T02:22:03.434Z] [LOG]       - Attendance Deduction: Rs.91999.97
[2025-10-17T02:22:03.435Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:03.435Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:03.435Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:03.436Z] [LOG]    NET SALARY: Rs.8000.03
[2025-10-17T02:22:03.436Z] [LOG] ======================================================================

[2025-10-17T02:22:03.438Z] [LOG] ✅ Dharshika null: Calculation completed successfully
[2025-10-17T02:22:03.439Z] [LOG] 📊 Progress: 5/34 (14.7%)
[2025-10-17T02:22:03.440Z] [LOG] 
🧮 Processing: Ishara null (EMP000011)
[2025-10-17T02:22:03.440Z] [LOG] 📋 Record ID: f4f7dcd9-ca02-4f7f-ad11-2ca3d969dfed
[2025-10-17T02:22:03.440Z] [LOG] 
======================================================================
[2025-10-17T02:22:03.441Z] [LOG] 🧮 CALCULATING PAYROLL: Ishara null (EMP000011)
[2025-10-17T02:22:03.441Z] [LOG] ======================================================================
[2025-10-17T02:22:04.153Z] [LOG] 🔍 Component filtering for employee 0143ac0c-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:04.153Z] [LOG]    Total components: 9
[2025-10-17T02:22:04.154Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:04.154Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T02:22:04.863Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:04.865Z] [LOG] 🔄 Processing financial records for employee 0143ac0c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:05.043Z] [LOG] 📊 Found 0 active loans for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:05.220Z] [LOG] 📊 Found 0 active advances for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:05.398Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:05.399Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:05.399Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:05.400Z] [LOG] 💰 GROSS CALCULATION for Ishara null:
[2025-10-17T02:22:05.400Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:05.401Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:05.579Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:05.754Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:05.755Z] [LOG]    Employee ID: 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:05.755Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:05.756Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:05.933Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:05.934Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:05.934Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:05.935Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:05.935Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:06.111Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:06.112Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:06.113Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:06.114Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:06.114Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:06.115Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:06.116Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:06.116Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:06.116Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:06.117Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:06.117Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:06.117Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:06.117Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:06.118Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:06.118Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:06.118Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:06.120Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:06.121Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:06.122Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:06.122Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:06.122Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:06.122Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.123Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:06.123Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.123Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:06.123Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.124Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:06.124Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.124Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:06.125Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.125Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:06.125Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.126Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:06.126Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.127Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:06.127Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.129Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:06.130Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:06.131Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:06.131Z] [LOG] Regular deductions for Ishara null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:06.132Z] [LOG] Combined deductions for Ishara null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:06.310Z] [LOG] Creating components for record f4f7dcd9-ca02-4f7f-ad11-2ca3d969dfed: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:06.311Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:06.488Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:06.669Z] [LOG] Created payroll_record_component: 626fccbb-7cde-4456-8994-bdd0eb24101d for Attendance Deduction
[2025-10-17T02:22:07.024Z] [LOG] ✅ Financial balances updated successfully for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:07.026Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:07.027Z] [LOG] 
======================================================================
[2025-10-17T02:22:07.027Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ishara null
[2025-10-17T02:22:07.028Z] [LOG] ======================================================================
[2025-10-17T02:22:07.028Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:07.028Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:07.029Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:07.029Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:07.033Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:07.033Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:07.033Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:07.034Z] [LOG] ======================================================================

[2025-10-17T02:22:07.034Z] [LOG] ✅ Ishara null: Calculation completed successfully
[2025-10-17T02:22:07.035Z] [LOG] 📊 Progress: 6/34 (17.6%)
[2025-10-17T02:22:07.035Z] [LOG] 
🧮 Processing: Jessie null (EMP000013)
[2025-10-17T02:22:07.036Z] [LOG] 📋 Record ID: 26759650-8747-499f-a38a-ca77b3d92625
[2025-10-17T02:22:07.036Z] [LOG] 
======================================================================
[2025-10-17T02:22:07.036Z] [LOG] 🧮 CALCULATING PAYROLL: Jessie null (EMP000013)
[2025-10-17T02:22:07.037Z] [LOG] ======================================================================
[2025-10-17T02:22:07.755Z] [LOG] 🔍 Component filtering for employee 0143ae6e-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:07.756Z] [LOG]    Total components: 9
[2025-10-17T02:22:07.756Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:07.757Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:08.468Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:08.469Z] [LOG] 🔄 Processing financial records for employee 0143ae6e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:08.648Z] [LOG] 📊 Found 1 active loans for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:08.827Z] [LOG] 📊 Found 0 active advances for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:09.005Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:09.006Z] [LOG] 💰 Loan 9b6e1dda-8dcb-4c30-9d68-604489d94453: Deducting LKR 0.01 (Remaining: LKR 0.01)
[2025-10-17T02:22:09.007Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0.01,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": -0.01
}
[2025-10-17T02:22:09.007Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:09.008Z] [LOG] 💰 GROSS CALCULATION for Jessie null:
[2025-10-17T02:22:09.009Z] [LOG]    Base Salary: 60000
[2025-10-17T02:22:09.009Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:09.187Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:09.363Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:09.364Z] [LOG]    Employee ID: 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:09.364Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:09.364Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-17T02:22:09.542Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:09.542Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-17T02:22:09.543Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-17T02:22:09.543Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-17T02:22:09.543Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:09.722Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:09.723Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:09.724Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:09.724Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:09.725Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:09.725Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:09.726Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-17T02:22:09.726Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-17T02:22:09.727Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:09.727Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:09.727Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-17T02:22:09.728Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:09.729Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-17T02:22:09.730Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-17T02:22:09.730Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:09.731Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-17T02:22:09.732Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:09.732Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:09.733Z] [LOG]    Gross Salary: 60000
[2025-10-17T02:22:09.733Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:09.734Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:09.734Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.735Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:09.736Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.736Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:09.738Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.739Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:09.739Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.740Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:09.740Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.741Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:09.742Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.742Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:09.743Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.743Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:09.744Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.744Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:09.745Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:09.745Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:09.746Z] [LOG] Regular deductions for Jessie null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:09.747Z] [LOG] Combined deductions for Jessie null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    },
    {
      "code": "LOAN_DED",
      "name": "Loan Deductions",
      "type": "deduction",
      "category": "loan",
      "amount": 0.01,
      "details": "1 loan(s)"
    }
  ],
  "total": 55200.060000000005
}
[2025-10-17T02:22:09.928Z] [LOG] Creating components for record 26759650-8747-499f-a38a-ca77b3d92625: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 2,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:09.930Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-17T02:22:10.108Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:10.288Z] [LOG] Created payroll_record_component: e035a1ef-2504-42bc-9850-911166b1481e for Attendance Deduction
[2025-10-17T02:22:10.289Z] [LOG] Processing component: {
  "name": "Loan Deductions",
  "type": "deduction",
  "amount": 0.01
}
[2025-10-17T02:22:10.469Z] [LOG] Using existing component ID: 64a0d7d8-8fdb-4968-a7a2-057590b481c7
[2025-10-17T02:22:10.648Z] [LOG] Created payroll_record_component: 1d7ee8f6-7600-4b0c-8f88-86fd51e2eefc for Loan Deductions
[2025-10-17T02:22:11.180Z] [LOG] ✅ Updated loan 9b6e1dda-8dcb-4c30-9d68-604489d94453: Remaining LKR 0, Status: completed
[2025-10-17T02:22:11.358Z] [LOG] ✅ Financial balances updated successfully for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:11.359Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:11.359Z] [LOG] 
======================================================================
[2025-10-17T02:22:11.360Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Jessie null
[2025-10-17T02:22:11.360Z] [LOG] ======================================================================
[2025-10-17T02:22:11.361Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-17T02:22:11.361Z] [LOG]    Total Deductions: Rs.55200.06
[2025-10-17T02:22:11.363Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-17T02:22:11.363Z] [LOG]       - Other Deductions: Rs.0.01
[2025-10-17T02:22:11.364Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:11.366Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:11.367Z] [LOG]    NET SALARY: Rs.4799.94
[2025-10-17T02:22:11.367Z] [LOG] ======================================================================

[2025-10-17T02:22:11.368Z] [LOG] ✅ Jessie null: Calculation completed successfully
[2025-10-17T02:22:11.368Z] [LOG] 📊 Progress: 7/34 (20.6%)
[2025-10-17T02:22:11.369Z] [LOG] 
🧮 Processing: Anoj null (EMP000014)
[2025-10-17T02:22:11.369Z] [LOG] 📋 Record ID: 6cb25b90-1a2b-44bc-9b0f-e17c3529bccd
[2025-10-17T02:22:11.370Z] [LOG] 
======================================================================
[2025-10-17T02:22:11.370Z] [LOG] 🧮 CALCULATING PAYROLL: Anoj null (EMP000014)
[2025-10-17T02:22:11.370Z] [LOG] ======================================================================
[2025-10-17T02:22:12.079Z] [LOG] 🔍 Component filtering for employee 0143afc6-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:12.080Z] [LOG]    Total components: 9
[2025-10-17T02:22:12.081Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:12.081Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:22:12.790Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:12.791Z] [LOG] 🔄 Processing financial records for employee 0143afc6-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:12.969Z] [LOG] 📊 Found 0 active loans for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:13.149Z] [LOG] 📊 Found 0 active advances for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:13.330Z] [LOG] 📊 Found 0 approved bonuses for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:13.331Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:13.331Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:13.332Z] [LOG] 💰 GROSS CALCULATION for Anoj null:
[2025-10-17T02:22:13.332Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:13.333Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:13.508Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:13.686Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:13.687Z] [LOG]    Employee ID: 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:13.688Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:13.688Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:13.864Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:13.865Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:13.866Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:13.866Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:13.866Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:14.047Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:14.048Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:14.049Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:14.050Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:14.050Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:14.050Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:14.051Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:14.052Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:14.052Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:14.053Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:14.053Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:14.054Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:14.055Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:14.056Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:14.056Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:14.057Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:14.057Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:14.058Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:14.059Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:14.059Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:14.060Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:14.060Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.061Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:14.063Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.064Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:14.065Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.066Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:14.066Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.067Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:14.068Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.069Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:14.070Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.071Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:14.071Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.072Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:14.073Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.073Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:14.074Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:14.074Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:14.074Z] [LOG] Regular deductions for Anoj null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:14.075Z] [LOG] Combined deductions for Anoj null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:14.258Z] [LOG] Creating components for record 6cb25b90-1a2b-44bc-9b0f-e17c3529bccd: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:14.259Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:14.438Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:14.616Z] [LOG] Created payroll_record_component: ef9bd64d-d6e3-457d-ac7c-6f4f34c5f651 for Attendance Deduction
[2025-10-17T02:22:14.970Z] [LOG] ✅ Financial balances updated successfully for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:14.971Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:14.971Z] [LOG] 
======================================================================
[2025-10-17T02:22:14.972Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Anoj null
[2025-10-17T02:22:14.972Z] [LOG] ======================================================================
[2025-10-17T02:22:14.973Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:14.973Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:14.973Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:14.974Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:14.974Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:14.975Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:14.975Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:14.975Z] [LOG] ======================================================================

[2025-10-17T02:22:14.976Z] [LOG] ✅ Anoj null: Calculation completed successfully
[2025-10-17T02:22:14.976Z] [LOG] 📊 Progress: 8/34 (23.5%)
[2025-10-17T02:22:14.977Z] [LOG] 
🧮 Processing: Sumaiya null (EMP000016)
[2025-10-17T02:22:14.978Z] [LOG] 📋 Record ID: 85e876d1-6184-47c4-bb91-3301880df645
[2025-10-17T02:22:14.978Z] [LOG] 
======================================================================
[2025-10-17T02:22:14.980Z] [LOG] 🧮 CALCULATING PAYROLL: Sumaiya null (EMP000016)
[2025-10-17T02:22:14.980Z] [LOG] ======================================================================
[2025-10-17T02:22:15.685Z] [LOG] 🔍 Component filtering for employee 0143b22f-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:15.687Z] [LOG]    Total components: 9
[2025-10-17T02:22:15.689Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:15.690Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:16.393Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:16.394Z] [LOG] 🔄 Processing financial records for employee 0143b22f-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:16.572Z] [LOG] 📊 Found 0 active loans for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:16.749Z] [LOG] 📊 Found 0 active advances for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:16.927Z] [LOG] 📊 Found 0 approved bonuses for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:16.928Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:16.929Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:16.929Z] [LOG] 💰 GROSS CALCULATION for Sumaiya null:
[2025-10-17T02:22:16.930Z] [LOG]    Base Salary: 60000
[2025-10-17T02:22:16.930Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:17.107Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:17.285Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:17.287Z] [LOG]    Employee ID: 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:17.288Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:17.288Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-17T02:22:17.464Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:17.465Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-17T02:22:17.466Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-17T02:22:17.466Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-17T02:22:17.467Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:17.645Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:17.647Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:17.648Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:17.649Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:17.649Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:17.650Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:17.650Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-17T02:22:17.651Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-17T02:22:17.651Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:17.652Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:17.652Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-17T02:22:17.652Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:17.652Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-17T02:22:17.653Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-17T02:22:17.653Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:17.654Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-17T02:22:17.654Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:17.656Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:17.656Z] [LOG]    Gross Salary: 60000
[2025-10-17T02:22:17.657Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:17.658Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:17.659Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.659Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:17.660Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.661Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:17.662Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.663Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:17.665Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.665Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:17.665Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.666Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:17.666Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.667Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:17.667Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.668Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:17.668Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.670Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:17.671Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:17.671Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:17.672Z] [LOG] Regular deductions for Sumaiya null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:17.672Z] [LOG] Combined deductions for Sumaiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-17T02:22:17.852Z] [LOG] Creating components for record 85e876d1-6184-47c4-bb91-3301880df645: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:17.853Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-17T02:22:18.031Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:18.213Z] [LOG] Created payroll_record_component: 9497e7c8-e33a-4d42-929f-dc651f0b6293 for Attendance Deduction
[2025-10-17T02:22:18.565Z] [LOG] ✅ Financial balances updated successfully for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:18.567Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:18.567Z] [LOG] 
======================================================================
[2025-10-17T02:22:18.568Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sumaiya null
[2025-10-17T02:22:18.569Z] [LOG] ======================================================================
[2025-10-17T02:22:18.572Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-17T02:22:18.574Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-17T02:22:18.575Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-17T02:22:18.576Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:18.579Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:18.580Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:18.581Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-17T02:22:18.582Z] [LOG] ======================================================================

[2025-10-17T02:22:18.582Z] [LOG] ✅ Sumaiya null: Calculation completed successfully
[2025-10-17T02:22:18.583Z] [LOG] 📊 Progress: 9/34 (26.5%)
[2025-10-17T02:22:18.584Z] [LOG] 
🧮 Processing: Hari null (EMP000017)
[2025-10-17T02:22:18.584Z] [LOG] 📋 Record ID: 7ad4ed6b-0462-4d91-a4ee-3d1516d3e697
[2025-10-17T02:22:18.584Z] [LOG] 
======================================================================
[2025-10-17T02:22:18.584Z] [LOG] 🧮 CALCULATING PAYROLL: Hari null (EMP000017)
[2025-10-17T02:22:18.585Z] [LOG] ======================================================================
[2025-10-17T02:22:19.287Z] [LOG] 🔍 Component filtering for employee 0143bc58-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:19.288Z] [LOG]    Total components: 9
[2025-10-17T02:22:19.288Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:19.288Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:19.993Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:19.994Z] [LOG] 🔄 Processing financial records for employee 0143bc58-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:20.172Z] [LOG] 📊 Found 0 active loans for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:20.348Z] [LOG] 📊 Found 0 active advances for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:20.525Z] [LOG] 📊 Found 0 approved bonuses for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:20.526Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:20.527Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:20.527Z] [LOG] 💰 GROSS CALCULATION for Hari null:
[2025-10-17T02:22:20.529Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:20.530Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:20.706Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:20.884Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:20.884Z] [LOG]    Employee ID: 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:20.885Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:20.885Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:21.064Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:21.065Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:21.066Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:21.066Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:21.067Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:21.246Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:21.247Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:21.247Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:21.247Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:21.248Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:21.248Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:21.249Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:21.249Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:21.250Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:21.250Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:21.251Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:21.251Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:21.252Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:21.252Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:21.252Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:21.254Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:21.254Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:21.255Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:21.255Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:21.256Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:21.256Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:21.257Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.257Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:21.260Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.261Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:21.265Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.268Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:21.269Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.270Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:21.271Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.271Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:21.272Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.272Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:21.273Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.273Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:21.274Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.275Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:21.275Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:21.275Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:21.276Z] [LOG] Regular deductions for Hari null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:21.277Z] [LOG] Combined deductions for Hari null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:21.455Z] [LOG] Creating components for record 7ad4ed6b-0462-4d91-a4ee-3d1516d3e697: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:21.456Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:21.633Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:21.810Z] [LOG] Created payroll_record_component: bac6df8a-fc5f-4e3e-9632-55738eb9cca2 for Attendance Deduction
[2025-10-17T02:22:22.168Z] [LOG] ✅ Financial balances updated successfully for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:22.169Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:22.170Z] [LOG] 
======================================================================
[2025-10-17T02:22:22.170Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Hari null
[2025-10-17T02:22:22.170Z] [LOG] ======================================================================
[2025-10-17T02:22:22.171Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:22.172Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:22.172Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:22.173Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:22.173Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:22.173Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:22.174Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:22.177Z] [LOG] ======================================================================

[2025-10-17T02:22:22.180Z] [LOG] ✅ Hari null: Calculation completed successfully
[2025-10-17T02:22:22.180Z] [LOG] 📊 Progress: 10/34 (29.4%)
[2025-10-17T02:22:22.182Z] [LOG] 
🧮 Processing: Franklin null (EMP000018)
[2025-10-17T02:22:22.184Z] [LOG] 📋 Record ID: d6dc73d6-af0d-48eb-862c-8ec80c9a82cc
[2025-10-17T02:22:22.184Z] [LOG] 
======================================================================
[2025-10-17T02:22:22.185Z] [LOG] 🧮 CALCULATING PAYROLL: Franklin null (EMP000018)
[2025-10-17T02:22:22.186Z] [LOG] ======================================================================
[2025-10-17T02:22:22.893Z] [LOG] 🔍 Component filtering for employee 0143c037-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:22.894Z] [LOG]    Total components: 9
[2025-10-17T02:22:22.894Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:22.895Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T02:22:23.607Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:23.608Z] [LOG] 🔄 Processing financial records for employee 0143c037-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:23.784Z] [LOG] 📊 Found 0 active loans for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:23.962Z] [LOG] 📊 Found 0 active advances for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:24.142Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:24.142Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:24.143Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:24.144Z] [LOG] 💰 GROSS CALCULATION for Franklin null:
[2025-10-17T02:22:24.144Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:24.145Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:24.323Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:24.499Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:24.500Z] [LOG]    Employee ID: 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:24.501Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:24.502Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:24.681Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:24.683Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:24.683Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:24.683Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:24.684Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:24.863Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:24.865Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:24.866Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:24.867Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:24.868Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:24.869Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:24.871Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:24.871Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:24.872Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:24.872Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:24.873Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:24.873Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:24.874Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:24.874Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:24.875Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:24.875Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:24.876Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:24.877Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:24.878Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:24.880Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:24.881Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:24.881Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.882Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:24.882Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.882Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:24.883Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.884Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:24.884Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.885Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:24.886Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.886Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:24.887Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.888Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:24.888Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.888Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:24.889Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.889Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:24.890Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:24.890Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:24.891Z] [LOG] Regular deductions for Franklin null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:24.891Z] [LOG] Combined deductions for Franklin null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:25.074Z] [LOG] Creating components for record d6dc73d6-af0d-48eb-862c-8ec80c9a82cc: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:25.075Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:25.251Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:25.429Z] [LOG] Created payroll_record_component: 4b6244b6-f2bf-4b20-b7c9-e185f0f457ee for Attendance Deduction
[2025-10-17T02:22:25.781Z] [LOG] ✅ Financial balances updated successfully for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:25.782Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:25.782Z] [LOG] 
======================================================================
[2025-10-17T02:22:25.783Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Franklin null
[2025-10-17T02:22:25.784Z] [LOG] ======================================================================
[2025-10-17T02:22:25.786Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:25.786Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:25.787Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:25.788Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:25.790Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:25.791Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:25.792Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:25.792Z] [LOG] ======================================================================

[2025-10-17T02:22:25.793Z] [LOG] ✅ Franklin null: Calculation completed successfully
[2025-10-17T02:22:25.794Z] [LOG] 📊 Progress: 11/34 (32.4%)
[2025-10-17T02:22:25.794Z] [LOG] 
🧮 Processing: Safna Nawas null (EMP000021)
[2025-10-17T02:22:25.795Z] [LOG] 📋 Record ID: 76e87f01-d63a-4855-a1be-eaf9f641a836
[2025-10-17T02:22:25.797Z] [LOG] 
======================================================================
[2025-10-17T02:22:25.798Z] [LOG] 🧮 CALCULATING PAYROLL: Safna Nawas null (EMP000021)
[2025-10-17T02:22:25.798Z] [LOG] ======================================================================
[2025-10-17T02:22:26.505Z] [LOG] 🔍 Component filtering for employee 0143c977-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:26.505Z] [LOG]    Total components: 9
[2025-10-17T02:22:26.506Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:26.506Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:27.221Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:27.222Z] [LOG] 🔄 Processing financial records for employee 0143c977-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:27.398Z] [LOG] 📊 Found 0 active loans for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:27.575Z] [LOG] 📊 Found 0 active advances for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:27.750Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:27.752Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:27.752Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:27.753Z] [LOG] 💰 GROSS CALCULATION for Safna Nawas null:
[2025-10-17T02:22:27.754Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:27.754Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:27.932Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:28.107Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:28.109Z] [LOG]    Employee ID: 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:28.109Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:28.109Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:28.287Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:28.287Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:28.288Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:28.288Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:28.289Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:28.467Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:28.468Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:28.468Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:28.469Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:28.469Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:28.470Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:28.470Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:28.470Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:28.471Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:28.471Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:28.472Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:28.472Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:28.472Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:28.473Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:28.475Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:28.476Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:28.476Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:28.476Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:28.477Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:28.477Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:28.478Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:28.478Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.479Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:28.480Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.482Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:28.483Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.483Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:28.484Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.484Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:28.484Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.485Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:28.486Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.486Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:28.487Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.487Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:28.488Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.488Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:28.488Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:28.489Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:28.489Z] [LOG] Regular deductions for Safna Nawas null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:28.489Z] [LOG] Combined deductions for Safna Nawas null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:28.668Z] [LOG] Creating components for record 76e87f01-d63a-4855-a1be-eaf9f641a836: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:28.669Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:28.847Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:29.024Z] [LOG] Created payroll_record_component: 77fb745f-6478-46ae-9203-54c09a687cc4 for Attendance Deduction
[2025-10-17T02:22:29.376Z] [LOG] ✅ Financial balances updated successfully for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:29.377Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:29.377Z] [LOG] 
======================================================================
[2025-10-17T02:22:29.378Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Safna Nawas null
[2025-10-17T02:22:29.378Z] [LOG] ======================================================================
[2025-10-17T02:22:29.379Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:29.379Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:29.381Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:29.382Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:29.383Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:29.384Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:29.384Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:29.385Z] [LOG] ======================================================================

[2025-10-17T02:22:29.385Z] [LOG] ✅ Safna Nawas null: Calculation completed successfully
[2025-10-17T02:22:29.385Z] [LOG] 📊 Progress: 12/34 (35.3%)
[2025-10-17T02:22:29.386Z] [LOG] 
🧮 Processing: Saru null (EMP000022)
[2025-10-17T02:22:29.387Z] [LOG] 📋 Record ID: d85b7bcc-7b2b-44e4-ae63-1da116b2c11c
[2025-10-17T02:22:29.390Z] [LOG] 
======================================================================
[2025-10-17T02:22:29.390Z] [LOG] 🧮 CALCULATING PAYROLL: Saru null (EMP000022)
[2025-10-17T02:22:29.391Z] [LOG] ======================================================================
[2025-10-17T02:22:30.098Z] [LOG] 🔍 Component filtering for employee 0143cc7e-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:30.099Z] [LOG]    Total components: 9
[2025-10-17T02:22:30.099Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:30.099Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:22:30.804Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:30.804Z] [LOG] 🔄 Processing financial records for employee 0143cc7e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:30.978Z] [LOG] 📊 Found 0 active loans for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:31.157Z] [LOG] 📊 Found 0 active advances for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:31.334Z] [LOG] 📊 Found 0 approved bonuses for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:31.334Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:31.335Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:31.335Z] [LOG] 💰 GROSS CALCULATION for Saru null:
[2025-10-17T02:22:31.335Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:31.335Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:31.512Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:31.691Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:31.691Z] [LOG]    Employee ID: 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:31.692Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:31.692Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:31.867Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:31.867Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:31.867Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:31.867Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:31.868Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:32.042Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:32.042Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:32.043Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:32.043Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:32.043Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:32.043Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:32.043Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:32.043Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:32.044Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:32.044Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:32.044Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:32.044Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:32.044Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:32.044Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:32.044Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:32.045Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:32.046Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:32.046Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:32.046Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:32.046Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:32.047Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:32.047Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.047Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:32.047Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.047Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:32.047Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.048Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:32.048Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.048Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:32.048Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.049Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:32.049Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.050Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:32.050Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.050Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:32.051Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.051Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:32.051Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:32.052Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:32.052Z] [LOG] Regular deductions for Saru null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:32.053Z] [LOG] Combined deductions for Saru null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:32.237Z] [LOG] Creating components for record d85b7bcc-7b2b-44e4-ae63-1da116b2c11c: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:32.237Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:32.415Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:32.592Z] [LOG] Created payroll_record_component: 9cbf251d-f883-4f61-a5ab-cd47ebf9a916 for Attendance Deduction
[2025-10-17T02:22:32.943Z] [LOG] ✅ Financial balances updated successfully for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:32.944Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:32.944Z] [LOG] 
======================================================================
[2025-10-17T02:22:32.944Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saru null
[2025-10-17T02:22:32.944Z] [LOG] ======================================================================
[2025-10-17T02:22:32.945Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:32.945Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:32.945Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:32.946Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:32.946Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:32.947Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:32.947Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:32.948Z] [LOG] ======================================================================

[2025-10-17T02:22:32.948Z] [LOG] ✅ Saru null: Calculation completed successfully
[2025-10-17T02:22:32.948Z] [LOG] 📊 Progress: 13/34 (38.2%)
[2025-10-17T02:22:32.948Z] [LOG] 
🧮 Processing: Ammaar Ilham (EMP000023)
[2025-10-17T02:22:32.949Z] [LOG] 📋 Record ID: 17a964cf-c992-45f1-b9d7-bc2bac0eeff9
[2025-10-17T02:22:32.950Z] [LOG] 
======================================================================
[2025-10-17T02:22:32.950Z] [LOG] 🧮 CALCULATING PAYROLL: Ammaar Ilham (EMP000023)
[2025-10-17T02:22:32.950Z] [LOG] ======================================================================
[2025-10-17T02:22:33.651Z] [LOG] 🔍 Component filtering for employee 0143de00-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:33.651Z] [LOG]    Total components: 9
[2025-10-17T02:22:33.651Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:33.651Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:22:34.357Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:34.358Z] [LOG] 🔄 Processing financial records for employee 0143de00-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:34.534Z] [LOG] 📊 Found 0 active loans for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:34.711Z] [LOG] 📊 Found 0 active advances for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:34.888Z] [LOG] 📊 Found 0 approved bonuses for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:34.888Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:34.889Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:34.889Z] [LOG] 💰 GROSS CALCULATION for Ammaar Ilham:
[2025-10-17T02:22:34.889Z] [LOG]    Base Salary: 70000
[2025-10-17T02:22:34.890Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:35.070Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:35.247Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:35.247Z] [LOG]    Employee ID: 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:35.248Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:35.248Z] [LOG]    Base Salary: Rs.70000.00
[2025-10-17T02:22:35.425Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:35.425Z] [LOG]       Daily Salary: Rs.2800.00
[2025-10-17T02:22:35.425Z] [LOG]       Weekday Hourly Rate: Rs.329.41
[2025-10-17T02:22:35.426Z] [LOG]       Saturday Hourly Rate: Rs.329.41
[2025-10-17T02:22:35.426Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:35.603Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:35.604Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:35.604Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:35.605Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:35.605Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:35.605Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:35.606Z] [LOG]       Weekday: 17.00h × Rs.329.41 = Rs.5599.97
[2025-10-17T02:22:35.606Z] [LOG]       Saturday: 0.00h × Rs.329.41 = Rs.0.00
[2025-10-17T02:22:35.606Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:35.606Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:35.607Z] [LOG]       Total Earned Salary: Rs.5599.97
[2025-10-17T02:22:35.607Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:35.607Z] [LOG]       Base Salary: Rs.70000.00
[2025-10-17T02:22:35.608Z] [LOG]       Earned Salary: Rs.5599.97
[2025-10-17T02:22:35.608Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:35.608Z] [LOG]       Attendance Deduction: Rs.64400.03
[2025-10-17T02:22:35.608Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:35.609Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:35.609Z] [LOG]    Gross Salary: 70000
[2025-10-17T02:22:35.609Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:35.610Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:35.610Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.610Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:35.611Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.611Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:35.611Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.611Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:35.612Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.612Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:35.612Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.612Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:35.613Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.613Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:35.613Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.613Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:35.614Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.614Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:35.614Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:35.614Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:35.615Z] [LOG] Regular deductions for Ammaar Ilham: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:35.615Z] [LOG] Combined deductions for Ammaar Ilham: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 64400.03,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 64400.03
}
[2025-10-17T02:22:35.793Z] [LOG] Creating components for record 17a964cf-c992-45f1-b9d7-bc2bac0eeff9: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:35.793Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 64400.03
}
[2025-10-17T02:22:35.986Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:36.165Z] [LOG] Created payroll_record_component: 9a8db61a-d599-4fb9-bfd7-6216c8dcdc9a for Attendance Deduction
[2025-10-17T02:22:36.519Z] [LOG] ✅ Financial balances updated successfully for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:36.520Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:36.520Z] [LOG] 
======================================================================
[2025-10-17T02:22:36.521Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ammaar Ilham
[2025-10-17T02:22:36.521Z] [LOG] ======================================================================
[2025-10-17T02:22:36.521Z] [LOG]    Gross Salary: Rs.70000.00
[2025-10-17T02:22:36.522Z] [LOG]    Total Deductions: Rs.64400.03
[2025-10-17T02:22:36.522Z] [LOG]       - Attendance Deduction: Rs.64400.03
[2025-10-17T02:22:36.522Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:36.523Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:36.523Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:36.523Z] [LOG]    NET SALARY: Rs.5599.97
[2025-10-17T02:22:36.524Z] [LOG] ======================================================================

[2025-10-17T02:22:36.524Z] [LOG] ✅ Ammaar Ilham: Calculation completed successfully
[2025-10-17T02:22:36.524Z] [LOG] 📊 Progress: 14/34 (41.2%)
[2025-10-17T02:22:36.525Z] [LOG] 
🧮 Processing: Waruni null (EMP000024)
[2025-10-17T02:22:36.525Z] [LOG] 📋 Record ID: 8fdc4aa4-5505-44b7-832d-f38f983a1d60
[2025-10-17T02:22:36.525Z] [LOG] 
======================================================================
[2025-10-17T02:22:36.526Z] [LOG] 🧮 CALCULATING PAYROLL: Waruni null (EMP000024)
[2025-10-17T02:22:36.526Z] [LOG] ======================================================================
[2025-10-17T02:22:37.235Z] [LOG] 🔍 Component filtering for employee 0143e40c-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:37.236Z] [LOG]    Total components: 9
[2025-10-17T02:22:37.236Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:37.236Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:37.945Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:37.946Z] [LOG] 🔄 Processing financial records for employee 0143e40c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:38.123Z] [LOG] 📊 Found 0 active loans for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:38.300Z] [LOG] 📊 Found 0 active advances for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:38.477Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:38.478Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:38.478Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:38.479Z] [LOG] 💰 GROSS CALCULATION for Waruni null:
[2025-10-17T02:22:38.479Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:38.479Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:38.654Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:38.831Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:38.831Z] [LOG]    Employee ID: 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:38.832Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:38.832Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:39.008Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:39.009Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:39.009Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:39.009Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:39.010Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:39.188Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:39.189Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:39.189Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:39.189Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:39.190Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:39.190Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:39.190Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:39.191Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:39.191Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:39.192Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:39.192Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:39.192Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:39.193Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:39.193Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:39.193Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:39.193Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:39.194Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:39.194Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:39.194Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:39.195Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:39.195Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:39.195Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.196Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:39.196Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.196Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:39.196Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.196Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:39.197Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.197Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:39.197Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.197Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:39.197Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.197Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:39.197Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.198Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:39.198Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.198Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:39.198Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:39.198Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:39.198Z] [LOG] Regular deductions for Waruni null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:39.198Z] [LOG] Combined deductions for Waruni null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:39.375Z] [LOG] Creating components for record 8fdc4aa4-5505-44b7-832d-f38f983a1d60: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:39.376Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:39.553Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:39.729Z] [LOG] Created payroll_record_component: 9df80ba0-4dba-40bd-82a5-73bc14636ff0 for Attendance Deduction
[2025-10-17T02:22:40.083Z] [LOG] ✅ Financial balances updated successfully for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:40.083Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:40.083Z] [LOG] 
======================================================================
[2025-10-17T02:22:40.084Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Waruni null
[2025-10-17T02:22:40.084Z] [LOG] ======================================================================
[2025-10-17T02:22:40.084Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:40.085Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:40.085Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:40.085Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:40.086Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:40.086Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:40.086Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:40.086Z] [LOG] ======================================================================

[2025-10-17T02:22:40.087Z] [LOG] ✅ Waruni null: Calculation completed successfully
[2025-10-17T02:22:40.087Z] [LOG] 📊 Progress: 15/34 (44.1%)
[2025-10-17T02:22:40.088Z] [LOG] 
🧮 Processing: Piyumi null (EMP000025)
[2025-10-17T02:22:40.088Z] [LOG] 📋 Record ID: 808ae935-609e-4198-b534-d9923d3ad535
[2025-10-17T02:22:40.088Z] [LOG] 
======================================================================
[2025-10-17T02:22:40.088Z] [LOG] 🧮 CALCULATING PAYROLL: Piyumi null (EMP000025)
[2025-10-17T02:22:40.089Z] [LOG] ======================================================================
[2025-10-17T02:22:40.795Z] [LOG] 🔍 Component filtering for employee 0143e565-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:40.796Z] [LOG]    Total components: 9
[2025-10-17T02:22:40.796Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:40.796Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:41.503Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:41.503Z] [LOG] 🔄 Processing financial records for employee 0143e565-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:41.679Z] [LOG] 📊 Found 0 active loans for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:41.854Z] [LOG] 📊 Found 0 active advances for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:42.032Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:42.032Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:42.032Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:42.032Z] [LOG] 💰 GROSS CALCULATION for Piyumi null:
[2025-10-17T02:22:42.032Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:42.033Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:42.208Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:42.385Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:42.385Z] [LOG]    Employee ID: 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:42.385Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:42.386Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:42.562Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:42.562Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:42.562Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:42.562Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:42.563Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:42.738Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:42.739Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:42.739Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:42.740Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:42.740Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:42.740Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:42.740Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:42.741Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:42.741Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:42.741Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:42.742Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:42.742Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:42.742Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:42.743Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:42.743Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:42.743Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:42.743Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:42.744Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:42.744Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:42.744Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:42.745Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:42.745Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.745Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:42.745Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.746Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:42.746Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.746Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:42.747Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.747Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:42.747Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.747Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:42.747Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.748Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:42.748Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.748Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:42.748Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.748Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:42.749Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:42.749Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:42.749Z] [LOG] Regular deductions for Piyumi null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:42.749Z] [LOG] Combined deductions for Piyumi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:42.927Z] [LOG] Creating components for record 808ae935-609e-4198-b534-d9923d3ad535: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:42.928Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:43.105Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:43.286Z] [LOG] Created payroll_record_component: 9ab08db9-9909-4391-9fd3-5d2e4fa44f7b for Attendance Deduction
[2025-10-17T02:22:43.637Z] [LOG] ✅ Financial balances updated successfully for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:43.637Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:43.638Z] [LOG] 
======================================================================
[2025-10-17T02:22:43.638Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Piyumi null
[2025-10-17T02:22:43.638Z] [LOG] ======================================================================
[2025-10-17T02:22:43.639Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:43.639Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:43.639Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:43.639Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:43.639Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:43.639Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:43.640Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:43.640Z] [LOG] ======================================================================

[2025-10-17T02:22:43.640Z] [LOG] ✅ Piyumi null: Calculation completed successfully
[2025-10-17T02:22:43.640Z] [LOG] 📊 Progress: 16/34 (47.1%)
[2025-10-17T02:22:43.640Z] [LOG] 
🧮 Processing: Sujevan Selvaratnam null (EMP000026)
[2025-10-17T02:22:43.641Z] [LOG] 📋 Record ID: 38120b9e-af6f-4032-ac33-a1deefacd68b
[2025-10-17T02:22:43.641Z] [LOG] 
======================================================================
[2025-10-17T02:22:43.641Z] [LOG] 🧮 CALCULATING PAYROLL: Sujevan Selvaratnam null (EMP000026)
[2025-10-17T02:22:43.641Z] [LOG] ======================================================================
[2025-10-17T02:22:44.347Z] [LOG] 🔍 Component filtering for employee 0143e6c3-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:44.348Z] [LOG]    Total components: 9
[2025-10-17T02:22:44.348Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:44.348Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:22:45.054Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:45.055Z] [LOG] 🔄 Processing financial records for employee 0143e6c3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:45.230Z] [LOG] 📊 Found 0 active loans for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:45.413Z] [LOG] 📊 Found 0 active advances for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:45.594Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:45.595Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:45.595Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:45.595Z] [LOG] 💰 GROSS CALCULATION for Sujevan Selvaratnam null:
[2025-10-17T02:22:45.596Z] [LOG]    Base Salary: 1
[2025-10-17T02:22:45.596Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:45.773Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:45.949Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:45.949Z] [LOG]    Employee ID: 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:45.949Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:45.950Z] [LOG]    Base Salary: Rs.1.00
[2025-10-17T02:22:46.128Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:46.129Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-17T02:22:46.129Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T02:22:46.129Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T02:22:46.130Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:46.307Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:46.308Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:46.308Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:46.308Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:46.309Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:46.309Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:46.309Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:46.310Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:46.310Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:46.310Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:46.311Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T02:22:46.311Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:46.311Z] [LOG]       Base Salary: Rs.1.00
[2025-10-17T02:22:46.313Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T02:22:46.313Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:46.313Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-17T02:22:46.314Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-17T02:22:46.314Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:46.314Z] [LOG]    Gross Salary: 1
[2025-10-17T02:22:46.315Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:46.315Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:46.315Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.316Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:46.316Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.316Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:46.316Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.317Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:46.317Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.317Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:46.317Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.317Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:46.318Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.318Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:46.318Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.318Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:46.318Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.318Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:46.318Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:46.319Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:46.319Z] [LOG] Regular deductions for Sujevan Selvaratnam null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:46.319Z] [LOG] Combined deductions for Sujevan Selvaratnam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-17T02:22:46.507Z] [LOG] Creating components for record 38120b9e-af6f-4032-ac33-a1deefacd68b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:46.508Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-17T02:22:46.684Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:46.861Z] [LOG] Created payroll_record_component: 4c0bf810-c051-4993-9466-3fb5ea6a2ff1 for Attendance Deduction
[2025-10-17T02:22:47.227Z] [LOG] ✅ Financial balances updated successfully for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:47.227Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:47.228Z] [LOG] 
======================================================================
[2025-10-17T02:22:47.228Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sujevan Selvaratnam null
[2025-10-17T02:22:47.229Z] [LOG] ======================================================================
[2025-10-17T02:22:47.229Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-17T02:22:47.229Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-17T02:22:47.229Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-17T02:22:47.230Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:47.230Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:47.230Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:47.231Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T02:22:47.231Z] [LOG] ======================================================================

[2025-10-17T02:22:47.231Z] [LOG] ✅ Sujevan Selvaratnam null: Calculation completed successfully
[2025-10-17T02:22:47.232Z] [LOG] 📊 Progress: 17/34 (50.0%)
[2025-10-17T02:22:47.232Z] [LOG] 
🧮 Processing: Ruvindu Hewabandu null (EMP000027)
[2025-10-17T02:22:47.233Z] [LOG] 📋 Record ID: 0d2fd81e-f777-4d8b-9e6a-b3d360dd33ce
[2025-10-17T02:22:47.233Z] [LOG] 
======================================================================
[2025-10-17T02:22:47.233Z] [LOG] 🧮 CALCULATING PAYROLL: Ruvindu Hewabandu null (EMP000027)
[2025-10-17T02:22:47.233Z] [LOG] ======================================================================
[2025-10-17T02:22:47.936Z] [LOG] 🔍 Component filtering for employee 0143e915-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:47.936Z] [LOG]    Total components: 9
[2025-10-17T02:22:47.937Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:47.937Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:22:48.640Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:48.641Z] [LOG] 🔄 Processing financial records for employee 0143e915-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:48.816Z] [LOG] 📊 Found 0 active loans for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:48.992Z] [LOG] 📊 Found 0 active advances for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:49.167Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:49.168Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:49.169Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:49.169Z] [LOG] 💰 GROSS CALCULATION for Ruvindu Hewabandu null:
[2025-10-17T02:22:49.169Z] [LOG]    Base Salary: 0
[2025-10-17T02:22:49.169Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:49.347Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:49.524Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:49.524Z] [LOG]    Employee ID: 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:49.524Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:49.525Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T02:22:49.702Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:49.703Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T02:22:49.703Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T02:22:49.704Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T02:22:49.704Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:49.879Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:49.880Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:49.880Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:49.880Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:49.881Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:49.881Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:49.881Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:49.882Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:49.882Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:49.882Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:49.883Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T02:22:49.883Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:49.883Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T02:22:49.884Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T02:22:49.884Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:49.884Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T02:22:49.885Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T02:22:49.885Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:49.885Z] [LOG]    Gross Salary: 0
[2025-10-17T02:22:49.886Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:49.886Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:49.886Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.887Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:49.887Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.887Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:49.887Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.888Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:49.888Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.888Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:49.889Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.889Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:49.889Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.889Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:49.890Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.890Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:49.890Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.890Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:49.890Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:49.890Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:49.890Z] [LOG] Regular deductions for Ruvindu Hewabandu null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:49.890Z] [LOG] Combined deductions for Ruvindu Hewabandu null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T02:22:50.070Z] [LOG] Creating components for record 0d2fd81e-f777-4d8b-9e6a-b3d360dd33ce: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:50.070Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T02:22:50.247Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:50.423Z] [LOG] Created payroll_record_component: df1753de-e313-4d4a-bfa7-4264bcfc7891 for Attendance Deduction
[2025-10-17T02:22:50.778Z] [LOG] ✅ Financial balances updated successfully for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:50.778Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:50.779Z] [LOG] 
======================================================================
[2025-10-17T02:22:50.779Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ruvindu Hewabandu null
[2025-10-17T02:22:50.779Z] [LOG] ======================================================================
[2025-10-17T02:22:50.779Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T02:22:50.780Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T02:22:50.780Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T02:22:50.781Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:50.781Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:50.781Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:50.782Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T02:22:50.782Z] [LOG] ======================================================================

[2025-10-17T02:22:50.782Z] [LOG] ✅ Ruvindu Hewabandu null: Calculation completed successfully
[2025-10-17T02:22:50.783Z] [LOG] 📊 Progress: 18/34 (52.9%)
[2025-10-17T02:22:50.783Z] [LOG] 
🧮 Processing: Rasanga null (EMP000028)
[2025-10-17T02:22:50.783Z] [LOG] 📋 Record ID: 4a9fca67-ce52-4d79-a407-05e2c973db51
[2025-10-17T02:22:50.784Z] [LOG] 
======================================================================
[2025-10-17T02:22:50.784Z] [LOG] 🧮 CALCULATING PAYROLL: Rasanga null (EMP000028)
[2025-10-17T02:22:50.784Z] [LOG] ======================================================================
[2025-10-17T02:22:51.489Z] [LOG] 🔍 Component filtering for employee 0143eaec-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:51.489Z] [LOG]    Total components: 9
[2025-10-17T02:22:51.490Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:51.490Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T02:22:52.196Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:52.197Z] [LOG] 🔄 Processing financial records for employee 0143eaec-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:52.375Z] [LOG] 📊 Found 0 active loans for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:52.550Z] [LOG] 📊 Found 0 active advances for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:52.726Z] [LOG] 📊 Found 0 approved bonuses for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:52.726Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:52.727Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:52.727Z] [LOG] 💰 GROSS CALCULATION for Rasanga null:
[2025-10-17T02:22:52.727Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:52.728Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:52.905Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:53.083Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:53.083Z] [LOG]    Employee ID: 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:53.083Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:53.084Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:53.261Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:53.261Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:53.262Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:53.262Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:53.262Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:53.449Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:53.450Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:53.450Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:53.450Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:53.451Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:53.451Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:53.451Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:53.452Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:53.452Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:53.452Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:53.452Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:53.453Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:53.453Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:53.453Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:53.454Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:53.454Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:53.454Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:53.454Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:53.455Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:53.455Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:53.455Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:53.455Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.456Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:53.456Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.456Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:53.456Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.456Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:53.456Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.456Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:53.457Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.457Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:53.457Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.457Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:53.457Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.457Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:53.457Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.457Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:53.458Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:53.458Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:53.458Z] [LOG] Regular deductions for Rasanga null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:53.458Z] [LOG] Combined deductions for Rasanga null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:53.637Z] [LOG] Creating components for record 4a9fca67-ce52-4d79-a407-05e2c973db51: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:53.637Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:53.814Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:53.991Z] [LOG] Created payroll_record_component: fff9ffcf-1da3-46be-b129-aea2ff74eb83 for Attendance Deduction
[2025-10-17T02:22:54.349Z] [LOG] ✅ Financial balances updated successfully for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:54.349Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:54.350Z] [LOG] 
======================================================================
[2025-10-17T02:22:54.350Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Rasanga null
[2025-10-17T02:22:54.350Z] [LOG] ======================================================================
[2025-10-17T02:22:54.350Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:54.351Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:54.351Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:54.351Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:54.352Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:54.352Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:54.353Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:54.353Z] [LOG] ======================================================================

[2025-10-17T02:22:54.353Z] [LOG] ✅ Rasanga null: Calculation completed successfully
[2025-10-17T02:22:54.354Z] [LOG] 📊 Progress: 19/34 (55.9%)
[2025-10-17T02:22:54.354Z] [LOG] 
🧮 Processing: Chamodi null (EMP000032)
[2025-10-17T02:22:54.354Z] [LOG] 📋 Record ID: d3d94b81-6851-4f4c-9c37-b161bcedd152
[2025-10-17T02:22:54.355Z] [LOG] 
======================================================================
[2025-10-17T02:22:54.355Z] [LOG] 🧮 CALCULATING PAYROLL: Chamodi null (EMP000032)
[2025-10-17T02:22:54.355Z] [LOG] ======================================================================
[2025-10-17T02:22:55.065Z] [LOG] 🔍 Component filtering for employee 0143f302-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:55.065Z] [LOG]    Total components: 9
[2025-10-17T02:22:55.065Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:55.066Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:22:55.773Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:55.773Z] [LOG] 🔄 Processing financial records for employee 0143f302-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:55.954Z] [LOG] 📊 Found 0 active loans for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:56.131Z] [LOG] 📊 Found 0 active advances for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:56.308Z] [LOG] 📊 Found 0 approved bonuses for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:56.309Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:56.310Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:56.310Z] [LOG] 💰 GROSS CALCULATION for Chamodi null:
[2025-10-17T02:22:56.310Z] [LOG]    Base Salary: 50000
[2025-10-17T02:22:56.311Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:22:56.489Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:22:56.670Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:22:56.670Z] [LOG]    Employee ID: 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:56.671Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:22:56.671Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:22:56.850Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:22:56.850Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:22:56.850Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:22:56.851Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:22:56.851Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:22:57.028Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:22:57.028Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:22:57.028Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:22:57.029Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:22:57.029Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:22:57.029Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:22:57.030Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:22:57.030Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:22:57.030Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:22:57.031Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:57.031Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:22:57.031Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:22:57.032Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:22:57.032Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:22:57.032Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:22:57.032Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:57.032Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:22:57.033Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:22:57.033Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:22:57.033Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:22:57.033Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:22:57.033Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.034Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:22:57.034Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.034Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:22:57.034Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.034Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:22:57.034Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.035Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:22:57.035Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.035Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:22:57.035Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.035Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:22:57.035Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.035Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:22:57.035Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.036Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:22:57.036Z] [LOG]    Fixed amount: 0
[2025-10-17T02:22:57.036Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:22:57.036Z] [LOG] Regular deductions for Chamodi null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:22:57.036Z] [LOG] Combined deductions for Chamodi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:22:57.213Z] [LOG] Creating components for record d3d94b81-6851-4f4c-9c37-b161bcedd152: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:22:57.213Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:22:57.393Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:22:57.570Z] [LOG] Created payroll_record_component: a54c3339-54a5-4c9b-a780-f3e6eedcef22 for Attendance Deduction
[2025-10-17T02:22:57.922Z] [LOG] ✅ Financial balances updated successfully for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:57.922Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:22:57.922Z] [LOG] 
======================================================================
[2025-10-17T02:22:57.923Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chamodi null
[2025-10-17T02:22:57.923Z] [LOG] ======================================================================
[2025-10-17T02:22:57.923Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:22:57.924Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:22:57.924Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:22:57.924Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:22:57.925Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:22:57.925Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:22:57.925Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:22:57.926Z] [LOG] ======================================================================

[2025-10-17T02:22:57.926Z] [LOG] ✅ Chamodi null: Calculation completed successfully
[2025-10-17T02:22:57.926Z] [LOG] 📊 Progress: 20/34 (58.8%)
[2025-10-17T02:22:57.927Z] [LOG] 
🧮 Processing: Shandeep null (EMP000034)
[2025-10-17T02:22:57.927Z] [LOG] 📋 Record ID: 619ec005-7aa9-47a9-90b6-d59eca07dcf8
[2025-10-17T02:22:57.927Z] [LOG] 
======================================================================
[2025-10-17T02:22:57.928Z] [LOG] 🧮 CALCULATING PAYROLL: Shandeep null (EMP000034)
[2025-10-17T02:22:57.928Z] [LOG] ======================================================================
[2025-10-17T02:22:58.634Z] [LOG] 🔍 Component filtering for employee 0143fc5a-7105-11f0-a50f-98e743540430:
[2025-10-17T02:22:58.634Z] [LOG]    Total components: 9
[2025-10-17T02:22:58.634Z] [LOG]    Applicable components: 9
[2025-10-17T02:22:58.635Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:22:59.343Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:22:59.343Z] [LOG] 🔄 Processing financial records for employee 0143fc5a-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:22:59.520Z] [LOG] 📊 Found 0 active loans for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:59.696Z] [LOG] 📊 Found 0 active advances for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:59.875Z] [LOG] 📊 Found 0 approved bonuses for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T02:22:59.876Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:22:59.877Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:22:59.877Z] [LOG] 💰 GROSS CALCULATION for Shandeep null:
[2025-10-17T02:22:59.877Z] [LOG]    Base Salary: 80000
[2025-10-17T02:22:59.878Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:00.057Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:00.232Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:00.232Z] [LOG]    Employee ID: 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:00.233Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:00.233Z] [LOG]    Base Salary: Rs.80000.00
[2025-10-17T02:23:00.413Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:00.414Z] [LOG]       Daily Salary: Rs.3200.00
[2025-10-17T02:23:00.414Z] [LOG]       Weekday Hourly Rate: Rs.376.47
[2025-10-17T02:23:00.414Z] [LOG]       Saturday Hourly Rate: Rs.376.47
[2025-10-17T02:23:00.415Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:00.591Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:00.592Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:00.592Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:00.592Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:00.593Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:00.593Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:00.593Z] [LOG]       Weekday: 17.00h × Rs.376.47 = Rs.6399.99
[2025-10-17T02:23:00.594Z] [LOG]       Saturday: 0.00h × Rs.376.47 = Rs.0.00
[2025-10-17T02:23:00.594Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:00.594Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:00.595Z] [LOG]       Total Earned Salary: Rs.6399.99
[2025-10-17T02:23:00.595Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:00.595Z] [LOG]       Base Salary: Rs.80000.00
[2025-10-17T02:23:00.595Z] [LOG]       Earned Salary: Rs.6399.99
[2025-10-17T02:23:00.596Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:00.596Z] [LOG]       Attendance Deduction: Rs.73600.01
[2025-10-17T02:23:00.596Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:00.597Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:00.597Z] [LOG]    Gross Salary: 80000
[2025-10-17T02:23:00.597Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:00.597Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:00.598Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.598Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:00.598Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.598Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:00.598Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.598Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:00.598Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.599Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:00.599Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.599Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:00.599Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.599Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:00.599Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.599Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:00.599Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.600Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:00.600Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:00.600Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:00.600Z] [LOG] Regular deductions for Shandeep null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:00.600Z] [LOG] Combined deductions for Shandeep null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 73600.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 73600.01
}
[2025-10-17T02:23:00.776Z] [LOG] Creating components for record 619ec005-7aa9-47a9-90b6-d59eca07dcf8: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:00.777Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 73600.01
}
[2025-10-17T02:23:00.953Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:01.134Z] [LOG] Created payroll_record_component: 298c7b57-c370-4f70-93dc-c9995091bdcf for Attendance Deduction
[2025-10-17T02:23:01.497Z] [LOG] ✅ Financial balances updated successfully for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:01.497Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:01.498Z] [LOG] 
======================================================================
[2025-10-17T02:23:01.498Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Shandeep null
[2025-10-17T02:23:01.499Z] [LOG] ======================================================================
[2025-10-17T02:23:01.499Z] [LOG]    Gross Salary: Rs.80000.00
[2025-10-17T02:23:01.499Z] [LOG]    Total Deductions: Rs.73600.01
[2025-10-17T02:23:01.499Z] [LOG]       - Attendance Deduction: Rs.73600.01
[2025-10-17T02:23:01.500Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:01.500Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:01.500Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:01.501Z] [LOG]    NET SALARY: Rs.6399.99
[2025-10-17T02:23:01.501Z] [LOG] ======================================================================

[2025-10-17T02:23:01.501Z] [LOG] ✅ Shandeep null: Calculation completed successfully
[2025-10-17T02:23:01.502Z] [LOG] 📊 Progress: 21/34 (61.8%)
[2025-10-17T02:23:01.502Z] [LOG] 
🧮 Processing: Maryam null (EMP000035)
[2025-10-17T02:23:01.502Z] [LOG] 📋 Record ID: b141828c-6d80-40a8-b483-5204a50a4fc3
[2025-10-17T02:23:01.503Z] [LOG] 
======================================================================
[2025-10-17T02:23:01.503Z] [LOG] 🧮 CALCULATING PAYROLL: Maryam null (EMP000035)
[2025-10-17T02:23:01.503Z] [LOG] ======================================================================
[2025-10-17T02:23:02.210Z] [LOG] 🔍 Component filtering for employee 01440221-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:02.210Z] [LOG]    Total components: 9
[2025-10-17T02:23:02.211Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:02.211Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T02:23:02.914Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:02.915Z] [LOG] 🔄 Processing financial records for employee 01440221-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:03.092Z] [LOG] 📊 Found 0 active loans for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:03.268Z] [LOG] 📊 Found 0 active advances for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:03.445Z] [LOG] 📊 Found 0 approved bonuses for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:03.446Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:03.446Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:03.446Z] [LOG] 💰 GROSS CALCULATION for Maryam null:
[2025-10-17T02:23:03.446Z] [LOG]    Base Salary: 40000
[2025-10-17T02:23:03.446Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:03.623Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:03.800Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:03.801Z] [LOG]    Employee ID: 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:03.801Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:03.801Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-17T02:23:03.976Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:03.977Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-17T02:23:03.977Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-17T02:23:03.978Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-17T02:23:03.978Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:04.156Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:04.156Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:04.157Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:04.157Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:04.157Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:04.158Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:04.158Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-17T02:23:04.158Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-17T02:23:04.158Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:04.159Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:04.159Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-17T02:23:04.159Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:04.159Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-17T02:23:04.160Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-17T02:23:04.160Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:04.160Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-17T02:23:04.161Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:04.161Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:04.161Z] [LOG]    Gross Salary: 40000
[2025-10-17T02:23:04.161Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:04.162Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:04.162Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.162Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:04.162Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.162Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:04.163Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.163Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:04.163Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.163Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:04.163Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.163Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:04.163Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.163Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:04.163Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.163Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:04.163Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.164Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:04.164Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:04.164Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:04.164Z] [LOG] Regular deductions for Maryam null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:04.164Z] [LOG] Combined deductions for Maryam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-17T02:23:04.355Z] [LOG] Creating components for record b141828c-6d80-40a8-b483-5204a50a4fc3: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:04.356Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-17T02:23:04.546Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:04.723Z] [LOG] Created payroll_record_component: aa546fc5-22d8-49db-8395-70a55711339a for Attendance Deduction
[2025-10-17T02:23:05.073Z] [LOG] ✅ Financial balances updated successfully for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:05.073Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:05.073Z] [LOG] 
======================================================================
[2025-10-17T02:23:05.074Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Maryam null
[2025-10-17T02:23:05.074Z] [LOG] ======================================================================
[2025-10-17T02:23:05.075Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-17T02:23:05.075Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-17T02:23:05.075Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-17T02:23:05.075Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:05.076Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:05.076Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:05.076Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-17T02:23:05.076Z] [LOG] ======================================================================

[2025-10-17T02:23:05.077Z] [LOG] ✅ Maryam null: Calculation completed successfully
[2025-10-17T02:23:05.077Z] [LOG] 📊 Progress: 22/34 (64.7%)
[2025-10-17T02:23:05.077Z] [LOG] 
🧮 Processing: customer null (EMP000036)
[2025-10-17T02:23:05.078Z] [LOG] 📋 Record ID: 7ebf1cc1-e34f-42d2-a110-356d84fe44e0
[2025-10-17T02:23:05.078Z] [LOG] 
======================================================================
[2025-10-17T02:23:05.078Z] [LOG] 🧮 CALCULATING PAYROLL: customer null (EMP000036)
[2025-10-17T02:23:05.078Z] [LOG] ======================================================================
[2025-10-17T02:23:05.783Z] [LOG] 🔍 Component filtering for employee 014409a2-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:05.783Z] [LOG]    Total components: 9
[2025-10-17T02:23:05.784Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:05.784Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:23:06.487Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:06.487Z] [LOG] 🔄 Processing financial records for employee 014409a2-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:06.663Z] [LOG] 📊 Found 0 active loans for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:06.839Z] [LOG] 📊 Found 0 active advances for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:07.015Z] [LOG] 📊 Found 0 approved bonuses for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:07.015Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:07.015Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:07.016Z] [LOG] 💰 GROSS CALCULATION for customer null:
[2025-10-17T02:23:07.016Z] [LOG]    Base Salary: 0
[2025-10-17T02:23:07.016Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:07.192Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:07.369Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:07.369Z] [LOG]    Employee ID: 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:07.370Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:07.370Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T02:23:07.547Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:07.547Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T02:23:07.547Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T02:23:07.548Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T02:23:07.548Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:07.725Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:07.725Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:07.725Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:07.726Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:07.726Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:07.726Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:07.727Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:07.727Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:07.727Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:07.728Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:07.728Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T02:23:07.728Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:07.728Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T02:23:07.729Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T02:23:07.729Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:07.729Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T02:23:07.729Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T02:23:07.730Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:07.730Z] [LOG]    Gross Salary: 0
[2025-10-17T02:23:07.730Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:07.730Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:07.730Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.731Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:07.731Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.731Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:07.731Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.731Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:07.732Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.732Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:07.732Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.732Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:07.732Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.732Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:07.732Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.733Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:07.733Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.733Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:07.733Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:07.733Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:07.733Z] [LOG] Regular deductions for customer null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:07.733Z] [LOG] Combined deductions for customer null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T02:23:07.909Z] [LOG] Creating components for record 7ebf1cc1-e34f-42d2-a110-356d84fe44e0: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:07.910Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T02:23:08.086Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:08.271Z] [LOG] Created payroll_record_component: 25b7f06a-9927-4729-a253-722b07bc8b71 for Attendance Deduction
[2025-10-17T02:23:08.624Z] [LOG] ✅ Financial balances updated successfully for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:08.624Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:08.625Z] [LOG] 
======================================================================
[2025-10-17T02:23:08.625Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: customer null
[2025-10-17T02:23:08.626Z] [LOG] ======================================================================
[2025-10-17T02:23:08.626Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T02:23:08.626Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T02:23:08.627Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T02:23:08.627Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:08.627Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:08.628Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:08.628Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T02:23:08.628Z] [LOG] ======================================================================

[2025-10-17T02:23:08.629Z] [LOG] ✅ customer null: Calculation completed successfully
[2025-10-17T02:23:08.629Z] [LOG] 📊 Progress: 23/34 (67.6%)
[2025-10-17T02:23:08.629Z] [LOG] 
🧮 Processing: Viruna Damsiha Cooray null (EMP000038)
[2025-10-17T02:23:08.630Z] [LOG] 📋 Record ID: 635c0ac1-9eb6-4366-8e8a-26f5934a51ba
[2025-10-17T02:23:08.630Z] [LOG] 
======================================================================
[2025-10-17T02:23:08.630Z] [LOG] 🧮 CALCULATING PAYROLL: Viruna Damsiha Cooray null (EMP000038)
[2025-10-17T02:23:08.631Z] [LOG] ======================================================================
[2025-10-17T02:23:09.357Z] [LOG] 🔍 Component filtering for employee 01441633-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:09.358Z] [LOG]    Total components: 9
[2025-10-17T02:23:09.358Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:09.359Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T02:23:10.067Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:10.068Z] [LOG] 🔄 Processing financial records for employee 01441633-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:10.244Z] [LOG] 📊 Found 0 active loans for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:10.419Z] [LOG] 📊 Found 0 active advances for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:10.603Z] [LOG] 📊 Found 0 approved bonuses for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:10.604Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:10.604Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:10.605Z] [LOG] 💰 GROSS CALCULATION for Viruna Damsiha Cooray null:
[2025-10-17T02:23:10.605Z] [LOG]    Base Salary: 50000
[2025-10-17T02:23:10.605Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:10.783Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:10.966Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:10.967Z] [LOG]    Employee ID: 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:10.967Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:10.967Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:23:11.148Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:11.149Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:23:11.149Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:23:11.149Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:23:11.150Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:11.326Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:11.326Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:11.326Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:11.327Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:11.327Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:11.327Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:11.328Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:23:11.328Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:23:11.328Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:11.329Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:11.329Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:23:11.329Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:11.330Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:23:11.330Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:23:11.330Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:11.331Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:11.331Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:11.331Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:11.332Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:23:11.332Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:11.332Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:11.333Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.333Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:11.333Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.333Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:11.334Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.334Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:11.334Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.335Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:11.335Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.335Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:11.335Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.335Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:11.335Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.335Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:11.335Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.336Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:11.336Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:11.336Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:11.336Z] [LOG] Regular deductions for Viruna Damsiha Cooray null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:11.336Z] [LOG] Combined deductions for Viruna Damsiha Cooray null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:23:11.512Z] [LOG] Creating components for record 635c0ac1-9eb6-4366-8e8a-26f5934a51ba: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:11.513Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:23:11.689Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:11.867Z] [LOG] Created payroll_record_component: 08f10851-72dd-4206-9781-f58deb08a7b3 for Attendance Deduction
[2025-10-17T02:23:12.221Z] [LOG] ✅ Financial balances updated successfully for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:12.222Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:12.222Z] [LOG] 
======================================================================
[2025-10-17T02:23:12.222Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Viruna Damsiha Cooray null
[2025-10-17T02:23:12.223Z] [LOG] ======================================================================
[2025-10-17T02:23:12.223Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:23:12.224Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:23:12.224Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:12.224Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:12.225Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:12.225Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:12.225Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:23:12.226Z] [LOG] ======================================================================

[2025-10-17T02:23:12.226Z] [LOG] ✅ Viruna Damsiha Cooray null: Calculation completed successfully
[2025-10-17T02:23:12.226Z] [LOG] 📊 Progress: 24/34 (70.6%)
[2025-10-17T02:23:12.227Z] [LOG] 
🧮 Processing: Sithira null (EMP000039)
[2025-10-17T02:23:12.227Z] [LOG] 📋 Record ID: a6ba6b95-e92b-4cd8-b24a-f635792f7797
[2025-10-17T02:23:12.227Z] [LOG] 
======================================================================
[2025-10-17T02:23:12.228Z] [LOG] 🧮 CALCULATING PAYROLL: Sithira null (EMP000039)
[2025-10-17T02:23:12.228Z] [LOG] ======================================================================
[2025-10-17T02:23:12.934Z] [LOG] 🔍 Component filtering for employee 01441e19-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:12.935Z] [LOG]    Total components: 9
[2025-10-17T02:23:12.935Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:12.935Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T02:23:13.642Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:13.643Z] [LOG] 🔄 Processing financial records for employee 01441e19-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:13.821Z] [LOG] 📊 Found 0 active loans for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:13.998Z] [LOG] 📊 Found 0 active advances for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:14.177Z] [LOG] 📊 Found 0 approved bonuses for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:14.179Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:14.181Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:14.183Z] [LOG] 💰 GROSS CALCULATION for Sithira null:
[2025-10-17T02:23:14.184Z] [LOG]    Base Salary: 40000
[2025-10-17T02:23:14.184Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:14.360Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:14.545Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:14.546Z] [LOG]    Employee ID: 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:14.546Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:14.546Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-17T02:23:14.728Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:14.729Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-17T02:23:14.729Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-17T02:23:14.730Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-17T02:23:14.730Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:14.906Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:14.907Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:14.907Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:14.907Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:14.908Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:14.908Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:14.908Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-17T02:23:14.909Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-17T02:23:14.909Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:14.909Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:14.910Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-17T02:23:14.910Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:14.910Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-17T02:23:14.911Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-17T02:23:14.911Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:14.911Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-17T02:23:14.912Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:14.912Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:14.912Z] [LOG]    Gross Salary: 40000
[2025-10-17T02:23:14.913Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:14.913Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:14.913Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.913Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:14.914Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.914Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:14.914Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.914Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:14.914Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.914Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:14.914Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.914Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:14.914Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.914Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:14.915Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.915Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:14.915Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.915Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:14.915Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:14.915Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:14.915Z] [LOG] Regular deductions for Sithira null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:14.915Z] [LOG] Combined deductions for Sithira null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-17T02:23:15.092Z] [LOG] Creating components for record a6ba6b95-e92b-4cd8-b24a-f635792f7797: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:15.093Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-17T02:23:15.270Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:15.448Z] [LOG] Created payroll_record_component: 6e07d75b-6fd1-4512-9bc4-d98a9b521b11 for Attendance Deduction
[2025-10-17T02:23:15.799Z] [LOG] ✅ Financial balances updated successfully for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:15.800Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:15.800Z] [LOG] 
======================================================================
[2025-10-17T02:23:15.800Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sithira null
[2025-10-17T02:23:15.801Z] [LOG] ======================================================================
[2025-10-17T02:23:15.801Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-17T02:23:15.801Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-17T02:23:15.802Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-17T02:23:15.802Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:15.802Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:15.802Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:15.803Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-17T02:23:15.803Z] [LOG] ======================================================================

[2025-10-17T02:23:15.803Z] [LOG] ✅ Sithira null: Calculation completed successfully
[2025-10-17T02:23:15.804Z] [LOG] 📊 Progress: 25/34 (73.5%)
[2025-10-17T02:23:15.804Z] [LOG] 
🧮 Processing: Chemil null (EMP000040)
[2025-10-17T02:23:15.804Z] [LOG] 📋 Record ID: 9bf65e6e-a8a2-4833-8534-e6cd42de727b
[2025-10-17T02:23:15.804Z] [LOG] 
======================================================================
[2025-10-17T02:23:15.805Z] [LOG] 🧮 CALCULATING PAYROLL: Chemil null (EMP000040)
[2025-10-17T02:23:15.805Z] [LOG] ======================================================================
[2025-10-17T02:23:16.511Z] [LOG] 🔍 Component filtering for employee 01442599-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:16.511Z] [LOG]    Total components: 9
[2025-10-17T02:23:16.512Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:16.512Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:23:17.216Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:17.217Z] [LOG] 🔄 Processing financial records for employee 01442599-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:17.397Z] [LOG] 📊 Found 0 active loans for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:17.571Z] [LOG] 📊 Found 0 active advances for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:17.748Z] [LOG] 📊 Found 0 approved bonuses for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:17.749Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:17.749Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:17.750Z] [LOG] 💰 GROSS CALCULATION for Chemil null:
[2025-10-17T02:23:17.750Z] [LOG]    Base Salary: 250000
[2025-10-17T02:23:17.751Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:17.927Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:18.104Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:18.105Z] [LOG]    Employee ID: 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:18.105Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:18.106Z] [LOG]    Base Salary: Rs.250000.00
[2025-10-17T02:23:18.285Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:18.286Z] [LOG]       Daily Salary: Rs.10000.00
[2025-10-17T02:23:18.286Z] [LOG]       Weekday Hourly Rate: Rs.1176.47
[2025-10-17T02:23:18.287Z] [LOG]       Saturday Hourly Rate: Rs.1176.47
[2025-10-17T02:23:18.287Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:18.465Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:18.465Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:18.465Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:18.466Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:18.466Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:18.466Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:18.467Z] [LOG]       Weekday: 17.00h × Rs.1176.47 = Rs.19999.99
[2025-10-17T02:23:18.467Z] [LOG]       Saturday: 0.00h × Rs.1176.47 = Rs.0.00
[2025-10-17T02:23:18.468Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:18.468Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:18.468Z] [LOG]       Total Earned Salary: Rs.19999.99
[2025-10-17T02:23:18.469Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:18.469Z] [LOG]       Base Salary: Rs.250000.00
[2025-10-17T02:23:18.469Z] [LOG]       Earned Salary: Rs.19999.99
[2025-10-17T02:23:18.470Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:18.470Z] [LOG]       Attendance Deduction: Rs.230000.01
[2025-10-17T02:23:18.470Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:18.471Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:18.471Z] [LOG]    Gross Salary: 250000
[2025-10-17T02:23:18.471Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:18.472Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:18.472Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.472Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:18.473Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.473Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:18.473Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.474Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:18.474Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.474Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:18.475Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.475Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:18.475Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.475Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:18.476Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.476Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:18.476Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.476Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:18.476Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:18.476Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:18.476Z] [LOG] Regular deductions for Chemil null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:18.477Z] [LOG] Combined deductions for Chemil null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 230000.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 230000.01
}
[2025-10-17T02:23:18.657Z] [LOG] Creating components for record 9bf65e6e-a8a2-4833-8534-e6cd42de727b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-17T02:23:18.658Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 230000.01
}
[2025-10-17T02:23:18.836Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:19.015Z] [LOG] Created payroll_record_component: f3767be0-54cf-4d09-8a52-f3a3122619d4 for Attendance Deduction
[2025-10-17T02:23:19.016Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 12000
}
[2025-10-17T02:23:19.192Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-17T02:23:19.370Z] [LOG] Created payroll_record_component: ea19d666-564c-4c29-bd52-a7774b802136 for Income Tax
[2025-10-17T02:23:19.722Z] [LOG] ✅ Financial balances updated successfully for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:19.722Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:19.722Z] [LOG] 
======================================================================
[2025-10-17T02:23:19.723Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chemil null
[2025-10-17T02:23:19.723Z] [LOG] ======================================================================
[2025-10-17T02:23:19.724Z] [LOG]    Gross Salary: Rs.250000.00
[2025-10-17T02:23:19.724Z] [LOG]    Total Deductions: Rs.230000.01
[2025-10-17T02:23:19.724Z] [LOG]       - Attendance Deduction: Rs.230000.01
[2025-10-17T02:23:19.725Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:19.725Z] [LOG]    Total Taxes: Rs.12000.00
[2025-10-17T02:23:19.725Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:19.726Z] [LOG]    NET SALARY: Rs.7999.99
[2025-10-17T02:23:19.726Z] [LOG] ======================================================================

[2025-10-17T02:23:19.726Z] [LOG] ✅ Chemil null: Calculation completed successfully
[2025-10-17T02:23:19.727Z] [LOG] 📊 Progress: 26/34 (76.5%)
[2025-10-17T02:23:19.727Z] [LOG] 
🧮 Processing: Office Team null (EMP000041)
[2025-10-17T02:23:19.727Z] [LOG] 📋 Record ID: 53f5da17-044f-46f5-8a53-6d35332abc9d
[2025-10-17T02:23:19.728Z] [LOG] 
======================================================================
[2025-10-17T02:23:19.728Z] [LOG] 🧮 CALCULATING PAYROLL: Office Team null (EMP000041)
[2025-10-17T02:23:19.728Z] [LOG] ======================================================================
[2025-10-17T02:23:20.434Z] [LOG] 🔍 Component filtering for employee 01442b21-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:20.434Z] [LOG]    Total components: 9
[2025-10-17T02:23:20.434Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:20.435Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:23:21.164Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:21.164Z] [LOG] 🔄 Processing financial records for employee 01442b21-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:21.345Z] [LOG] 📊 Found 0 active loans for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:21.524Z] [LOG] 📊 Found 0 active advances for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:21.701Z] [LOG] 📊 Found 0 approved bonuses for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:21.701Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:21.702Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:21.702Z] [LOG] 💰 GROSS CALCULATION for Office Team null:
[2025-10-17T02:23:21.703Z] [LOG]    Base Salary: 1
[2025-10-17T02:23:21.703Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:21.880Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:22.057Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:22.057Z] [LOG]    Employee ID: 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:22.058Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:22.058Z] [LOG]    Base Salary: Rs.1.00
[2025-10-17T02:23:22.236Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:22.237Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-17T02:23:22.237Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T02:23:22.237Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T02:23:22.238Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:22.416Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:22.416Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:22.417Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:22.417Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:22.417Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:22.418Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:22.418Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:22.418Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:22.419Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:22.419Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:22.419Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T02:23:22.420Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:22.420Z] [LOG]       Base Salary: Rs.1.00
[2025-10-17T02:23:22.420Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T02:23:22.421Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:22.421Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-17T02:23:22.421Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-17T02:23:22.422Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:22.422Z] [LOG]    Gross Salary: 1
[2025-10-17T02:23:22.422Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:22.423Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:22.423Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.423Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:22.423Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.424Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:22.424Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.424Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:22.425Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.425Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:22.425Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.425Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:22.425Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.425Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:22.426Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.426Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:22.426Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.426Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:22.426Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:22.426Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:22.426Z] [LOG] Regular deductions for Office Team null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:22.427Z] [LOG] Combined deductions for Office Team null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-17T02:23:22.606Z] [LOG] Creating components for record 53f5da17-044f-46f5-8a53-6d35332abc9d: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:22.607Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-17T02:23:22.782Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:22.961Z] [LOG] Created payroll_record_component: c9bb951c-d24a-47b9-8a58-17e093877b88 for Attendance Deduction
[2025-10-17T02:23:23.313Z] [LOG] ✅ Financial balances updated successfully for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:23.313Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:23.314Z] [LOG] 
======================================================================
[2025-10-17T02:23:23.314Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Office Team null
[2025-10-17T02:23:23.314Z] [LOG] ======================================================================
[2025-10-17T02:23:23.315Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-17T02:23:23.315Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-17T02:23:23.315Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-17T02:23:23.316Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:23.316Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:23.316Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:23.317Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T02:23:23.317Z] [LOG] ======================================================================

[2025-10-17T02:23:23.317Z] [LOG] ✅ Office Team null: Calculation completed successfully
[2025-10-17T02:23:23.318Z] [LOG] 📊 Progress: 27/34 (79.4%)
[2025-10-17T02:23:23.318Z] [LOG] 
🧮 Processing: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-17T02:23:23.318Z] [LOG] 📋 Record ID: 81b9be0a-fd24-404f-80cd-41f20c476ae1
[2025-10-17T02:23:23.319Z] [LOG] 
======================================================================
[2025-10-17T02:23:23.319Z] [LOG] 🧮 CALCULATING PAYROLL: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-17T02:23:23.319Z] [LOG] ======================================================================
[2025-10-17T02:23:24.024Z] [LOG] 🔍 Component filtering for employee 0144315c-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:24.024Z] [LOG]    Total components: 9
[2025-10-17T02:23:24.025Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:24.025Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T02:23:24.730Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:24.731Z] [LOG] 🔄 Processing financial records for employee 0144315c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:24.907Z] [LOG] 📊 Found 0 active loans for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:25.081Z] [LOG] 📊 Found 0 active advances for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:25.258Z] [LOG] 📊 Found 0 approved bonuses for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:25.258Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:25.259Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:25.259Z] [LOG] 💰 GROSS CALCULATION for G.M Supathala Sadaru Madhushan null:
[2025-10-17T02:23:25.260Z] [LOG]    Base Salary: 50000
[2025-10-17T02:23:25.260Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:25.451Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:25.628Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:25.628Z] [LOG]    Employee ID: 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:25.629Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:25.629Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:23:25.809Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:25.809Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:23:25.810Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:23:25.810Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:23:25.810Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:25.990Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:25.991Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:25.991Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:25.991Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:25.992Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:25.992Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:25.992Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:23:25.993Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:23:25.993Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:25.993Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:25.994Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:23:25.994Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:25.994Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:23:25.995Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:23:25.995Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:25.995Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:25.996Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:25.996Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:25.996Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:23:25.997Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:25.997Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:25.997Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:25.998Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:25.998Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:25.998Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:25.999Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:25.999Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:25.999Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:25.999Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:26.000Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:26.000Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:26.000Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:26.001Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:26.001Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:26.001Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:26.001Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:26.001Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:26.001Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:26.002Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:26.002Z] [LOG] Regular deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:26.002Z] [LOG] Combined deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:23:26.186Z] [LOG] Creating components for record 81b9be0a-fd24-404f-80cd-41f20c476ae1: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:26.187Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:23:26.363Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:26.542Z] [LOG] Created payroll_record_component: 69b155ba-9041-44ff-be04-32d681f70a1e for Attendance Deduction
[2025-10-17T02:23:26.904Z] [LOG] ✅ Financial balances updated successfully for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:26.905Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:26.905Z] [LOG] 
======================================================================
[2025-10-17T02:23:26.905Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: G.M Supathala Sadaru Madhushan null
[2025-10-17T02:23:26.906Z] [LOG] ======================================================================
[2025-10-17T02:23:26.906Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:23:26.906Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:23:26.907Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:26.907Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:26.907Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:26.908Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:26.908Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:23:26.908Z] [LOG] ======================================================================

[2025-10-17T02:23:26.909Z] [LOG] ✅ G.M Supathala Sadaru Madhushan null: Calculation completed successfully
[2025-10-17T02:23:26.909Z] [LOG] 📊 Progress: 28/34 (82.4%)
[2025-10-17T02:23:26.909Z] [LOG] 
🧮 Processing: P.D.P Dilini Madushani null (EMP000043)
[2025-10-17T02:23:26.909Z] [LOG] 📋 Record ID: ffdc8757-1551-4c69-af6c-40d7c8ea38c6
[2025-10-17T02:23:26.910Z] [LOG] 
======================================================================
[2025-10-17T02:23:26.910Z] [LOG] 🧮 CALCULATING PAYROLL: P.D.P Dilini Madushani null (EMP000043)
[2025-10-17T02:23:26.910Z] [LOG] ======================================================================
[2025-10-17T02:23:27.616Z] [LOG] 🔍 Component filtering for employee 014435dc-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:27.617Z] [LOG]    Total components: 9
[2025-10-17T02:23:27.617Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:27.617Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T02:23:28.324Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:28.324Z] [LOG] 🔄 Processing financial records for employee 014435dc-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:28.502Z] [LOG] 📊 Found 0 active loans for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:28.679Z] [LOG] 📊 Found 0 active advances for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:28.856Z] [LOG] 📊 Found 0 approved bonuses for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:28.857Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:28.858Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:28.858Z] [LOG] 💰 GROSS CALCULATION for P.D.P Dilini Madushani null:
[2025-10-17T02:23:28.858Z] [LOG]    Base Salary: 50000
[2025-10-17T02:23:28.859Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:29.037Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:29.212Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:29.213Z] [LOG]    Employee ID: 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:29.213Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:29.214Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:23:29.390Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:29.391Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:23:29.391Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:23:29.391Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:23:29.392Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:29.569Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:29.570Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:29.570Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:29.570Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:29.571Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:29.571Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:29.572Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:23:29.572Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:23:29.572Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:29.572Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:29.573Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:23:29.573Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:29.573Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:23:29.574Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:23:29.574Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:29.574Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:29.575Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:29.575Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:29.575Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:23:29.575Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:29.576Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:29.576Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.576Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:29.577Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.577Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:29.577Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.578Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:29.578Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.578Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:29.578Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.579Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:29.579Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.579Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:29.579Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.579Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:29.579Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.580Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:29.580Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:29.580Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:29.580Z] [LOG] Regular deductions for P.D.P Dilini Madushani null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:29.580Z] [LOG] Combined deductions for P.D.P Dilini Madushani null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:23:29.757Z] [LOG] Creating components for record ffdc8757-1551-4c69-af6c-40d7c8ea38c6: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:29.758Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:23:29.934Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:30.117Z] [LOG] Created payroll_record_component: 3d494624-1bd2-461d-b3b9-8b3469ecdf75 for Attendance Deduction
[2025-10-17T02:23:30.474Z] [LOG] ✅ Financial balances updated successfully for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:30.474Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:30.475Z] [LOG] 
======================================================================
[2025-10-17T02:23:30.475Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: P.D.P Dilini Madushani null
[2025-10-17T02:23:30.475Z] [LOG] ======================================================================
[2025-10-17T02:23:30.476Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:23:30.476Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:23:30.476Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:30.477Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:30.477Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:30.478Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:30.478Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:23:30.478Z] [LOG] ======================================================================

[2025-10-17T02:23:30.479Z] [LOG] ✅ P.D.P Dilini Madushani null: Calculation completed successfully
[2025-10-17T02:23:30.479Z] [LOG] 📊 Progress: 29/34 (85.3%)
[2025-10-17T02:23:30.479Z] [LOG] 
🧮 Processing: R. D.A Kaushalya null (EMP000044)
[2025-10-17T02:23:30.480Z] [LOG] 📋 Record ID: 85389519-7906-40c5-976e-aa08474e0ea4
[2025-10-17T02:23:30.480Z] [LOG] 
======================================================================
[2025-10-17T02:23:30.480Z] [LOG] 🧮 CALCULATING PAYROLL: R. D.A Kaushalya null (EMP000044)
[2025-10-17T02:23:30.481Z] [LOG] ======================================================================
[2025-10-17T02:23:31.185Z] [LOG] 🔍 Component filtering for employee 01443963-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:31.186Z] [LOG]    Total components: 9
[2025-10-17T02:23:31.186Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:31.186Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:23:31.890Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:31.890Z] [LOG] 🔄 Processing financial records for employee 01443963-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:32.066Z] [LOG] 📊 Found 0 active loans for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:32.243Z] [LOG] 📊 Found 0 active advances for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:32.419Z] [LOG] 📊 Found 0 approved bonuses for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:32.420Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:32.420Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:32.420Z] [LOG] 💰 GROSS CALCULATION for R. D.A Kaushalya null:
[2025-10-17T02:23:32.420Z] [LOG]    Base Salary: 50000
[2025-10-17T02:23:32.421Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:32.596Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:32.771Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:32.771Z] [LOG]    Employee ID: 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:32.771Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:32.771Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:23:32.946Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:32.946Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:23:32.946Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:23:32.947Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:23:32.947Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:33.131Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:33.131Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:33.131Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:33.132Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:33.132Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:33.132Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:33.133Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:23:33.133Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:23:33.133Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:33.133Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:33.133Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:23:33.133Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:33.134Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:23:33.134Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:23:33.134Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:33.134Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:33.134Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:33.134Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:33.135Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:23:33.135Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:33.135Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:33.135Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.135Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:33.135Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.136Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:33.136Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.136Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:33.136Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.136Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:33.136Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.136Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:33.136Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.136Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:33.136Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.136Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:33.137Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.137Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:33.137Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:33.137Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:33.137Z] [LOG] Regular deductions for R. D.A Kaushalya null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:33.137Z] [LOG] Combined deductions for R. D.A Kaushalya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:23:33.314Z] [LOG] Creating components for record 85389519-7906-40c5-976e-aa08474e0ea4: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:33.314Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:23:33.492Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:33.669Z] [LOG] Created payroll_record_component: 0d8a6d89-b76a-4bdc-a768-d5d2f59b6a15 for Attendance Deduction
[2025-10-17T02:23:34.026Z] [LOG] ✅ Financial balances updated successfully for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:34.027Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:34.027Z] [LOG] 
======================================================================
[2025-10-17T02:23:34.028Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: R. D.A Kaushalya null
[2025-10-17T02:23:34.028Z] [LOG] ======================================================================
[2025-10-17T02:23:34.028Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:23:34.028Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:23:34.029Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:34.029Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:34.029Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:34.029Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:34.030Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:23:34.030Z] [LOG] ======================================================================

[2025-10-17T02:23:34.030Z] [LOG] ✅ R. D.A Kaushalya null: Calculation completed successfully
[2025-10-17T02:23:34.030Z] [LOG] 📊 Progress: 30/34 (88.2%)
[2025-10-17T02:23:34.031Z] [LOG] 
🧮 Processing: Nimdiya Ranasinghe null (EMP000045)
[2025-10-17T02:23:34.031Z] [LOG] 📋 Record ID: eac6a021-0349-4a28-b300-315acca50814
[2025-10-17T02:23:34.031Z] [LOG] 
======================================================================
[2025-10-17T02:23:34.031Z] [LOG] 🧮 CALCULATING PAYROLL: Nimdiya Ranasinghe null (EMP000045)
[2025-10-17T02:23:34.032Z] [LOG] ======================================================================
[2025-10-17T02:23:34.739Z] [LOG] 🔍 Component filtering for employee 01444074-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:34.740Z] [LOG]    Total components: 9
[2025-10-17T02:23:34.740Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:34.740Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:23:35.444Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:35.444Z] [LOG] 🔄 Processing financial records for employee 01444074-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:35.619Z] [LOG] 📊 Found 0 active loans for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:35.795Z] [LOG] 📊 Found 0 active advances for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:35.971Z] [LOG] 📊 Found 0 approved bonuses for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:35.971Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:35.972Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:35.972Z] [LOG] 💰 GROSS CALCULATION for Nimdiya Ranasinghe null:
[2025-10-17T02:23:35.973Z] [LOG]    Base Salary: 35000
[2025-10-17T02:23:35.973Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:36.148Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:36.324Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:36.324Z] [LOG]    Employee ID: 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:36.325Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:36.325Z] [LOG]    Base Salary: Rs.35000.00
[2025-10-17T02:23:36.501Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:36.501Z] [LOG]       Daily Salary: Rs.1400.00
[2025-10-17T02:23:36.501Z] [LOG]       Weekday Hourly Rate: Rs.164.71
[2025-10-17T02:23:36.502Z] [LOG]       Saturday Hourly Rate: Rs.164.71
[2025-10-17T02:23:36.502Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:36.679Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:36.679Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:36.680Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:36.680Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:36.680Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:36.680Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:36.680Z] [LOG]       Weekday: 17.00h × Rs.164.71 = Rs.2800.07
[2025-10-17T02:23:36.680Z] [LOG]       Saturday: 0.00h × Rs.164.71 = Rs.0.00
[2025-10-17T02:23:36.681Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:36.681Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:36.681Z] [LOG]       Total Earned Salary: Rs.2800.07
[2025-10-17T02:23:36.681Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:36.681Z] [LOG]       Base Salary: Rs.35000.00
[2025-10-17T02:23:36.681Z] [LOG]       Earned Salary: Rs.2800.07
[2025-10-17T02:23:36.681Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:36.681Z] [LOG]       Attendance Deduction: Rs.32199.93
[2025-10-17T02:23:36.682Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:36.682Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:36.682Z] [LOG]    Gross Salary: 35000
[2025-10-17T02:23:36.682Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:36.682Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:36.682Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.682Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:36.682Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.682Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:36.682Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.682Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:36.682Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.683Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:36.683Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.683Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:36.683Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.683Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:36.683Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.683Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:36.683Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.683Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:36.683Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:36.683Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:36.683Z] [LOG] Regular deductions for Nimdiya Ranasinghe null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:36.684Z] [LOG] Combined deductions for Nimdiya Ranasinghe null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 32199.93,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 32199.93
}
[2025-10-17T02:23:36.860Z] [LOG] Creating components for record eac6a021-0349-4a28-b300-315acca50814: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:36.861Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 32199.93
}
[2025-10-17T02:23:37.038Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:37.215Z] [LOG] Created payroll_record_component: 8f125384-f3b3-4168-a6c4-7720ff180c35 for Attendance Deduction
[2025-10-17T02:23:37.570Z] [LOG] ✅ Financial balances updated successfully for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:37.570Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:37.571Z] [LOG] 
======================================================================
[2025-10-17T02:23:37.571Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Nimdiya Ranasinghe null
[2025-10-17T02:23:37.571Z] [LOG] ======================================================================
[2025-10-17T02:23:37.571Z] [LOG]    Gross Salary: Rs.35000.00
[2025-10-17T02:23:37.572Z] [LOG]    Total Deductions: Rs.32199.93
[2025-10-17T02:23:37.572Z] [LOG]       - Attendance Deduction: Rs.32199.93
[2025-10-17T02:23:37.572Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:37.572Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:37.572Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:37.572Z] [LOG]    NET SALARY: Rs.2800.07
[2025-10-17T02:23:37.572Z] [LOG] ======================================================================

[2025-10-17T02:23:37.572Z] [LOG] ✅ Nimdiya Ranasinghe null: Calculation completed successfully
[2025-10-17T02:23:37.573Z] [LOG] 📊 Progress: 31/34 (91.2%)
[2025-10-17T02:23:37.573Z] [LOG] 
🧮 Processing: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-17T02:23:37.574Z] [LOG] 📋 Record ID: 8a30f8a0-fe66-4d1d-9b2c-2c38860878c1
[2025-10-17T02:23:37.574Z] [LOG] 
======================================================================
[2025-10-17T02:23:37.574Z] [LOG] 🧮 CALCULATING PAYROLL: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-17T02:23:37.574Z] [LOG] ======================================================================
[2025-10-17T02:23:38.275Z] [LOG] 🔍 Component filtering for employee 0144461e-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:38.275Z] [LOG]    Total components: 9
[2025-10-17T02:23:38.275Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:38.275Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:23:38.975Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:38.976Z] [LOG] 🔄 Processing financial records for employee 0144461e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:39.153Z] [LOG] 📊 Found 0 active loans for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:39.327Z] [LOG] 📊 Found 0 active advances for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:39.505Z] [LOG] 📊 Found 0 approved bonuses for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:39.506Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:39.506Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:39.506Z] [LOG] 💰 GROSS CALCULATION for Ashen Nirmal Wadugodapitiya null:
[2025-10-17T02:23:39.506Z] [LOG]    Base Salary: 50000
[2025-10-17T02:23:39.506Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:39.684Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:39.860Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:39.860Z] [LOG]    Employee ID: 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:39.860Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:39.860Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:23:40.038Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:40.038Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:23:40.038Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:23:40.038Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:23:40.039Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:40.215Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:40.216Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:40.216Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:40.216Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:40.217Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:40.217Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:40.217Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T02:23:40.217Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:23:40.217Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:40.217Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:40.218Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T02:23:40.218Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:40.218Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:23:40.218Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T02:23:40.218Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:40.219Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:40.219Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:40.219Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:40.219Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:23:40.219Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:40.219Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:40.219Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.220Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:40.220Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.220Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:40.220Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.220Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:40.220Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.220Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:40.220Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.220Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:40.221Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.221Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:40.221Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.221Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:40.221Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.221Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:40.221Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:40.221Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:40.221Z] [LOG] Regular deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:40.222Z] [LOG] Combined deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T02:23:40.401Z] [LOG] Creating components for record 8a30f8a0-fe66-4d1d-9b2c-2c38860878c1: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:40.401Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T02:23:40.575Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:40.756Z] [LOG] Created payroll_record_component: 9ba500d5-7c8d-41a9-bf3f-2ac93ec039a6 for Attendance Deduction
[2025-10-17T02:23:41.108Z] [LOG] ✅ Financial balances updated successfully for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:41.108Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:41.109Z] [LOG] 
======================================================================
[2025-10-17T02:23:41.109Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ashen Nirmal Wadugodapitiya null
[2025-10-17T02:23:41.109Z] [LOG] ======================================================================
[2025-10-17T02:23:41.109Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:23:41.109Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T02:23:41.109Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T02:23:41.109Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:41.109Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:41.109Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:41.109Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T02:23:41.109Z] [LOG] ======================================================================

[2025-10-17T02:23:41.109Z] [LOG] ✅ Ashen Nirmal Wadugodapitiya null: Calculation completed successfully
[2025-10-17T02:23:41.109Z] [LOG] 📊 Progress: 32/34 (94.1%)
[2025-10-17T02:23:41.109Z] [LOG] 
🧮 Processing: Ratheeshanan null (EMP000047)
[2025-10-17T02:23:41.110Z] [LOG] 📋 Record ID: 2f1a3851-cffb-4ef5-a55c-348b65ac5ff7
[2025-10-17T02:23:41.110Z] [LOG] 
======================================================================
[2025-10-17T02:23:41.110Z] [LOG] 🧮 CALCULATING PAYROLL: Ratheeshanan null (EMP000047)
[2025-10-17T02:23:41.110Z] [LOG] ======================================================================
[2025-10-17T02:23:41.819Z] [LOG] 🔍 Component filtering for employee 01444966-7105-11f0-a50f-98e743540430:
[2025-10-17T02:23:41.819Z] [LOG]    Total components: 9
[2025-10-17T02:23:41.819Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:41.819Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T02:23:42.526Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:42.526Z] [LOG] 🔄 Processing financial records for employee 01444966-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:42.703Z] [LOG] 📊 Found 0 active loans for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:42.878Z] [LOG] 📊 Found 0 active advances for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:43.053Z] [LOG] 📊 Found 0 approved bonuses for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:43.054Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:43.054Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:43.054Z] [LOG] 💰 GROSS CALCULATION for Ratheeshanan null:
[2025-10-17T02:23:43.054Z] [LOG]    Base Salary: 25000
[2025-10-17T02:23:43.054Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:43.230Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:43.405Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:43.406Z] [LOG]    Employee ID: 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:43.406Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:43.406Z] [LOG]    Base Salary: Rs.25000.00
[2025-10-17T02:23:43.581Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:43.581Z] [LOG]       Daily Salary: Rs.1000.00
[2025-10-17T02:23:43.581Z] [LOG]       Weekday Hourly Rate: Rs.117.65
[2025-10-17T02:23:43.582Z] [LOG]       Saturday Hourly Rate: Rs.117.65
[2025-10-17T02:23:43.582Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:43.757Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:43.757Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T02:23:43.758Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:43.758Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:43.758Z] [LOG]       Total Worked: 17.00h
[2025-10-17T02:23:43.758Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:43.759Z] [LOG]       Weekday: 17.00h × Rs.117.65 = Rs.2000.05
[2025-10-17T02:23:43.759Z] [LOG]       Saturday: 0.00h × Rs.117.65 = Rs.0.00
[2025-10-17T02:23:43.759Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:43.760Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:43.760Z] [LOG]       Total Earned Salary: Rs.2000.05
[2025-10-17T02:23:43.760Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:43.761Z] [LOG]       Base Salary: Rs.25000.00
[2025-10-17T02:23:43.761Z] [LOG]       Earned Salary: Rs.2000.05
[2025-10-17T02:23:43.761Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:43.761Z] [LOG]       Attendance Deduction: Rs.22999.95
[2025-10-17T02:23:43.762Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T02:23:43.762Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:43.762Z] [LOG]    Gross Salary: 25000
[2025-10-17T02:23:43.762Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:43.763Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:43.763Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.763Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:43.764Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.764Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:43.764Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.764Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:43.764Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.764Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:43.765Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.765Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:43.765Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.765Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:43.765Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.765Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:43.765Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.766Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:43.766Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:43.766Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:43.767Z] [LOG] Regular deductions for Ratheeshanan null: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:43.767Z] [LOG] Combined deductions for Ratheeshanan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 22999.95,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 22999.95
}
[2025-10-17T02:23:43.943Z] [LOG] Creating components for record 2f1a3851-cffb-4ef5-a55c-348b65ac5ff7: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:43.943Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 22999.95
}
[2025-10-17T02:23:44.118Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:44.295Z] [LOG] Created payroll_record_component: 79ce439f-3f0e-45d3-a3a6-a82ed38f890f for Attendance Deduction
[2025-10-17T02:23:44.648Z] [LOG] ✅ Financial balances updated successfully for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T02:23:44.648Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:44.649Z] [LOG] 
======================================================================
[2025-10-17T02:23:44.649Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ratheeshanan null
[2025-10-17T02:23:44.650Z] [LOG] ======================================================================
[2025-10-17T02:23:44.650Z] [LOG]    Gross Salary: Rs.25000.00
[2025-10-17T02:23:44.650Z] [LOG]    Total Deductions: Rs.22999.95
[2025-10-17T02:23:44.650Z] [LOG]       - Attendance Deduction: Rs.22999.95
[2025-10-17T02:23:44.650Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:44.651Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:44.651Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:44.651Z] [LOG]    NET SALARY: Rs.2000.05
[2025-10-17T02:23:44.651Z] [LOG] ======================================================================

[2025-10-17T02:23:44.651Z] [LOG] ✅ Ratheeshanan null: Calculation completed successfully
[2025-10-17T02:23:44.652Z] [LOG] 📊 Progress: 33/34 (97.1%)
[2025-10-17T02:23:44.652Z] [LOG] 
🧮 Processing: Kaushal Thambi (EMP465256103)
[2025-10-17T02:23:44.652Z] [LOG] 📋 Record ID: 018a9439-961b-41f2-ae47-fe74bd6914eb
[2025-10-17T02:23:44.652Z] [LOG] 
======================================================================
[2025-10-17T02:23:44.652Z] [LOG] 🧮 CALCULATING PAYROLL: Kaushal Thambi (EMP465256103)
[2025-10-17T02:23:44.652Z] [LOG] ======================================================================
[2025-10-17T02:23:45.356Z] [LOG] 🔍 Component filtering for employee 9e8125c4-ce58-411a-b617-9f75d481c613:
[2025-10-17T02:23:45.356Z] [LOG]    Total components: 9
[2025-10-17T02:23:45.356Z] [LOG]    Applicable components: 9
[2025-10-17T02:23:45.356Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T02:23:46.062Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T02:23:46.063Z] [LOG] 🔄 Processing financial records for employee 9e8125c4-ce58-411a-b617-9f75d481c613 in period 2025-10-01 to 2025-10-31
[2025-10-17T02:23:46.241Z] [LOG] 📊 Found 0 active loans for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T02:23:46.418Z] [LOG] 📊 Found 0 active advances for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T02:23:46.593Z] [LOG] 📊 Found 0 approved bonuses for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T02:23:46.594Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T02:23:46.594Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T02:23:46.594Z] [LOG] 💰 GROSS CALCULATION for Kaushal Thambi:
[2025-10-17T02:23:46.595Z] [LOG]    Base Salary: 50000
[2025-10-17T02:23:46.595Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T02:23:46.771Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T02:23:46.948Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T02:23:46.948Z] [LOG]    Employee ID: 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T02:23:46.948Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T02:23:46.949Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T02:23:47.125Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T02:23:47.125Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T02:23:47.125Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T02:23:47.125Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T02:23:47.125Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T02:23:47.301Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T02:23:47.301Z] [LOG]       Weekday (Mon-Fri): 8.50h
[2025-10-17T02:23:47.301Z] [LOG]       Saturday: 0.00h
[2025-10-17T02:23:47.301Z] [LOG]       Sunday: 0.00h
[2025-10-17T02:23:47.301Z] [LOG]       Total Worked: 8.50h
[2025-10-17T02:23:47.301Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T02:23:47.301Z] [LOG]       Weekday: 8.50h × Rs.235.29 = Rs.1999.96
[2025-10-17T02:23:47.302Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T02:23:47.302Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T02:23:47.302Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:47.302Z] [LOG]       Total Earned Salary: Rs.1999.96
[2025-10-17T02:23:47.302Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T02:23:47.302Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T02:23:47.302Z] [LOG]       Earned Salary: Rs.1999.96
[2025-10-17T02:23:47.302Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T02:23:47.302Z] [LOG]       Attendance Deduction: Rs.48000.04
[2025-10-17T02:23:47.302Z] [LOG]       📉 Deduction is 96.00% of base salary
[2025-10-17T02:23:47.302Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T02:23:47.302Z] [LOG]    Gross Salary: 50000
[2025-10-17T02:23:47.303Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T02:23:47.303Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T02:23:47.303Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.303Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T02:23:47.303Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.303Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T02:23:47.303Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.303Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T02:23:47.303Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.303Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T02:23:47.303Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.303Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T02:23:47.304Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.304Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T02:23:47.304Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.304Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T02:23:47.304Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.304Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T02:23:47.304Z] [LOG]    Fixed amount: 0
[2025-10-17T02:23:47.304Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T02:23:47.304Z] [LOG] Regular deductions for Kaushal Thambi: {
  "components": [],
  "total": 0
}
[2025-10-17T02:23:47.304Z] [LOG] Combined deductions for Kaushal Thambi: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 48000.035,
      "details": "Based on worked hours (8.5h total)"
    }
  ],
  "total": 48000.035
}
[2025-10-17T02:23:47.482Z] [LOG] Creating components for record 018a9439-961b-41f2-ae47-fe74bd6914eb: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T02:23:47.483Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 48000.035
}
[2025-10-17T02:23:47.660Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T02:23:47.836Z] [LOG] Created payroll_record_component: 6856e1af-30dd-4ab4-b458-c2cbd012e96e for Attendance Deduction
[2025-10-17T02:23:48.186Z] [LOG] ✅ Financial balances updated successfully for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T02:23:48.186Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T02:23:48.186Z] [LOG] 
======================================================================
[2025-10-17T02:23:48.187Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Kaushal Thambi
[2025-10-17T02:23:48.187Z] [LOG] ======================================================================
[2025-10-17T02:23:48.187Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T02:23:48.187Z] [LOG]    Total Deductions: Rs.48000.04
[2025-10-17T02:23:48.187Z] [LOG]       - Attendance Deduction: Rs.48000.04
[2025-10-17T02:23:48.187Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T02:23:48.187Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T02:23:48.187Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T02:23:48.187Z] [LOG]    NET SALARY: Rs.1999.96
[2025-10-17T02:23:48.187Z] [LOG] ======================================================================

[2025-10-17T02:23:48.187Z] [LOG] ✅ Kaushal Thambi: Calculation completed successfully
[2025-10-17T02:23:48.187Z] [LOG] 📊 Progress: 34/34 (100.0%)
[2025-10-17T02:23:48.188Z] [LOG] 
============================================================
[2025-10-17T02:23:48.188Z] [LOG] 📈 Processing Summary: 34 successful, 0 failed
[2025-10-17T02:23:49.599Z] [LOG] 🎉 Payroll calculation completed successfully!
[2025-10-17T02:23:49.600Z] [LOG] 📊 Final Summary: 34 processed, 0 errors
[2025-10-17T02:23:49.600Z] [INFO] ================================================================================
[2025-10-17T02:23:49.600Z] [INFO] ⏰ Completed at: 2025-10-17T02:23:49.600Z
[2025-10-17T02:23:49.600Z] [INFO] 📊 Total log entries: 3053