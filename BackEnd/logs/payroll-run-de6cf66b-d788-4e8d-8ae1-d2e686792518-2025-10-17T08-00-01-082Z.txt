[2025-10-17T08:00:01.082Z] [INFO] 🚀 Payroll calculation logging started for run: de6cf66b-d788-4e8d-8ae1-d2e686792518
[2025-10-17T08:00:01.082Z] [INFO] 📁 Log file: D:\attendance-system\BackEnd\logs\payroll-run-de6cf66b-d788-4e8d-8ae1-d2e686792518-2025-10-17T08-00-01-082Z.txt
[2025-10-17T08:00:01.082Z] [INFO] ⏰ Started at: 2025-10-17T08:00:01.082Z
[2025-10-17T08:00:01.082Z] [INFO] ================================================================================
[2025-10-17T08:00:01.083Z] [LOG] 🚀 Starting payroll calculation for run: de6cf66b-d788-4e8d-8ae1-d2e686792518
[2025-10-17T08:00:01.085Z] [LOG] 👤 Client ID: it-signature, User ID: 059304ea-24a5-4d78-a290-cf09b9e53c4c
[2025-10-17T08:00:01.614Z] [LOG] ✅ Payroll run verified: October (MONTHLY_2025_10_REGULAR)
[2025-10-17T08:00:01.964Z] [LOG] 📊 Status updated to 'calculating'
[2025-10-17T08:00:02.492Z] [LOG] 👥 Processing 34 employee records:
[2025-10-17T08:00:02.493Z] [LOG] ============================================================
[2025-10-17T08:00:02.494Z] [LOG] 
🧮 Processing: Prasanthan null (EMP000001)
[2025-10-17T08:00:02.495Z] [LOG] 📋 Record ID: 6d014915-b606-4d06-9e36-3887c5420899
[2025-10-17T08:00:02.497Z] [LOG] 
======================================================================
[2025-10-17T08:00:02.497Z] [LOG] 🧮 CALCULATING PAYROLL: Prasanthan null (EMP000001)
[2025-10-17T08:00:02.498Z] [LOG] ======================================================================
[2025-10-17T08:00:03.912Z] [LOG] 🔍 Component filtering for employee 014397c7-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:03.912Z] [LOG]    Total components: 10
[2025-10-17T08:00:03.913Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:03.913Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:00:05.308Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:05.310Z] [LOG] 🔄 Processing financial records for employee 014397c7-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:05.662Z] [LOG] 📊 Found 0 active loans for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:06.020Z] [LOG] 📊 Found 0 active advances for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:06.379Z] [LOG] 📊 Found 0 approved bonuses for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:06.381Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:06.382Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:06.384Z] [LOG] 💰 GROSS CALCULATION for Prasanthan null:
[2025-10-17T08:00:06.385Z] [LOG]    Base Salary: 150000
[2025-10-17T08:00:06.386Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:06.387Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:06.388Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:06.740Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:07.097Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:07.098Z] [LOG]    Employee ID: 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:07.098Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:07.099Z] [LOG]    Base Salary: Rs.150000.00
[2025-10-17T08:00:07.465Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:07.466Z] [LOG]       Daily Salary: Rs.6000.00
[2025-10-17T08:00:07.466Z] [LOG]       Weekday Hourly Rate: Rs.705.88
[2025-10-17T08:00:07.467Z] [LOG]       Saturday Hourly Rate: Rs.705.88
[2025-10-17T08:00:07.468Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:07.844Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:07.845Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:07.846Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:07.846Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:07.847Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:07.848Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:07.848Z] [LOG]       Weekday: 17.00h × Rs.705.88 = Rs.11999.96
[2025-10-17T08:00:07.849Z] [LOG]       Saturday: 0.00h × Rs.705.88 = Rs.0.00
[2025-10-17T08:00:07.849Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:07.850Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:07.851Z] [LOG]       Total Earned Salary: Rs.11999.96
[2025-10-17T08:00:07.851Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:07.852Z] [LOG]       Base Salary: Rs.150000.00
[2025-10-17T08:00:07.852Z] [LOG]       Earned Salary: Rs.11999.96
[2025-10-17T08:00:07.853Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:07.853Z] [LOG]       Attendance Deduction: Rs.138000.04
[2025-10-17T08:00:07.854Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:07.855Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:07.856Z] [LOG]    Gross Salary: 150000
[2025-10-17T08:00:07.856Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:07.857Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:07.857Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.858Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:07.858Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.859Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:07.859Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.859Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:07.860Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.860Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:07.861Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.861Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:07.862Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.863Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:07.863Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.864Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:07.864Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.865Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:07.865Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:07.866Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:07.867Z] [LOG] Regular deductions for Prasanthan null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:07.869Z] [LOG] Combined deductions for Prasanthan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 138000.04,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 138000.04
}
[2025-10-17T08:00:08.223Z] [LOG] Creating components for record 6d014915-b606-4d06-9e36-3887c5420899: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-17T08:00:08.225Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 138000.04
}
[2025-10-17T08:00:08.572Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:08.923Z] [LOG] Created payroll_record_component: 1a05024e-70fd-469c-82c4-86057872b5af for Attendance Deduction
[2025-10-17T08:00:08.924Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 3000
}
[2025-10-17T08:00:09.099Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-17T08:00:09.277Z] [LOG] Created payroll_record_component: 2cbf9198-7a2d-4a3b-b95e-d3face45ca55 for Income Tax
[2025-10-17T08:00:09.655Z] [LOG] ✅ Financial balances updated successfully for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:09.656Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:09.656Z] [LOG] 
======================================================================
[2025-10-17T08:00:09.657Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Prasanthan null
[2025-10-17T08:00:09.657Z] [LOG] ======================================================================
[2025-10-17T08:00:09.657Z] [LOG]    Gross Salary: Rs.150000.00
[2025-10-17T08:00:09.658Z] [LOG]    Total Deductions: Rs.138000.04
[2025-10-17T08:00:09.658Z] [LOG]       - Attendance Deduction: Rs.138000.04
[2025-10-17T08:00:09.659Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:09.659Z] [LOG]    Total Taxes: Rs.3000.00
[2025-10-17T08:00:09.659Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:09.660Z] [LOG]    NET SALARY: Rs.8999.96
[2025-10-17T08:00:09.660Z] [LOG] ======================================================================

[2025-10-17T08:00:09.661Z] [LOG] ✅ Prasanthan null: Calculation completed successfully
[2025-10-17T08:00:09.662Z] [LOG] 📊 Progress: 1/34 (2.9%)
[2025-10-17T08:00:09.662Z] [LOG] 
🧮 Processing: Faizan Faizan (EMP000003)
[2025-10-17T08:00:09.663Z] [LOG] 📋 Record ID: 96ad60a7-afdd-410b-a32c-c7c5424244d9
[2025-10-17T08:00:09.663Z] [LOG] 
======================================================================
[2025-10-17T08:00:09.664Z] [LOG] 🧮 CALCULATING PAYROLL: Faizan Faizan (EMP000003)
[2025-10-17T08:00:09.664Z] [LOG] ======================================================================
[2025-10-17T08:00:10.373Z] [LOG] 🔍 Component filtering for employee 0143a057-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:10.374Z] [LOG]    Total components: 10
[2025-10-17T08:00:10.375Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:10.375Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T08:00:11.097Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:11.098Z] [LOG] 🔄 Processing financial records for employee 0143a057-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:11.274Z] [LOG] 📊 Found 0 active loans for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:11.451Z] [LOG] 📊 Found 0 active advances for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:11.628Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:11.629Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:11.630Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:11.631Z] [LOG] 💰 GROSS CALCULATION for Faizan Faizan:
[2025-10-17T08:00:11.632Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:11.632Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:11.633Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:11.634Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:11.811Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:11.986Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:11.987Z] [LOG]    Employee ID: 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:11.987Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:11.988Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:12.167Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:12.169Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:12.169Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:12.170Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:12.171Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:12.345Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:12.346Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:12.347Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:12.347Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:12.348Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:12.349Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:12.350Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:12.351Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:12.352Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:12.353Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:12.354Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:12.354Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:12.355Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:12.356Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:12.356Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:12.357Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:12.358Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:12.358Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:12.359Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:12.360Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:12.360Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:12.361Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.362Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:12.362Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.363Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:12.364Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.364Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:12.365Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.366Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:12.367Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.368Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:12.369Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.370Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:12.370Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.371Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:12.372Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.372Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:12.373Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:12.373Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:12.374Z] [LOG] Regular deductions for Faizan Faizan: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:12.375Z] [LOG] Combined deductions for Faizan Faizan: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:12.558Z] [LOG] Creating components for record 96ad60a7-afdd-410b-a32c-c7c5424244d9: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:12.559Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:12.741Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:12.920Z] [LOG] Created payroll_record_component: c96705b2-f7de-461b-a044-08bf756ae2d0 for Attendance Deduction
[2025-10-17T08:00:13.276Z] [LOG] ✅ Financial balances updated successfully for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:13.277Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:13.278Z] [LOG] 
======================================================================
[2025-10-17T08:00:13.279Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Faizan Faizan
[2025-10-17T08:00:13.279Z] [LOG] ======================================================================
[2025-10-17T08:00:13.280Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:13.281Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:13.281Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:13.282Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:13.283Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:13.283Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:13.284Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:13.285Z] [LOG] ======================================================================

[2025-10-17T08:00:13.286Z] [LOG] ✅ Faizan Faizan: Calculation completed successfully
[2025-10-17T08:00:13.286Z] [LOG] 📊 Progress: 2/34 (5.9%)
[2025-10-17T08:00:13.287Z] [LOG] 
🧮 Processing: Uthpala null (EMP000006)
[2025-10-17T08:00:13.288Z] [LOG] 📋 Record ID: 64a621bb-215e-4b2e-9774-0850f00a7d94
[2025-10-17T08:00:13.289Z] [LOG] 
======================================================================
[2025-10-17T08:00:13.290Z] [LOG] 🧮 CALCULATING PAYROLL: Uthpala null (EMP000006)
[2025-10-17T08:00:13.291Z] [LOG] ======================================================================
[2025-10-17T08:00:14.009Z] [LOG] 🔍 Component filtering for employee 0143a539-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:14.009Z] [LOG]    Total components: 10
[2025-10-17T08:00:14.009Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:14.010Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T08:00:15.772Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:15.773Z] [LOG] 🔄 Processing financial records for employee 0143a539-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:15.953Z] [LOG] 📊 Found 0 active loans for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:16.131Z] [LOG] 📊 Found 0 active advances for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:16.312Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:16.313Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:16.314Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:16.315Z] [LOG] 💰 GROSS CALCULATION for Uthpala null:
[2025-10-17T08:00:16.315Z] [LOG]    Base Salary: 100000
[2025-10-17T08:00:16.316Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:16.318Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:16.320Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:16.495Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:16.671Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:16.671Z] [LOG]    Employee ID: 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:16.672Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:16.672Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-17T08:00:16.849Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:16.849Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-17T08:00:16.850Z] [LOG]       Weekday Hourly Rate: Rs.500.00
[2025-10-17T08:00:16.850Z] [LOG]       Saturday Hourly Rate: Rs.500.00
[2025-10-17T08:00:16.850Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:17.029Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:17.030Z] [LOG]       Weekday (Mon-Fri): 15.00h
[2025-10-17T08:00:17.031Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:17.031Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:17.032Z] [LOG]       Total Worked: 15.00h
[2025-10-17T08:00:17.033Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:17.033Z] [LOG]       Weekday: 15.00h × Rs.500.00 = Rs.7500.00
[2025-10-17T08:00:17.034Z] [LOG]       Saturday: 0.00h × Rs.500.00 = Rs.0.00
[2025-10-17T08:00:17.035Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:17.035Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:17.036Z] [LOG]       Total Earned Salary: Rs.7500.00
[2025-10-17T08:00:17.037Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:17.038Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-17T08:00:17.039Z] [LOG]       Earned Salary: Rs.7500.00
[2025-10-17T08:00:17.039Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:17.040Z] [LOG]       Attendance Deduction: Rs.92500.00
[2025-10-17T08:00:17.041Z] [LOG]       📉 Deduction is 92.50% of base salary
[2025-10-17T08:00:17.042Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:17.042Z] [LOG]    Gross Salary: 100000
[2025-10-17T08:00:17.043Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:17.044Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:17.044Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.045Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:17.045Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.046Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:17.047Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.047Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:17.048Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.049Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:17.049Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.050Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:17.051Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.053Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:17.054Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.055Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:17.055Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.055Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:17.056Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:17.056Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:17.056Z] [LOG] Regular deductions for Uthpala null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:17.056Z] [LOG] Combined deductions for Uthpala null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 92500,
      "details": "Based on worked hours (15h total)"
    }
  ],
  "total": 92500
}
[2025-10-17T08:00:17.233Z] [LOG] Creating components for record 64a621bb-215e-4b2e-9774-0850f00a7d94: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:17.235Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 92500
}
[2025-10-17T08:00:17.410Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:17.606Z] [LOG] Created payroll_record_component: d6d4b114-4106-4f2d-a4f3-29038fc7ee2d for Attendance Deduction
[2025-10-17T08:00:17.955Z] [LOG] ✅ Financial balances updated successfully for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:17.955Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:17.956Z] [LOG] 
======================================================================
[2025-10-17T08:00:17.957Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Uthpala null
[2025-10-17T08:00:17.957Z] [LOG] ======================================================================
[2025-10-17T08:00:17.958Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-17T08:00:17.959Z] [LOG]    Total Deductions: Rs.92500.00
[2025-10-17T08:00:17.959Z] [LOG]       - Attendance Deduction: Rs.92500.00
[2025-10-17T08:00:17.960Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:17.960Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:17.961Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:17.962Z] [LOG]    NET SALARY: Rs.7500.00
[2025-10-17T08:00:17.963Z] [LOG] ======================================================================

[2025-10-17T08:00:17.963Z] [LOG] ✅ Uthpala null: Calculation completed successfully
[2025-10-17T08:00:17.964Z] [LOG] 📊 Progress: 3/34 (8.8%)
[2025-10-17T08:00:17.965Z] [LOG] 
🧮 Processing: Saruban null (EMP000007)
[2025-10-17T08:00:17.966Z] [LOG] 📋 Record ID: 3ec9be58-c6d2-422c-8b56-1b90c970a618
[2025-10-17T08:00:17.966Z] [LOG] 
======================================================================
[2025-10-17T08:00:17.968Z] [LOG] 🧮 CALCULATING PAYROLL: Saruban null (EMP000007)
[2025-10-17T08:00:17.968Z] [LOG] ======================================================================
[2025-10-17T08:00:18.668Z] [LOG] 🔍 Component filtering for employee 0143a6e3-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:18.669Z] [LOG]    Total components: 10
[2025-10-17T08:00:18.670Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:18.671Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:00:19.404Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:19.405Z] [LOG] 🔄 Processing financial records for employee 0143a6e3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:19.589Z] [LOG] 📊 Found 0 active loans for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:19.764Z] [LOG] 📊 Found 0 active advances for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:19.937Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:19.937Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:19.938Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:19.938Z] [LOG] 💰 GROSS CALCULATION for Saruban null:
[2025-10-17T08:00:19.938Z] [LOG]    Base Salary: 0
[2025-10-17T08:00:19.939Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:19.939Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:19.939Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.110Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:20.284Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:20.284Z] [LOG]    Employee ID: 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:20.284Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:20.285Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T08:00:20.462Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:20.463Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T08:00:20.463Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T08:00:20.463Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T08:00:20.464Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:20.647Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:20.648Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:20.648Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:20.648Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:20.648Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:20.649Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:20.649Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:20.649Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:20.650Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:20.650Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:20.650Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T08:00:20.651Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:20.651Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T08:00:20.651Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T08:00:20.651Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:20.652Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T08:00:20.652Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T08:00:20.652Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:20.652Z] [LOG]    Gross Salary: 0
[2025-10-17T08:00:20.652Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:20.653Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:20.653Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.653Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:20.653Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.654Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:20.654Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.654Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:20.655Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.655Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:20.655Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.655Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:20.655Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.656Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:20.656Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.656Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:20.656Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.656Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:20.657Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:20.657Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:20.657Z] [LOG] Regular deductions for Saruban null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:20.657Z] [LOG] Combined deductions for Saruban null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T08:00:20.834Z] [LOG] Creating components for record 3ec9be58-c6d2-422c-8b56-1b90c970a618: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:20.834Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T08:00:21.007Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:21.183Z] [LOG] Created payroll_record_component: 9230e848-bc30-4b0c-9c7f-ab37f31e4f26 for Attendance Deduction
[2025-10-17T08:00:21.584Z] [LOG] ✅ Financial balances updated successfully for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:21.585Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:21.586Z] [LOG] 
======================================================================
[2025-10-17T08:00:21.587Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saruban null
[2025-10-17T08:00:21.588Z] [LOG] ======================================================================
[2025-10-17T08:00:21.588Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T08:00:21.589Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T08:00:21.590Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T08:00:21.591Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:21.592Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:21.593Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:21.599Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T08:00:21.604Z] [LOG] ======================================================================

[2025-10-17T08:00:21.605Z] [LOG] ✅ Saruban null: Calculation completed successfully
[2025-10-17T08:00:21.606Z] [LOG] 📊 Progress: 4/34 (11.8%)
[2025-10-17T08:00:21.607Z] [LOG] 
🧮 Processing: Dharshika null (EMP000009)
[2025-10-17T08:00:21.608Z] [LOG] 📋 Record ID: 70625b98-bde5-4114-954b-f538d3423c2b
[2025-10-17T08:00:21.609Z] [LOG] 
======================================================================
[2025-10-17T08:00:21.610Z] [LOG] 🧮 CALCULATING PAYROLL: Dharshika null (EMP000009)
[2025-10-17T08:00:21.611Z] [LOG] ======================================================================
[2025-10-17T08:00:22.549Z] [LOG] 🔍 Component filtering for employee 0143a994-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:22.549Z] [LOG]    Total components: 10
[2025-10-17T08:00:22.550Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:22.551Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:00:23.248Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:23.248Z] [LOG] 🔄 Processing financial records for employee 0143a994-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:23.434Z] [LOG] 📊 Found 0 active loans for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:23.606Z] [LOG] 📊 Found 0 active advances for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:23.779Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:23.780Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:23.781Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:23.782Z] [LOG] 💰 GROSS CALCULATION for Dharshika null:
[2025-10-17T08:00:23.783Z] [LOG]    Base Salary: 100000
[2025-10-17T08:00:23.783Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:23.784Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:23.785Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:23.957Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:24.130Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:24.130Z] [LOG]    Employee ID: 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:24.131Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:24.131Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-17T08:00:24.305Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:24.306Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-17T08:00:24.306Z] [LOG]       Weekday Hourly Rate: Rs.470.59
[2025-10-17T08:00:24.307Z] [LOG]       Saturday Hourly Rate: Rs.470.59
[2025-10-17T08:00:24.308Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:24.490Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:24.491Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:24.491Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:24.492Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:24.492Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:24.492Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:24.493Z] [LOG]       Weekday: 17.00h × Rs.470.59 = Rs.8000.03
[2025-10-17T08:00:24.493Z] [LOG]       Saturday: 0.00h × Rs.470.59 = Rs.0.00
[2025-10-17T08:00:24.494Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:24.494Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:24.494Z] [LOG]       Total Earned Salary: Rs.8000.03
[2025-10-17T08:00:24.495Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:24.496Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-17T08:00:24.496Z] [LOG]       Earned Salary: Rs.8000.03
[2025-10-17T08:00:24.496Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:24.497Z] [LOG]       Attendance Deduction: Rs.91999.97
[2025-10-17T08:00:24.497Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:24.497Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:24.498Z] [LOG]    Gross Salary: 100000
[2025-10-17T08:00:24.498Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:24.498Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:24.499Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.499Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:24.499Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.500Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:24.500Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.501Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:24.502Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.503Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:24.503Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.503Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:24.504Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.504Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:24.505Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.505Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:24.505Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.506Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:24.506Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:24.506Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:24.507Z] [LOG] Regular deductions for Dharshika null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:24.507Z] [LOG] Combined deductions for Dharshika null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 91999.97,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 91999.97
}
[2025-10-17T08:00:24.708Z] [LOG] Creating components for record 70625b98-bde5-4114-954b-f538d3423c2b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:24.710Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 91999.97
}
[2025-10-17T08:00:24.885Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:25.062Z] [LOG] Created payroll_record_component: ea22304c-b4e7-4ea6-83fa-cb5d8f313595 for Attendance Deduction
[2025-10-17T08:00:25.412Z] [LOG] ✅ Financial balances updated successfully for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:25.413Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:25.413Z] [LOG] 
======================================================================
[2025-10-17T08:00:25.413Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Dharshika null
[2025-10-17T08:00:25.414Z] [LOG] ======================================================================
[2025-10-17T08:00:25.414Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-17T08:00:25.414Z] [LOG]    Total Deductions: Rs.91999.97
[2025-10-17T08:00:25.415Z] [LOG]       - Attendance Deduction: Rs.91999.97
[2025-10-17T08:00:25.415Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:25.416Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:25.416Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:25.416Z] [LOG]    NET SALARY: Rs.8000.03
[2025-10-17T08:00:25.416Z] [LOG] ======================================================================

[2025-10-17T08:00:25.417Z] [LOG] ✅ Dharshika null: Calculation completed successfully
[2025-10-17T08:00:25.417Z] [LOG] 📊 Progress: 5/34 (14.7%)
[2025-10-17T08:00:25.417Z] [LOG] 
🧮 Processing: Ishara null (EMP000011)
[2025-10-17T08:00:25.418Z] [LOG] 📋 Record ID: e47e57a2-01e3-488c-801d-f21440c96f26
[2025-10-17T08:00:25.418Z] [LOG] 
======================================================================
[2025-10-17T08:00:25.419Z] [LOG] 🧮 CALCULATING PAYROLL: Ishara null (EMP000011)
[2025-10-17T08:00:25.419Z] [LOG] ======================================================================
[2025-10-17T08:00:26.131Z] [LOG] 🔍 Component filtering for employee 0143ac0c-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:26.132Z] [LOG]    Total components: 10
[2025-10-17T08:00:26.133Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:26.134Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T08:00:26.852Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:26.853Z] [LOG] 🔄 Processing financial records for employee 0143ac0c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:27.034Z] [LOG] 📊 Found 0 active loans for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:27.208Z] [LOG] 📊 Found 0 active advances for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:27.386Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:27.387Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:27.388Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:27.389Z] [LOG] 💰 GROSS CALCULATION for Ishara null:
[2025-10-17T08:00:27.390Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:27.391Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:27.393Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:27.394Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:27.568Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:27.747Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:27.748Z] [LOG]    Employee ID: 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:27.748Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:27.749Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:27.921Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:27.921Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:27.922Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:27.922Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:27.923Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:28.095Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:28.095Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:28.096Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:28.096Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:28.096Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:28.096Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:28.097Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:28.097Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:28.097Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:28.098Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:28.098Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:28.098Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:28.099Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:28.099Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:28.099Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:28.099Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:28.100Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:28.100Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:28.100Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:28.100Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:28.101Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:28.101Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.101Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:28.101Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.101Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:28.102Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.102Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:28.102Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.102Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:28.102Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.103Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:28.103Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.103Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:28.103Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.104Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:28.104Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.104Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:28.104Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:28.105Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:28.105Z] [LOG] Regular deductions for Ishara null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:28.105Z] [LOG] Combined deductions for Ishara null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:28.277Z] [LOG] Creating components for record e47e57a2-01e3-488c-801d-f21440c96f26: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:28.278Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:28.451Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:28.624Z] [LOG] Created payroll_record_component: 097bd920-fc56-46a0-8904-35087dfec8e0 for Attendance Deduction
[2025-10-17T08:00:28.977Z] [LOG] ✅ Financial balances updated successfully for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:28.978Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:28.978Z] [LOG] 
======================================================================
[2025-10-17T08:00:28.979Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ishara null
[2025-10-17T08:00:28.979Z] [LOG] ======================================================================
[2025-10-17T08:00:28.980Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:28.980Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:28.981Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:28.981Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:28.982Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:28.982Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:28.984Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:28.985Z] [LOG] ======================================================================

[2025-10-17T08:00:28.985Z] [LOG] ✅ Ishara null: Calculation completed successfully
[2025-10-17T08:00:28.986Z] [LOG] 📊 Progress: 6/34 (17.6%)
[2025-10-17T08:00:28.986Z] [LOG] 
🧮 Processing: Jessie null (EMP000013)
[2025-10-17T08:00:28.987Z] [LOG] 📋 Record ID: 23069155-c429-4910-819b-29782758cac4
[2025-10-17T08:00:28.988Z] [LOG] 
======================================================================
[2025-10-17T08:00:28.989Z] [LOG] 🧮 CALCULATING PAYROLL: Jessie null (EMP000013)
[2025-10-17T08:00:28.989Z] [LOG] ======================================================================
[2025-10-17T08:00:29.692Z] [LOG] 🔍 Component filtering for employee 0143ae6e-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:29.693Z] [LOG]    Total components: 10
[2025-10-17T08:00:29.694Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:29.694Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:00:30.392Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:30.393Z] [LOG] 🔄 Processing financial records for employee 0143ae6e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:30.565Z] [LOG] 📊 Found 0 active loans for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:30.737Z] [LOG] 📊 Found 0 active advances for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:30.909Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:30.909Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:30.910Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:30.911Z] [LOG] 💰 GROSS CALCULATION for Jessie null:
[2025-10-17T08:00:30.912Z] [LOG]    Base Salary: 60000
[2025-10-17T08:00:30.912Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:30.913Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:30.913Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.087Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:31.263Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:31.263Z] [LOG]    Employee ID: 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:31.264Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:31.264Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-17T08:00:31.437Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:31.438Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-17T08:00:31.438Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-17T08:00:31.439Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-17T08:00:31.439Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:31.614Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:31.615Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:31.615Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:31.616Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:31.616Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:31.616Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:31.617Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-17T08:00:31.618Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-17T08:00:31.618Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:31.619Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:31.619Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-17T08:00:31.620Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:31.620Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-17T08:00:31.621Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-17T08:00:31.621Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:31.622Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-17T08:00:31.622Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:31.622Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:31.623Z] [LOG]    Gross Salary: 60000
[2025-10-17T08:00:31.623Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:31.623Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:31.624Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.624Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:31.624Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.625Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:31.625Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.626Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:31.626Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.626Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:31.627Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.627Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:31.627Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.628Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:31.628Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.629Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:31.629Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.629Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:31.629Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:31.630Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:31.630Z] [LOG] Regular deductions for Jessie null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:31.631Z] [LOG] Combined deductions for Jessie null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-17T08:00:31.807Z] [LOG] Creating components for record 23069155-c429-4910-819b-29782758cac4: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:31.809Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-17T08:00:31.984Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:32.158Z] [LOG] Created payroll_record_component: 23dcb64e-35c5-41e0-bbaa-7ebcfb64267d for Attendance Deduction
[2025-10-17T08:00:32.515Z] [LOG] ✅ Financial balances updated successfully for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:32.516Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:32.516Z] [LOG] 
======================================================================
[2025-10-17T08:00:32.517Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Jessie null
[2025-10-17T08:00:32.518Z] [LOG] ======================================================================
[2025-10-17T08:00:32.518Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-17T08:00:32.519Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-17T08:00:32.519Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-17T08:00:32.520Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:32.521Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:32.522Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:32.523Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-17T08:00:32.524Z] [LOG] ======================================================================

[2025-10-17T08:00:32.525Z] [LOG] ✅ Jessie null: Calculation completed successfully
[2025-10-17T08:00:32.525Z] [LOG] 📊 Progress: 7/34 (20.6%)
[2025-10-17T08:00:32.526Z] [LOG] 
🧮 Processing: Anoj null (EMP000014)
[2025-10-17T08:00:32.527Z] [LOG] 📋 Record ID: 08364b5b-2daa-45a0-b5b5-381af9690c4a
[2025-10-17T08:00:32.528Z] [LOG] 
======================================================================
[2025-10-17T08:00:32.529Z] [LOG] 🧮 CALCULATING PAYROLL: Anoj null (EMP000014)
[2025-10-17T08:00:32.530Z] [LOG] ======================================================================
[2025-10-17T08:00:33.230Z] [LOG] 🔍 Component filtering for employee 0143afc6-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:33.230Z] [LOG]    Total components: 10
[2025-10-17T08:00:33.231Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:33.232Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:00:33.937Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:33.938Z] [LOG] 🔄 Processing financial records for employee 0143afc6-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:34.132Z] [LOG] 📊 Found 0 active loans for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:34.307Z] [LOG] 📊 Found 0 active advances for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:34.490Z] [LOG] 📊 Found 0 approved bonuses for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:34.491Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:34.492Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:34.493Z] [LOG] 💰 GROSS CALCULATION for Anoj null:
[2025-10-17T08:00:34.494Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:34.495Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:34.495Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:34.496Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:34.672Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:34.847Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:34.847Z] [LOG]    Employee ID: 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:34.848Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:34.848Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:35.021Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:35.022Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:35.022Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:35.023Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:35.024Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:35.202Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:35.203Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:35.203Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:35.204Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:35.205Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:35.205Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:35.206Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:35.207Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:35.207Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:35.208Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:35.209Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:35.209Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:35.211Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:35.211Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:35.212Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:35.213Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:35.213Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:35.214Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:35.215Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:35.215Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:35.216Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:35.217Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.218Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:35.218Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.219Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:35.220Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.220Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:35.221Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.222Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:35.222Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.223Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:35.223Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.224Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:35.225Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.225Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:35.226Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.227Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:35.227Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:35.228Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:35.229Z] [LOG] Regular deductions for Anoj null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:35.230Z] [LOG] Combined deductions for Anoj null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:35.407Z] [LOG] Creating components for record 08364b5b-2daa-45a0-b5b5-381af9690c4a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:35.409Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:35.584Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:35.759Z] [LOG] Created payroll_record_component: dccbbfa1-c425-40af-abd0-c763dced6576 for Attendance Deduction
[2025-10-17T08:00:36.122Z] [LOG] ✅ Financial balances updated successfully for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:36.123Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:36.124Z] [LOG] 
======================================================================
[2025-10-17T08:00:36.125Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Anoj null
[2025-10-17T08:00:36.125Z] [LOG] ======================================================================
[2025-10-17T08:00:36.126Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:36.127Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:36.128Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:36.129Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:36.131Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:36.132Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:36.134Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:36.134Z] [LOG] ======================================================================

[2025-10-17T08:00:36.136Z] [LOG] ✅ Anoj null: Calculation completed successfully
[2025-10-17T08:00:36.137Z] [LOG] 📊 Progress: 8/34 (23.5%)
[2025-10-17T08:00:36.137Z] [LOG] 
🧮 Processing: Sumaiya null (EMP000016)
[2025-10-17T08:00:36.138Z] [LOG] 📋 Record ID: d814c927-a5bc-4471-91ea-d33b5552a1d5
[2025-10-17T08:00:36.138Z] [LOG] 
======================================================================
[2025-10-17T08:00:36.139Z] [LOG] 🧮 CALCULATING PAYROLL: Sumaiya null (EMP000016)
[2025-10-17T08:00:36.139Z] [LOG] ======================================================================
[2025-10-17T08:00:36.834Z] [LOG] 🔍 Component filtering for employee 0143b22f-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:36.834Z] [LOG]    Total components: 10
[2025-10-17T08:00:36.835Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:36.836Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:00:37.535Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:37.536Z] [LOG] 🔄 Processing financial records for employee 0143b22f-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:37.727Z] [LOG] 📊 Found 0 active loans for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:37.941Z] [LOG] 📊 Found 0 active advances for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:38.116Z] [LOG] 📊 Found 0 approved bonuses for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:38.119Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:38.121Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:38.121Z] [LOG] 💰 GROSS CALCULATION for Sumaiya null:
[2025-10-17T08:00:38.122Z] [LOG]    Base Salary: 60000
[2025-10-17T08:00:38.123Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:38.123Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:38.124Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.311Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:38.489Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:38.490Z] [LOG]    Employee ID: 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:38.491Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:38.492Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-17T08:00:38.669Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:38.669Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-17T08:00:38.670Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-17T08:00:38.671Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-17T08:00:38.671Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:38.857Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:38.858Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:38.859Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:38.859Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:38.860Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:38.861Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:38.862Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-17T08:00:38.862Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-17T08:00:38.863Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:38.864Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:38.864Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-17T08:00:38.865Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:38.867Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-17T08:00:38.867Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-17T08:00:38.868Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:38.869Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-17T08:00:38.869Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:38.871Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:38.871Z] [LOG]    Gross Salary: 60000
[2025-10-17T08:00:38.872Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:38.873Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:38.873Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.874Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:38.875Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.875Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:38.876Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.877Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:38.877Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.879Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:38.880Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.882Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:38.883Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.884Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:38.884Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.885Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:38.885Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.886Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:38.886Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:38.886Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:38.887Z] [LOG] Regular deductions for Sumaiya null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:38.887Z] [LOG] Combined deductions for Sumaiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-17T08:00:39.080Z] [LOG] Creating components for record d814c927-a5bc-4471-91ea-d33b5552a1d5: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:39.082Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-17T08:00:39.285Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:39.612Z] [LOG] Created payroll_record_component: 2878c1a5-d0ce-4c52-92c3-531f07656d7c for Attendance Deduction
[2025-10-17T08:00:40.030Z] [LOG] ✅ Financial balances updated successfully for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:40.031Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:40.032Z] [LOG] 
======================================================================
[2025-10-17T08:00:40.033Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sumaiya null
[2025-10-17T08:00:40.033Z] [LOG] ======================================================================
[2025-10-17T08:00:40.034Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-17T08:00:40.034Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-17T08:00:40.035Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-17T08:00:40.036Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:40.036Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:40.037Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:40.038Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-17T08:00:40.039Z] [LOG] ======================================================================

[2025-10-17T08:00:40.039Z] [LOG] ✅ Sumaiya null: Calculation completed successfully
[2025-10-17T08:00:40.040Z] [LOG] 📊 Progress: 9/34 (26.5%)
[2025-10-17T08:00:40.041Z] [LOG] 
🧮 Processing: Hari null (EMP000017)
[2025-10-17T08:00:40.041Z] [LOG] 📋 Record ID: 199d4e97-d89e-4b9a-98d0-04c080b87537
[2025-10-17T08:00:40.042Z] [LOG] 
======================================================================
[2025-10-17T08:00:40.043Z] [LOG] 🧮 CALCULATING PAYROLL: Hari null (EMP000017)
[2025-10-17T08:00:40.044Z] [LOG] ======================================================================
[2025-10-17T08:00:40.807Z] [LOG] 🔍 Component filtering for employee 0143bc58-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:40.808Z] [LOG]    Total components: 10
[2025-10-17T08:00:40.808Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:40.809Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:00:41.528Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:41.529Z] [LOG] 🔄 Processing financial records for employee 0143bc58-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:41.707Z] [LOG] 📊 Found 0 active loans for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:41.883Z] [LOG] 📊 Found 0 active advances for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:42.060Z] [LOG] 📊 Found 0 approved bonuses for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:42.061Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:42.063Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:42.064Z] [LOG] 💰 GROSS CALCULATION for Hari null:
[2025-10-17T08:00:42.064Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:42.065Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:42.065Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:42.066Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.239Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:42.413Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:42.414Z] [LOG]    Employee ID: 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:42.414Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:42.415Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:42.595Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:42.596Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:42.596Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:42.597Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:42.598Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:42.772Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:42.773Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:42.773Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:42.774Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:42.774Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:42.775Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:42.776Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:42.776Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:42.777Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:42.778Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:42.779Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:42.779Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:42.780Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:42.781Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:42.782Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:42.782Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:42.783Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:42.784Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:42.785Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:42.785Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:42.786Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:42.786Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.786Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:42.787Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.787Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:42.788Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.788Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:42.788Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.789Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:42.789Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.790Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:42.790Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.791Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:42.791Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.791Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:42.792Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.792Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:42.793Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:42.793Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:42.793Z] [LOG] Regular deductions for Hari null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:42.794Z] [LOG] Combined deductions for Hari null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:42.976Z] [LOG] Creating components for record 199d4e97-d89e-4b9a-98d0-04c080b87537: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:42.978Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:43.155Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:43.334Z] [LOG] Created payroll_record_component: dc0a4715-be56-436b-958f-a8bd442eb810 for Attendance Deduction
[2025-10-17T08:00:43.692Z] [LOG] ✅ Financial balances updated successfully for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:43.693Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:43.693Z] [LOG] 
======================================================================
[2025-10-17T08:00:43.694Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Hari null
[2025-10-17T08:00:43.695Z] [LOG] ======================================================================
[2025-10-17T08:00:43.696Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:43.697Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:43.698Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:43.699Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:43.700Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:43.701Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:43.702Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:43.703Z] [LOG] ======================================================================

[2025-10-17T08:00:43.703Z] [LOG] ✅ Hari null: Calculation completed successfully
[2025-10-17T08:00:43.704Z] [LOG] 📊 Progress: 10/34 (29.4%)
[2025-10-17T08:00:43.705Z] [LOG] 
🧮 Processing: Franklin null (EMP000018)
[2025-10-17T08:00:43.706Z] [LOG] 📋 Record ID: 9f1c6847-2ae4-415e-9ad7-db1c3d3e8dfd
[2025-10-17T08:00:43.706Z] [LOG] 
======================================================================
[2025-10-17T08:00:43.707Z] [LOG] 🧮 CALCULATING PAYROLL: Franklin null (EMP000018)
[2025-10-17T08:00:43.708Z] [LOG] ======================================================================
[2025-10-17T08:00:44.416Z] [LOG] 🔍 Component filtering for employee 0143c037-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:44.417Z] [LOG]    Total components: 10
[2025-10-17T08:00:44.417Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:44.418Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T08:00:45.125Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:45.126Z] [LOG] 🔄 Processing financial records for employee 0143c037-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:45.299Z] [LOG] 📊 Found 0 active loans for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:45.474Z] [LOG] 📊 Found 0 active advances for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:45.652Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:45.653Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:45.654Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:45.654Z] [LOG] 💰 GROSS CALCULATION for Franklin null:
[2025-10-17T08:00:45.655Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:45.656Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:45.656Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:45.657Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:45.833Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:46.010Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:46.011Z] [LOG]    Employee ID: 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:46.012Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:46.012Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:46.187Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:46.188Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:46.188Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:46.189Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:46.190Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:46.366Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:46.366Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:46.367Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:46.368Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:46.368Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:46.369Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:46.370Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:46.370Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:46.371Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:46.372Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:46.372Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:46.373Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:46.374Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:46.375Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:46.375Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:46.376Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:46.377Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:46.377Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:46.378Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:46.379Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:46.380Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:46.380Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.381Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:46.382Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.382Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:46.384Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.385Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:46.385Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.386Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:46.387Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.387Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:46.388Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.388Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:46.389Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.390Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:46.390Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.391Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:46.392Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:46.392Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:46.393Z] [LOG] Regular deductions for Franklin null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:46.394Z] [LOG] Combined deductions for Franklin null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:46.574Z] [LOG] Creating components for record 9f1c6847-2ae4-415e-9ad7-db1c3d3e8dfd: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:46.576Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:46.748Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:46.929Z] [LOG] Created payroll_record_component: 7b93e4bf-25f5-4cf4-b2d2-756bd954db0f for Attendance Deduction
[2025-10-17T08:00:47.275Z] [LOG] ✅ Financial balances updated successfully for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:47.276Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:47.277Z] [LOG] 
======================================================================
[2025-10-17T08:00:47.278Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Franklin null
[2025-10-17T08:00:47.278Z] [LOG] ======================================================================
[2025-10-17T08:00:47.279Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:47.279Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:47.280Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:47.281Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:47.281Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:47.282Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:47.283Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:47.284Z] [LOG] ======================================================================

[2025-10-17T08:00:47.284Z] [LOG] ✅ Franklin null: Calculation completed successfully
[2025-10-17T08:00:47.285Z] [LOG] 📊 Progress: 11/34 (32.4%)
[2025-10-17T08:00:47.286Z] [LOG] 
🧮 Processing: Safna Nawas null (EMP000021)
[2025-10-17T08:00:47.287Z] [LOG] 📋 Record ID: ea19248b-ba79-4002-adce-7c7acb582c65
[2025-10-17T08:00:47.287Z] [LOG] 
======================================================================
[2025-10-17T08:00:47.288Z] [LOG] 🧮 CALCULATING PAYROLL: Safna Nawas null (EMP000021)
[2025-10-17T08:00:47.289Z] [LOG] ======================================================================
[2025-10-17T08:00:47.988Z] [LOG] 🔍 Component filtering for employee 0143c977-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:47.989Z] [LOG]    Total components: 10
[2025-10-17T08:00:47.989Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:47.990Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:00:48.690Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:48.690Z] [LOG] 🔄 Processing financial records for employee 0143c977-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:48.867Z] [LOG] 📊 Found 0 active loans for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:49.047Z] [LOG] 📊 Found 0 active advances for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:49.225Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:49.226Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:49.228Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:49.228Z] [LOG] 💰 GROSS CALCULATION for Safna Nawas null:
[2025-10-17T08:00:49.229Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:49.230Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:49.230Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:49.231Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.407Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:49.583Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:49.584Z] [LOG]    Employee ID: 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:49.584Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:49.585Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:49.764Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:49.765Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:49.766Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:49.766Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:49.767Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:49.942Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:49.942Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:49.943Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:49.944Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:49.944Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:49.945Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:49.946Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:49.946Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:49.947Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:49.948Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:49.948Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:49.949Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:49.950Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:49.951Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:49.952Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:49.952Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:49.953Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:49.954Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:49.954Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:49.955Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:49.956Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:49.956Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.957Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:49.958Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.960Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:49.961Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.961Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:49.962Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.963Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:49.967Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.969Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:49.970Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.971Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:49.972Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.973Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:49.973Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.974Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:49.975Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:49.976Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:49.976Z] [LOG] Regular deductions for Safna Nawas null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:49.978Z] [LOG] Combined deductions for Safna Nawas null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:50.159Z] [LOG] Creating components for record ea19248b-ba79-4002-adce-7c7acb582c65: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:50.161Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:50.339Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:50.515Z] [LOG] Created payroll_record_component: 1cfa149e-b8bc-46f8-b015-d5448f17200a for Attendance Deduction
[2025-10-17T08:00:50.863Z] [LOG] ✅ Financial balances updated successfully for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:50.863Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:50.864Z] [LOG] 
======================================================================
[2025-10-17T08:00:50.865Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Safna Nawas null
[2025-10-17T08:00:50.865Z] [LOG] ======================================================================
[2025-10-17T08:00:50.866Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:50.867Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:50.867Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:50.868Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:50.868Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:50.869Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:50.870Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:50.871Z] [LOG] ======================================================================

[2025-10-17T08:00:50.871Z] [LOG] ✅ Safna Nawas null: Calculation completed successfully
[2025-10-17T08:00:50.872Z] [LOG] 📊 Progress: 12/34 (35.3%)
[2025-10-17T08:00:50.873Z] [LOG] 
🧮 Processing: Saru null (EMP000022)
[2025-10-17T08:00:50.873Z] [LOG] 📋 Record ID: 9a7124fb-cea9-4d0e-92d6-33615663e6e1
[2025-10-17T08:00:50.874Z] [LOG] 
======================================================================
[2025-10-17T08:00:50.875Z] [LOG] 🧮 CALCULATING PAYROLL: Saru null (EMP000022)
[2025-10-17T08:00:50.876Z] [LOG] ======================================================================
[2025-10-17T08:00:51.581Z] [LOG] 🔍 Component filtering for employee 0143cc7e-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:51.582Z] [LOG]    Total components: 10
[2025-10-17T08:00:51.582Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:51.583Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:00:52.289Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:52.290Z] [LOG] 🔄 Processing financial records for employee 0143cc7e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:52.465Z] [LOG] 📊 Found 0 active loans for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:52.641Z] [LOG] 📊 Found 0 active advances for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:52.816Z] [LOG] 📊 Found 0 approved bonuses for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:52.817Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:52.821Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:52.824Z] [LOG] 💰 GROSS CALCULATION for Saru null:
[2025-10-17T08:00:52.825Z] [LOG]    Base Salary: 50000
[2025-10-17T08:00:52.826Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:52.826Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:52.827Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.004Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:53.182Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:53.183Z] [LOG]    Employee ID: 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:53.183Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:53.184Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:00:53.359Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:53.360Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:00:53.361Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:00:53.361Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:00:53.362Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:53.539Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:53.539Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:53.540Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:53.541Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:53.541Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:53.542Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:53.543Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:00:53.543Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:00:53.544Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:53.544Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:53.545Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:00:53.546Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:53.547Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:00:53.548Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:00:53.548Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:53.549Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:53.549Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:53.550Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:53.551Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:00:53.552Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:53.552Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:53.553Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.554Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:53.554Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.555Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:53.555Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.556Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:53.557Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.558Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:53.558Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.559Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:53.559Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.560Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:53.560Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.561Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:53.561Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.562Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:53.563Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:53.563Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:53.563Z] [LOG] Regular deductions for Saru null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:53.564Z] [LOG] Combined deductions for Saru null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:00:53.747Z] [LOG] Creating components for record 9a7124fb-cea9-4d0e-92d6-33615663e6e1: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:53.748Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:00:53.925Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:54.103Z] [LOG] Created payroll_record_component: 05c23aca-60c2-497a-bbc9-af8d0cf9d14c for Attendance Deduction
[2025-10-17T08:00:54.453Z] [LOG] ✅ Financial balances updated successfully for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:54.453Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:54.454Z] [LOG] 
======================================================================
[2025-10-17T08:00:54.455Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saru null
[2025-10-17T08:00:54.455Z] [LOG] ======================================================================
[2025-10-17T08:00:54.456Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:00:54.457Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:00:54.458Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:00:54.458Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:54.459Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:54.460Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:54.460Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:00:54.461Z] [LOG] ======================================================================

[2025-10-17T08:00:54.462Z] [LOG] ✅ Saru null: Calculation completed successfully
[2025-10-17T08:00:54.463Z] [LOG] 📊 Progress: 13/34 (38.2%)
[2025-10-17T08:00:54.463Z] [LOG] 
🧮 Processing: Ammaar Ilham (EMP000023)
[2025-10-17T08:00:54.464Z] [LOG] 📋 Record ID: f80aeb35-9ae1-4182-85e1-c4fc3e16c10a
[2025-10-17T08:00:54.465Z] [LOG] 
======================================================================
[2025-10-17T08:00:54.465Z] [LOG] 🧮 CALCULATING PAYROLL: Ammaar Ilham (EMP000023)
[2025-10-17T08:00:54.466Z] [LOG] ======================================================================
[2025-10-17T08:00:55.174Z] [LOG] 🔍 Component filtering for employee 0143de00-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:55.175Z] [LOG]    Total components: 10
[2025-10-17T08:00:55.176Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:55.176Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:00:55.884Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:55.885Z] [LOG] 🔄 Processing financial records for employee 0143de00-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:56.059Z] [LOG] 📊 Found 0 active loans for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:56.236Z] [LOG] 📊 Found 0 active advances for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:56.415Z] [LOG] 📊 Found 0 approved bonuses for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:56.416Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:00:56.417Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:00:56.417Z] [LOG] 💰 GROSS CALCULATION for Ammaar Ilham:
[2025-10-17T08:00:56.418Z] [LOG]    Base Salary: 70000
[2025-10-17T08:00:56.419Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:00:56.419Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:00:56.420Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:56.596Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:00:56.773Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:00:56.774Z] [LOG]    Employee ID: 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:56.774Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:00:56.775Z] [LOG]    Base Salary: Rs.70000.00
[2025-10-17T08:00:56.951Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:00:56.952Z] [LOG]       Daily Salary: Rs.2800.00
[2025-10-17T08:00:56.952Z] [LOG]       Weekday Hourly Rate: Rs.329.41
[2025-10-17T08:00:56.953Z] [LOG]       Saturday Hourly Rate: Rs.329.41
[2025-10-17T08:00:56.953Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:00:57.131Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:00:57.132Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:00:57.132Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:00:57.133Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:00:57.134Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:00:57.134Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:00:57.135Z] [LOG]       Weekday: 17.00h × Rs.329.41 = Rs.5599.97
[2025-10-17T08:00:57.136Z] [LOG]       Saturday: 0.00h × Rs.329.41 = Rs.0.00
[2025-10-17T08:00:57.136Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:00:57.137Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:57.137Z] [LOG]       Total Earned Salary: Rs.5599.97
[2025-10-17T08:00:57.138Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:00:57.140Z] [LOG]       Base Salary: Rs.70000.00
[2025-10-17T08:00:57.140Z] [LOG]       Earned Salary: Rs.5599.97
[2025-10-17T08:00:57.141Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:00:57.141Z] [LOG]       Attendance Deduction: Rs.64400.03
[2025-10-17T08:00:57.142Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:00:57.143Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:00:57.144Z] [LOG]    Gross Salary: 70000
[2025-10-17T08:00:57.144Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:00:57.145Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:00:57.145Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.146Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:00:57.147Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.147Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:00:57.148Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.149Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:00:57.149Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.150Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:00:57.151Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.151Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:00:57.152Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.153Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:00:57.154Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.154Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:00:57.155Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.155Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:00:57.156Z] [LOG]    Fixed amount: 0
[2025-10-17T08:00:57.157Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:00:57.157Z] [LOG] Regular deductions for Ammaar Ilham: {
  "components": [],
  "total": 0
}
[2025-10-17T08:00:57.158Z] [LOG] Combined deductions for Ammaar Ilham: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 64400.03,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 64400.03
}
[2025-10-17T08:00:57.340Z] [LOG] Creating components for record f80aeb35-9ae1-4182-85e1-c4fc3e16c10a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:00:57.341Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 64400.03
}
[2025-10-17T08:00:57.516Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:00:57.694Z] [LOG] Created payroll_record_component: 5562f783-dfd4-40ba-849a-2ea8bd4e61e5 for Attendance Deduction
[2025-10-17T08:00:58.048Z] [LOG] ✅ Financial balances updated successfully for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:58.049Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:00:58.049Z] [LOG] 
======================================================================
[2025-10-17T08:00:58.050Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ammaar Ilham
[2025-10-17T08:00:58.051Z] [LOG] ======================================================================
[2025-10-17T08:00:58.051Z] [LOG]    Gross Salary: Rs.70000.00
[2025-10-17T08:00:58.052Z] [LOG]    Total Deductions: Rs.64400.03
[2025-10-17T08:00:58.053Z] [LOG]       - Attendance Deduction: Rs.64400.03
[2025-10-17T08:00:58.053Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:00:58.054Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:00:58.054Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:00:58.055Z] [LOG]    NET SALARY: Rs.5599.97
[2025-10-17T08:00:58.056Z] [LOG] ======================================================================

[2025-10-17T08:00:58.057Z] [LOG] ✅ Ammaar Ilham: Calculation completed successfully
[2025-10-17T08:00:58.058Z] [LOG] 📊 Progress: 14/34 (41.2%)
[2025-10-17T08:00:58.058Z] [LOG] 
🧮 Processing: Waruni null (EMP000024)
[2025-10-17T08:00:58.059Z] [LOG] 📋 Record ID: 1de04cfb-c380-481f-9326-d4d682ac9f6f
[2025-10-17T08:00:58.060Z] [LOG] 
======================================================================
[2025-10-17T08:00:58.061Z] [LOG] 🧮 CALCULATING PAYROLL: Waruni null (EMP000024)
[2025-10-17T08:00:58.061Z] [LOG] ======================================================================
[2025-10-17T08:00:58.764Z] [LOG] 🔍 Component filtering for employee 0143e40c-7105-11f0-a50f-98e743540430:
[2025-10-17T08:00:58.765Z] [LOG]    Total components: 10
[2025-10-17T08:00:58.765Z] [LOG]    Applicable components: 10
[2025-10-17T08:00:58.766Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:00:59.471Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:00:59.472Z] [LOG] 🔄 Processing financial records for employee 0143e40c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:00:59.649Z] [LOG] 📊 Found 0 active loans for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T08:00:59.824Z] [LOG] 📊 Found 0 active advances for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:00.001Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:00.002Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:00.003Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:00.004Z] [LOG] 💰 GROSS CALCULATION for Waruni null:
[2025-10-17T08:01:00.004Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:00.005Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:00.006Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:00.007Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.186Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:00.362Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:00.363Z] [LOG]    Employee ID: 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:00.364Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:00.364Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:00.539Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:00.540Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:00.540Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:00.541Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:00.541Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:00.716Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:00.717Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:00.717Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:00.718Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:00.719Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:00.719Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:00.720Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:00.721Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:00.721Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:00.722Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:00.722Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:00.723Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:00.724Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:00.725Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:00.726Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:00.726Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:00.727Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:00.728Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:00.728Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:00.729Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:00.730Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:00.730Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.731Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:00.731Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.732Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:00.733Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.733Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:00.734Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.735Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:00.736Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.736Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:00.737Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.738Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:00.738Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.739Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:00.739Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.740Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:00.741Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:00.741Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:00.742Z] [LOG] Regular deductions for Waruni null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:00.743Z] [LOG] Combined deductions for Waruni null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:00.923Z] [LOG] Creating components for record 1de04cfb-c380-481f-9326-d4d682ac9f6f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:00.925Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:01.101Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:01.278Z] [LOG] Created payroll_record_component: 4fc46411-89da-4cb0-8966-4249ab96cdb4 for Attendance Deduction
[2025-10-17T08:01:01.630Z] [LOG] ✅ Financial balances updated successfully for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:01.631Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:01.632Z] [LOG] 
======================================================================
[2025-10-17T08:01:01.632Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Waruni null
[2025-10-17T08:01:01.634Z] [LOG] ======================================================================
[2025-10-17T08:01:01.635Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:01.636Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:01.637Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:01.638Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:01.638Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:01.639Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:01.640Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:01.640Z] [LOG] ======================================================================

[2025-10-17T08:01:01.641Z] [LOG] ✅ Waruni null: Calculation completed successfully
[2025-10-17T08:01:01.642Z] [LOG] 📊 Progress: 15/34 (44.1%)
[2025-10-17T08:01:01.643Z] [LOG] 
🧮 Processing: Piyumi null (EMP000025)
[2025-10-17T08:01:01.644Z] [LOG] 📋 Record ID: 8b00c341-b949-4c0e-82bb-20922fa3cb0d
[2025-10-17T08:01:01.644Z] [LOG] 
======================================================================
[2025-10-17T08:01:01.645Z] [LOG] 🧮 CALCULATING PAYROLL: Piyumi null (EMP000025)
[2025-10-17T08:01:01.646Z] [LOG] ======================================================================
[2025-10-17T08:01:02.347Z] [LOG] 🔍 Component filtering for employee 0143e565-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:02.348Z] [LOG]    Total components: 10
[2025-10-17T08:01:02.348Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:02.349Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:01:03.049Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:03.050Z] [LOG] 🔄 Processing financial records for employee 0143e565-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:03.225Z] [LOG] 📊 Found 0 active loans for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:03.400Z] [LOG] 📊 Found 0 active advances for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:03.576Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:03.577Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:03.578Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:03.579Z] [LOG] 💰 GROSS CALCULATION for Piyumi null:
[2025-10-17T08:01:03.580Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:03.580Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:03.581Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:03.581Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:03.755Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:03.936Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:03.937Z] [LOG]    Employee ID: 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:03.937Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:03.938Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:04.113Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:04.113Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:04.114Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:04.114Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:04.115Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:04.300Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:04.301Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:04.302Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:04.302Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:04.303Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:04.303Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:04.305Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:04.305Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:04.306Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:04.307Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:04.307Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:04.308Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:04.310Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:04.310Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:04.311Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:04.311Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:04.312Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:04.313Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:04.313Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:04.314Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:04.315Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:04.315Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.316Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:04.316Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.317Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:04.318Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.319Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:04.319Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.320Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:04.321Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.321Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:04.322Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.322Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:04.323Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.324Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:04.325Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.325Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:04.326Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:04.326Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:04.327Z] [LOG] Regular deductions for Piyumi null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:04.328Z] [LOG] Combined deductions for Piyumi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:04.509Z] [LOG] Creating components for record 8b00c341-b949-4c0e-82bb-20922fa3cb0d: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:04.513Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:04.689Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:04.865Z] [LOG] Created payroll_record_component: 3dcfab04-2367-483d-a379-a88dd476fdb8 for Attendance Deduction
[2025-10-17T08:01:05.212Z] [LOG] ✅ Financial balances updated successfully for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:05.213Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:05.214Z] [LOG] 
======================================================================
[2025-10-17T08:01:05.214Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Piyumi null
[2025-10-17T08:01:05.215Z] [LOG] ======================================================================
[2025-10-17T08:01:05.216Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:05.216Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:05.217Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:05.217Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:05.218Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:05.219Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:05.219Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:05.220Z] [LOG] ======================================================================

[2025-10-17T08:01:05.221Z] [LOG] ✅ Piyumi null: Calculation completed successfully
[2025-10-17T08:01:05.222Z] [LOG] 📊 Progress: 16/34 (47.1%)
[2025-10-17T08:01:05.223Z] [LOG] 
🧮 Processing: Sujevan Selvaratnam null (EMP000026)
[2025-10-17T08:01:05.223Z] [LOG] 📋 Record ID: 7c32569b-a680-42c3-8f30-eb9e97e73560
[2025-10-17T08:01:05.224Z] [LOG] 
======================================================================
[2025-10-17T08:01:05.225Z] [LOG] 🧮 CALCULATING PAYROLL: Sujevan Selvaratnam null (EMP000026)
[2025-10-17T08:01:05.225Z] [LOG] ======================================================================
[2025-10-17T08:01:05.926Z] [LOG] 🔍 Component filtering for employee 0143e6c3-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:05.927Z] [LOG]    Total components: 10
[2025-10-17T08:01:05.927Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:05.927Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:01:06.634Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:06.635Z] [LOG] 🔄 Processing financial records for employee 0143e6c3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:06.810Z] [LOG] 📊 Found 0 active loans for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:06.986Z] [LOG] 📊 Found 0 active advances for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:07.161Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:07.162Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:07.163Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:07.164Z] [LOG] 💰 GROSS CALCULATION for Sujevan Selvaratnam null:
[2025-10-17T08:01:07.164Z] [LOG]    Base Salary: 1
[2025-10-17T08:01:07.165Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:07.166Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:07.166Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.340Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:07.517Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:07.518Z] [LOG]    Employee ID: 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:07.519Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:07.519Z] [LOG]    Base Salary: Rs.1.00
[2025-10-17T08:01:07.695Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:07.695Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-17T08:01:07.696Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T08:01:07.697Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T08:01:07.697Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:07.874Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:07.874Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:07.875Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:07.876Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:07.876Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:07.877Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:07.877Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:07.878Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:07.879Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:07.879Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:07.880Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T08:01:07.881Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:07.882Z] [LOG]       Base Salary: Rs.1.00
[2025-10-17T08:01:07.882Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T08:01:07.883Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:07.884Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-17T08:01:07.884Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-17T08:01:07.885Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:07.886Z] [LOG]    Gross Salary: 1
[2025-10-17T08:01:07.886Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:07.887Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:07.888Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.888Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:07.889Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.889Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:07.890Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.891Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:07.891Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.892Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:07.892Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.893Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:07.893Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.894Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:07.895Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.896Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:07.896Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.897Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:07.897Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:07.898Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:07.899Z] [LOG] Regular deductions for Sujevan Selvaratnam null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:07.899Z] [LOG] Combined deductions for Sujevan Selvaratnam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-17T08:01:08.084Z] [LOG] Creating components for record 7c32569b-a680-42c3-8f30-eb9e97e73560: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:08.086Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-17T08:01:08.260Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:08.436Z] [LOG] Created payroll_record_component: 978f9c3a-ab11-49f2-b8b0-b73246a6d9b1 for Attendance Deduction
[2025-10-17T08:01:08.805Z] [LOG] ✅ Financial balances updated successfully for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:08.806Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:08.807Z] [LOG] 
======================================================================
[2025-10-17T08:01:08.807Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sujevan Selvaratnam null
[2025-10-17T08:01:08.808Z] [LOG] ======================================================================
[2025-10-17T08:01:08.808Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-17T08:01:08.809Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-17T08:01:08.810Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-17T08:01:08.810Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:08.811Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:08.811Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:08.812Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T08:01:08.813Z] [LOG] ======================================================================

[2025-10-17T08:01:08.814Z] [LOG] ✅ Sujevan Selvaratnam null: Calculation completed successfully
[2025-10-17T08:01:08.815Z] [LOG] 📊 Progress: 17/34 (50.0%)
[2025-10-17T08:01:08.815Z] [LOG] 
🧮 Processing: Ruvindu Hewabandu null (EMP000027)
[2025-10-17T08:01:08.816Z] [LOG] 📋 Record ID: 09ec67c6-96be-4b10-b788-c302a656c993
[2025-10-17T08:01:08.817Z] [LOG] 
======================================================================
[2025-10-17T08:01:08.818Z] [LOG] 🧮 CALCULATING PAYROLL: Ruvindu Hewabandu null (EMP000027)
[2025-10-17T08:01:08.819Z] [LOG] ======================================================================
[2025-10-17T08:01:09.515Z] [LOG] 🔍 Component filtering for employee 0143e915-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:09.515Z] [LOG]    Total components: 10
[2025-10-17T08:01:09.515Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:09.516Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:01:10.218Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:10.219Z] [LOG] 🔄 Processing financial records for employee 0143e915-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:10.395Z] [LOG] 📊 Found 0 active loans for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:10.571Z] [LOG] 📊 Found 0 active advances for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:10.751Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:10.751Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:10.753Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:10.753Z] [LOG] 💰 GROSS CALCULATION for Ruvindu Hewabandu null:
[2025-10-17T08:01:10.754Z] [LOG]    Base Salary: 0
[2025-10-17T08:01:10.754Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:10.755Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:10.756Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:10.930Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:11.106Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:11.107Z] [LOG]    Employee ID: 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:11.108Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:11.108Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T08:01:11.285Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:11.285Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T08:01:11.286Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T08:01:11.287Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T08:01:11.287Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:11.467Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:11.468Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:11.469Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:11.470Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:11.470Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:11.471Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:11.472Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:11.473Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:11.473Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:11.475Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:11.476Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T08:01:11.477Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:11.477Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T08:01:11.478Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T08:01:11.479Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:11.479Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T08:01:11.480Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T08:01:11.481Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:11.482Z] [LOG]    Gross Salary: 0
[2025-10-17T08:01:11.482Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:11.483Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:11.484Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.486Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:11.486Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.487Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:11.488Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.488Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:11.489Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.490Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:11.490Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.492Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:11.493Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.493Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:11.494Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.494Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:11.495Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.495Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:11.496Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:11.496Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:11.496Z] [LOG] Regular deductions for Ruvindu Hewabandu null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:11.497Z] [LOG] Combined deductions for Ruvindu Hewabandu null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T08:01:11.682Z] [LOG] Creating components for record 09ec67c6-96be-4b10-b788-c302a656c993: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:11.683Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T08:01:11.859Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:12.038Z] [LOG] Created payroll_record_component: ce1870a8-8896-44cf-8df0-e499cc98b327 for Attendance Deduction
[2025-10-17T08:01:12.385Z] [LOG] ✅ Financial balances updated successfully for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:12.386Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:12.386Z] [LOG] 
======================================================================
[2025-10-17T08:01:12.387Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ruvindu Hewabandu null
[2025-10-17T08:01:12.388Z] [LOG] ======================================================================
[2025-10-17T08:01:12.388Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T08:01:12.389Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T08:01:12.389Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T08:01:12.390Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:12.390Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:12.391Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:12.392Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T08:01:12.393Z] [LOG] ======================================================================

[2025-10-17T08:01:12.394Z] [LOG] ✅ Ruvindu Hewabandu null: Calculation completed successfully
[2025-10-17T08:01:12.394Z] [LOG] 📊 Progress: 18/34 (52.9%)
[2025-10-17T08:01:12.395Z] [LOG] 
🧮 Processing: Rasanga null (EMP000028)
[2025-10-17T08:01:12.396Z] [LOG] 📋 Record ID: b2d8ffbf-0b88-4a44-b6f9-f49e7e3c38ce
[2025-10-17T08:01:12.396Z] [LOG] 
======================================================================
[2025-10-17T08:01:12.397Z] [LOG] 🧮 CALCULATING PAYROLL: Rasanga null (EMP000028)
[2025-10-17T08:01:12.398Z] [LOG] ======================================================================
[2025-10-17T08:01:13.098Z] [LOG] 🔍 Component filtering for employee 0143eaec-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:13.099Z] [LOG]    Total components: 10
[2025-10-17T08:01:13.099Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:13.100Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T08:01:13.802Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:13.802Z] [LOG] 🔄 Processing financial records for employee 0143eaec-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:13.976Z] [LOG] 📊 Found 0 active loans for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:14.153Z] [LOG] 📊 Found 0 active advances for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:14.327Z] [LOG] 📊 Found 0 approved bonuses for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:14.328Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:14.329Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:14.330Z] [LOG] 💰 GROSS CALCULATION for Rasanga null:
[2025-10-17T08:01:14.331Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:14.331Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:14.332Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:14.333Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:14.506Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:14.683Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:14.684Z] [LOG]    Employee ID: 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:14.684Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:14.685Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:14.859Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:14.860Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:14.860Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:14.860Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:14.861Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:15.036Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:15.037Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:15.037Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:15.038Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:15.039Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:15.039Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:15.040Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:15.040Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:15.041Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:15.042Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:15.042Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:15.043Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:15.044Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:15.045Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:15.046Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:15.046Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:15.047Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:15.047Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:15.048Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:15.049Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:15.050Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:15.051Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.051Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:15.052Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.052Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:15.053Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.054Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:15.054Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.055Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:15.056Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.056Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:15.057Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.057Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:15.058Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.059Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:15.059Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.060Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:15.061Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:15.061Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:15.062Z] [LOG] Regular deductions for Rasanga null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:15.063Z] [LOG] Combined deductions for Rasanga null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:15.244Z] [LOG] Creating components for record b2d8ffbf-0b88-4a44-b6f9-f49e7e3c38ce: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:15.246Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:15.422Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:15.617Z] [LOG] Created payroll_record_component: 82ae11a0-2830-49f0-bbed-671233727881 for Attendance Deduction
[2025-10-17T08:01:15.976Z] [LOG] ✅ Financial balances updated successfully for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:15.977Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:15.977Z] [LOG] 
======================================================================
[2025-10-17T08:01:15.978Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Rasanga null
[2025-10-17T08:01:15.978Z] [LOG] ======================================================================
[2025-10-17T08:01:15.979Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:15.980Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:15.980Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:15.981Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:15.981Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:15.982Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:15.984Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:15.985Z] [LOG] ======================================================================

[2025-10-17T08:01:15.986Z] [LOG] ✅ Rasanga null: Calculation completed successfully
[2025-10-17T08:01:15.986Z] [LOG] 📊 Progress: 19/34 (55.9%)
[2025-10-17T08:01:15.987Z] [LOG] 
🧮 Processing: Chamodi null (EMP000032)
[2025-10-17T08:01:15.988Z] [LOG] 📋 Record ID: c90887ef-af33-4ac0-af4c-2dd453353565
[2025-10-17T08:01:15.988Z] [LOG] 
======================================================================
[2025-10-17T08:01:15.989Z] [LOG] 🧮 CALCULATING PAYROLL: Chamodi null (EMP000032)
[2025-10-17T08:01:15.990Z] [LOG] ======================================================================
[2025-10-17T08:01:16.705Z] [LOG] 🔍 Component filtering for employee 0143f302-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:16.706Z] [LOG]    Total components: 10
[2025-10-17T08:01:16.706Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:16.707Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:01:17.411Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:17.412Z] [LOG] 🔄 Processing financial records for employee 0143f302-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:17.587Z] [LOG] 📊 Found 0 active loans for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:17.760Z] [LOG] 📊 Found 0 active advances for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:17.936Z] [LOG] 📊 Found 0 approved bonuses for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:17.937Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:17.938Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:17.939Z] [LOG] 💰 GROSS CALCULATION for Chamodi null:
[2025-10-17T08:01:17.940Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:17.940Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:17.941Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:17.942Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.117Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:18.295Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:18.296Z] [LOG]    Employee ID: 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:18.297Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:18.297Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:18.471Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:18.472Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:18.473Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:18.473Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:18.474Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:18.650Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:18.651Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:18.652Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:18.652Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:18.653Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:18.653Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:18.654Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:18.655Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:18.655Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:18.656Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:18.656Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:18.657Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:18.658Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:18.659Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:18.659Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:18.660Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:18.661Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:18.661Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:18.662Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:18.663Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:18.663Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:18.664Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.664Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:18.665Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.666Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:18.666Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.668Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:18.668Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.669Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:18.669Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.670Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:18.670Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.671Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:18.672Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.672Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:18.673Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.674Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:18.674Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:18.675Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:18.676Z] [LOG] Regular deductions for Chamodi null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:18.676Z] [LOG] Combined deductions for Chamodi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:18.859Z] [LOG] Creating components for record c90887ef-af33-4ac0-af4c-2dd453353565: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:18.860Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:19.039Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:19.219Z] [LOG] Created payroll_record_component: f32bfb46-3970-4a20-9892-bf95c8f585c8 for Attendance Deduction
[2025-10-17T08:01:19.588Z] [LOG] ✅ Financial balances updated successfully for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:19.589Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:19.590Z] [LOG] 
======================================================================
[2025-10-17T08:01:19.590Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chamodi null
[2025-10-17T08:01:19.591Z] [LOG] ======================================================================
[2025-10-17T08:01:19.592Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:19.592Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:19.593Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:19.593Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:19.594Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:19.595Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:19.595Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:19.596Z] [LOG] ======================================================================

[2025-10-17T08:01:19.597Z] [LOG] ✅ Chamodi null: Calculation completed successfully
[2025-10-17T08:01:19.598Z] [LOG] 📊 Progress: 20/34 (58.8%)
[2025-10-17T08:01:19.599Z] [LOG] 
🧮 Processing: Shandeep null (EMP000034)
[2025-10-17T08:01:19.599Z] [LOG] 📋 Record ID: 585bb3b3-e655-4cc5-ac18-1641f3e3c5c8
[2025-10-17T08:01:19.600Z] [LOG] 
======================================================================
[2025-10-17T08:01:19.602Z] [LOG] 🧮 CALCULATING PAYROLL: Shandeep null (EMP000034)
[2025-10-17T08:01:19.603Z] [LOG] ======================================================================
[2025-10-17T08:01:20.334Z] [LOG] 🔍 Component filtering for employee 0143fc5a-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:20.335Z] [LOG]    Total components: 10
[2025-10-17T08:01:20.335Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:20.336Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:01:21.043Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:21.044Z] [LOG] 🔄 Processing financial records for employee 0143fc5a-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:21.219Z] [LOG] 📊 Found 0 active loans for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:21.412Z] [LOG] 📊 Found 0 active advances for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:21.593Z] [LOG] 📊 Found 0 approved bonuses for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:21.594Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:21.595Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:21.596Z] [LOG] 💰 GROSS CALCULATION for Shandeep null:
[2025-10-17T08:01:21.596Z] [LOG]    Base Salary: 80000
[2025-10-17T08:01:21.597Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:21.597Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:21.598Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:21.776Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:21.950Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:21.951Z] [LOG]    Employee ID: 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:21.952Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:21.952Z] [LOG]    Base Salary: Rs.80000.00
[2025-10-17T08:01:22.130Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:22.130Z] [LOG]       Daily Salary: Rs.3200.00
[2025-10-17T08:01:22.131Z] [LOG]       Weekday Hourly Rate: Rs.376.47
[2025-10-17T08:01:22.132Z] [LOG]       Saturday Hourly Rate: Rs.376.47
[2025-10-17T08:01:22.132Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:22.308Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:22.309Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:22.309Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:22.310Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:22.310Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:22.311Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:22.312Z] [LOG]       Weekday: 17.00h × Rs.376.47 = Rs.6399.99
[2025-10-17T08:01:22.312Z] [LOG]       Saturday: 0.00h × Rs.376.47 = Rs.0.00
[2025-10-17T08:01:22.313Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:22.314Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:22.314Z] [LOG]       Total Earned Salary: Rs.6399.99
[2025-10-17T08:01:22.315Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:22.316Z] [LOG]       Base Salary: Rs.80000.00
[2025-10-17T08:01:22.317Z] [LOG]       Earned Salary: Rs.6399.99
[2025-10-17T08:01:22.317Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:22.318Z] [LOG]       Attendance Deduction: Rs.73600.01
[2025-10-17T08:01:22.319Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:22.319Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:22.320Z] [LOG]    Gross Salary: 80000
[2025-10-17T08:01:22.321Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:22.321Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:22.322Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.322Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:22.323Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.324Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:22.324Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.325Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:22.326Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.326Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:22.327Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.327Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:22.328Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.328Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:22.329Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.330Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:22.330Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.331Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:22.331Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:22.332Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:22.332Z] [LOG] Regular deductions for Shandeep null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:22.333Z] [LOG] Combined deductions for Shandeep null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 73600.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 73600.01
}
[2025-10-17T08:01:22.519Z] [LOG] Creating components for record 585bb3b3-e655-4cc5-ac18-1641f3e3c5c8: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:22.521Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 73600.01
}
[2025-10-17T08:01:22.698Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:22.877Z] [LOG] Created payroll_record_component: 5bd8ea50-c09f-44a7-877f-83ed6bba6b8d for Attendance Deduction
[2025-10-17T08:01:23.228Z] [LOG] ✅ Financial balances updated successfully for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:23.228Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:23.229Z] [LOG] 
======================================================================
[2025-10-17T08:01:23.230Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Shandeep null
[2025-10-17T08:01:23.230Z] [LOG] ======================================================================
[2025-10-17T08:01:23.231Z] [LOG]    Gross Salary: Rs.80000.00
[2025-10-17T08:01:23.231Z] [LOG]    Total Deductions: Rs.73600.01
[2025-10-17T08:01:23.232Z] [LOG]       - Attendance Deduction: Rs.73600.01
[2025-10-17T08:01:23.233Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:23.234Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:23.235Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:23.235Z] [LOG]    NET SALARY: Rs.6399.99
[2025-10-17T08:01:23.236Z] [LOG] ======================================================================

[2025-10-17T08:01:23.237Z] [LOG] ✅ Shandeep null: Calculation completed successfully
[2025-10-17T08:01:23.237Z] [LOG] 📊 Progress: 21/34 (61.8%)
[2025-10-17T08:01:23.238Z] [LOG] 
🧮 Processing: Maryam null (EMP000035)
[2025-10-17T08:01:23.239Z] [LOG] 📋 Record ID: 48354012-df34-4a72-a6cb-a9b44060a5b4
[2025-10-17T08:01:23.239Z] [LOG] 
======================================================================
[2025-10-17T08:01:23.241Z] [LOG] 🧮 CALCULATING PAYROLL: Maryam null (EMP000035)
[2025-10-17T08:01:23.241Z] [LOG] ======================================================================
[2025-10-17T08:01:23.941Z] [LOG] 🔍 Component filtering for employee 01440221-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:23.942Z] [LOG]    Total components: 10
[2025-10-17T08:01:23.942Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:23.943Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T08:01:24.644Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:24.645Z] [LOG] 🔄 Processing financial records for employee 01440221-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:24.823Z] [LOG] 📊 Found 0 active loans for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:25.007Z] [LOG] 📊 Found 0 active advances for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:25.182Z] [LOG] 📊 Found 0 approved bonuses for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:25.183Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:25.184Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:25.185Z] [LOG] 💰 GROSS CALCULATION for Maryam null:
[2025-10-17T08:01:25.185Z] [LOG]    Base Salary: 40000
[2025-10-17T08:01:25.186Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:25.186Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:25.187Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.363Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:25.539Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:25.540Z] [LOG]    Employee ID: 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:25.540Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:25.541Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-17T08:01:25.718Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:25.719Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-17T08:01:25.720Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-17T08:01:25.720Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-17T08:01:25.721Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:25.895Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:25.896Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:25.897Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:25.897Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:25.898Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:25.898Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:25.900Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-17T08:01:25.900Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-17T08:01:25.901Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:25.902Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:25.903Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-17T08:01:25.903Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:25.904Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-17T08:01:25.905Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-17T08:01:25.906Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:25.906Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-17T08:01:25.907Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:25.907Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:25.908Z] [LOG]    Gross Salary: 40000
[2025-10-17T08:01:25.909Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:25.910Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:25.910Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.911Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:25.911Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.912Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:25.913Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.913Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:25.914Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.914Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:25.915Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.916Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:25.916Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.917Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:25.918Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.918Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:25.919Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.919Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:25.920Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:25.921Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:25.921Z] [LOG] Regular deductions for Maryam null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:25.922Z] [LOG] Combined deductions for Maryam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-17T08:01:26.100Z] [LOG] Creating components for record 48354012-df34-4a72-a6cb-a9b44060a5b4: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:26.102Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-17T08:01:26.277Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:26.456Z] [LOG] Created payroll_record_component: 87081c21-6aed-4a62-9044-6b8eff6e3794 for Attendance Deduction
[2025-10-17T08:01:26.804Z] [LOG] ✅ Financial balances updated successfully for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:26.805Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:26.805Z] [LOG] 
======================================================================
[2025-10-17T08:01:26.806Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Maryam null
[2025-10-17T08:01:26.806Z] [LOG] ======================================================================
[2025-10-17T08:01:26.807Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-17T08:01:26.808Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-17T08:01:26.808Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-17T08:01:26.809Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:26.809Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:26.810Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:26.811Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-17T08:01:26.812Z] [LOG] ======================================================================

[2025-10-17T08:01:26.812Z] [LOG] ✅ Maryam null: Calculation completed successfully
[2025-10-17T08:01:26.813Z] [LOG] 📊 Progress: 22/34 (64.7%)
[2025-10-17T08:01:26.814Z] [LOG] 
🧮 Processing: customer null (EMP000036)
[2025-10-17T08:01:26.814Z] [LOG] 📋 Record ID: 4be4e6fb-dec2-4530-9094-2b4ade4f76bc
[2025-10-17T08:01:26.815Z] [LOG] 
======================================================================
[2025-10-17T08:01:26.816Z] [LOG] 🧮 CALCULATING PAYROLL: customer null (EMP000036)
[2025-10-17T08:01:26.817Z] [LOG] ======================================================================
[2025-10-17T08:01:27.536Z] [LOG] 🔍 Component filtering for employee 014409a2-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:27.536Z] [LOG]    Total components: 10
[2025-10-17T08:01:27.537Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:27.537Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:01:28.263Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:28.264Z] [LOG] 🔄 Processing financial records for employee 014409a2-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:28.440Z] [LOG] 📊 Found 0 active loans for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:28.615Z] [LOG] 📊 Found 0 active advances for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:28.791Z] [LOG] 📊 Found 0 approved bonuses for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:28.791Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:28.792Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:28.792Z] [LOG] 💰 GROSS CALCULATION for customer null:
[2025-10-17T08:01:28.792Z] [LOG]    Base Salary: 0
[2025-10-17T08:01:28.792Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:28.793Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:28.793Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:28.971Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:29.144Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:29.144Z] [LOG]    Employee ID: 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:29.145Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:29.145Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T08:01:29.323Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:29.323Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T08:01:29.323Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T08:01:29.323Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T08:01:29.323Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:29.507Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:29.507Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:29.507Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:29.507Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:29.507Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:29.508Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:29.508Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:29.508Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:29.508Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:29.508Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:29.509Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T08:01:29.509Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:29.509Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T08:01:29.509Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T08:01:29.509Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:29.510Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T08:01:29.510Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T08:01:29.510Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:29.510Z] [LOG]    Gross Salary: 0
[2025-10-17T08:01:29.511Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:29.511Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:29.511Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.511Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:29.511Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.512Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:29.512Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.512Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:29.512Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.512Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:29.512Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.513Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:29.513Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.513Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:29.513Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.513Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:29.514Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.514Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:29.514Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:29.514Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:29.514Z] [LOG] Regular deductions for customer null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:29.515Z] [LOG] Combined deductions for customer null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T08:01:29.689Z] [LOG] Creating components for record 4be4e6fb-dec2-4530-9094-2b4ade4f76bc: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:29.689Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T08:01:29.865Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:30.045Z] [LOG] Created payroll_record_component: 9d47b507-f647-4f1f-840f-735e2a009fb2 for Attendance Deduction
[2025-10-17T08:01:30.393Z] [LOG] ✅ Financial balances updated successfully for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:30.394Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:30.395Z] [LOG] 
======================================================================
[2025-10-17T08:01:30.395Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: customer null
[2025-10-17T08:01:30.395Z] [LOG] ======================================================================
[2025-10-17T08:01:30.395Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T08:01:30.395Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T08:01:30.396Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T08:01:30.396Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:30.396Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:30.396Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:30.396Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T08:01:30.396Z] [LOG] ======================================================================

[2025-10-17T08:01:30.397Z] [LOG] ✅ customer null: Calculation completed successfully
[2025-10-17T08:01:30.397Z] [LOG] 📊 Progress: 23/34 (67.6%)
[2025-10-17T08:01:30.397Z] [LOG] 
🧮 Processing: Viruna Damsiha Cooray null (EMP000038)
[2025-10-17T08:01:30.397Z] [LOG] 📋 Record ID: fd9c3110-b963-4572-9507-1da5c0b197ff
[2025-10-17T08:01:30.397Z] [LOG] 
======================================================================
[2025-10-17T08:01:30.397Z] [LOG] 🧮 CALCULATING PAYROLL: Viruna Damsiha Cooray null (EMP000038)
[2025-10-17T08:01:30.398Z] [LOG] ======================================================================
[2025-10-17T08:01:31.109Z] [LOG] 🔍 Component filtering for employee 01441633-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:31.109Z] [LOG]    Total components: 10
[2025-10-17T08:01:31.109Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:31.110Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T08:01:31.830Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:31.831Z] [LOG] 🔄 Processing financial records for employee 01441633-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:32.005Z] [LOG] 📊 Found 0 active loans for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:32.180Z] [LOG] 📊 Found 0 active advances for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:32.358Z] [LOG] 📊 Found 0 approved bonuses for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:32.358Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:32.359Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:32.359Z] [LOG] 💰 GROSS CALCULATION for Viruna Damsiha Cooray null:
[2025-10-17T08:01:32.359Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:32.360Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:32.360Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:32.360Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:32.534Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:32.710Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:32.711Z] [LOG]    Employee ID: 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:32.711Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:32.711Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:32.887Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:32.887Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:32.887Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:32.888Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:32.888Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:33.062Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:33.062Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:33.062Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:33.063Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:33.063Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:33.063Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:33.063Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:33.064Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:33.064Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:33.064Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:33.064Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:33.064Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:33.065Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:33.065Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:33.065Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:33.065Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:33.066Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:33.066Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:33.066Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:33.066Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:33.067Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:33.067Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.067Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:33.067Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.068Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:33.068Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.068Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:33.068Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.068Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:33.069Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.069Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:33.069Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.069Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:33.069Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.069Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:33.070Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.070Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:33.070Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:33.070Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:33.070Z] [LOG] Regular deductions for Viruna Damsiha Cooray null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:33.070Z] [LOG] Combined deductions for Viruna Damsiha Cooray null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:33.246Z] [LOG] Creating components for record fd9c3110-b963-4572-9507-1da5c0b197ff: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:33.247Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:33.422Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:33.600Z] [LOG] Created payroll_record_component: bcd00ad4-f06d-43d4-b151-8cba0a3fb351 for Attendance Deduction
[2025-10-17T08:01:33.950Z] [LOG] ✅ Financial balances updated successfully for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:33.950Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:33.951Z] [LOG] 
======================================================================
[2025-10-17T08:01:33.951Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Viruna Damsiha Cooray null
[2025-10-17T08:01:33.951Z] [LOG] ======================================================================
[2025-10-17T08:01:33.951Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:33.952Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:33.952Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:33.952Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:33.952Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:33.953Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:33.953Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:33.953Z] [LOG] ======================================================================

[2025-10-17T08:01:33.954Z] [LOG] ✅ Viruna Damsiha Cooray null: Calculation completed successfully
[2025-10-17T08:01:33.954Z] [LOG] 📊 Progress: 24/34 (70.6%)
[2025-10-17T08:01:33.954Z] [LOG] 
🧮 Processing: Sithira null (EMP000039)
[2025-10-17T08:01:33.954Z] [LOG] 📋 Record ID: 592caaf6-c206-43fd-8d20-97d6aa14090e
[2025-10-17T08:01:33.955Z] [LOG] 
======================================================================
[2025-10-17T08:01:33.955Z] [LOG] 🧮 CALCULATING PAYROLL: Sithira null (EMP000039)
[2025-10-17T08:01:33.955Z] [LOG] ======================================================================
[2025-10-17T08:01:34.655Z] [LOG] 🔍 Component filtering for employee 01441e19-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:34.656Z] [LOG]    Total components: 10
[2025-10-17T08:01:34.656Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:34.656Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T08:01:35.352Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:35.353Z] [LOG] 🔄 Processing financial records for employee 01441e19-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:35.527Z] [LOG] 📊 Found 0 active loans for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:35.702Z] [LOG] 📊 Found 0 active advances for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:35.877Z] [LOG] 📊 Found 0 approved bonuses for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:35.877Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:35.877Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:35.878Z] [LOG] 💰 GROSS CALCULATION for Sithira null:
[2025-10-17T08:01:35.878Z] [LOG]    Base Salary: 40000
[2025-10-17T08:01:35.878Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:35.878Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:35.879Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.052Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:36.227Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:36.227Z] [LOG]    Employee ID: 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:36.228Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:36.228Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-17T08:01:36.403Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:36.403Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-17T08:01:36.404Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-17T08:01:36.404Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-17T08:01:36.404Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:36.579Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:36.579Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:36.579Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:36.579Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:36.579Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:36.580Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:36.580Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-17T08:01:36.580Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-17T08:01:36.580Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:36.580Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:36.580Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-17T08:01:36.580Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:36.581Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-17T08:01:36.581Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-17T08:01:36.581Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:36.581Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-17T08:01:36.581Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:36.581Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:36.581Z] [LOG]    Gross Salary: 40000
[2025-10-17T08:01:36.581Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:36.582Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:36.582Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.582Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:36.582Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.582Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:36.582Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.582Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:36.582Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.583Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:36.583Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.583Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:36.583Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.583Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:36.583Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.583Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:36.583Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.584Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:36.584Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:36.584Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:36.584Z] [LOG] Regular deductions for Sithira null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:36.584Z] [LOG] Combined deductions for Sithira null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-17T08:01:36.773Z] [LOG] Creating components for record 592caaf6-c206-43fd-8d20-97d6aa14090e: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:36.773Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-17T08:01:36.949Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:37.126Z] [LOG] Created payroll_record_component: 4a137884-d712-49ee-aea3-370b3753bb74 for Attendance Deduction
[2025-10-17T08:01:37.477Z] [LOG] ✅ Financial balances updated successfully for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:37.477Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:37.477Z] [LOG] 
======================================================================
[2025-10-17T08:01:37.477Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sithira null
[2025-10-17T08:01:37.478Z] [LOG] ======================================================================
[2025-10-17T08:01:37.478Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-17T08:01:37.478Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-17T08:01:37.478Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-17T08:01:37.478Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:37.478Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:37.479Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:37.479Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-17T08:01:37.479Z] [LOG] ======================================================================

[2025-10-17T08:01:37.480Z] [LOG] ✅ Sithira null: Calculation completed successfully
[2025-10-17T08:01:37.480Z] [LOG] 📊 Progress: 25/34 (73.5%)
[2025-10-17T08:01:37.480Z] [LOG] 
🧮 Processing: Chemil null (EMP000040)
[2025-10-17T08:01:37.480Z] [LOG] 📋 Record ID: 4afa8bfd-8e9a-455f-9dbc-1de611ca069b
[2025-10-17T08:01:37.481Z] [LOG] 
======================================================================
[2025-10-17T08:01:37.481Z] [LOG] 🧮 CALCULATING PAYROLL: Chemil null (EMP000040)
[2025-10-17T08:01:37.481Z] [LOG] ======================================================================
[2025-10-17T08:01:38.176Z] [LOG] 🔍 Component filtering for employee 01442599-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:38.177Z] [LOG]    Total components: 10
[2025-10-17T08:01:38.177Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:38.178Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:01:38.879Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:38.879Z] [LOG] 🔄 Processing financial records for employee 01442599-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:39.055Z] [LOG] 📊 Found 0 active loans for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:39.231Z] [LOG] 📊 Found 0 active advances for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:39.406Z] [LOG] 📊 Found 0 approved bonuses for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:39.406Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:39.408Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:39.408Z] [LOG] 💰 GROSS CALCULATION for Chemil null:
[2025-10-17T08:01:39.409Z] [LOG]    Base Salary: 250000
[2025-10-17T08:01:39.409Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:39.410Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:39.411Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:39.585Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:39.759Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:39.759Z] [LOG]    Employee ID: 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:39.760Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:39.761Z] [LOG]    Base Salary: Rs.250000.00
[2025-10-17T08:01:39.937Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:39.938Z] [LOG]       Daily Salary: Rs.10000.00
[2025-10-17T08:01:39.938Z] [LOG]       Weekday Hourly Rate: Rs.1176.47
[2025-10-17T08:01:39.939Z] [LOG]       Saturday Hourly Rate: Rs.1176.47
[2025-10-17T08:01:39.939Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:40.116Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:40.117Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:40.117Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:40.118Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:40.119Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:40.119Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:40.120Z] [LOG]       Weekday: 17.00h × Rs.1176.47 = Rs.19999.99
[2025-10-17T08:01:40.120Z] [LOG]       Saturday: 0.00h × Rs.1176.47 = Rs.0.00
[2025-10-17T08:01:40.121Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:40.122Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:40.122Z] [LOG]       Total Earned Salary: Rs.19999.99
[2025-10-17T08:01:40.123Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:40.125Z] [LOG]       Base Salary: Rs.250000.00
[2025-10-17T08:01:40.126Z] [LOG]       Earned Salary: Rs.19999.99
[2025-10-17T08:01:40.126Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:40.127Z] [LOG]       Attendance Deduction: Rs.230000.01
[2025-10-17T08:01:40.127Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:40.128Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:40.129Z] [LOG]    Gross Salary: 250000
[2025-10-17T08:01:40.129Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:40.130Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:40.130Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.131Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:40.132Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.132Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:40.133Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.134Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:40.134Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.135Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:40.136Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.136Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:40.137Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.137Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:40.138Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.139Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:40.139Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.140Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:40.140Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:40.141Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:40.142Z] [LOG] Regular deductions for Chemil null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:40.142Z] [LOG] Combined deductions for Chemil null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 230000.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 230000.01
}
[2025-10-17T08:01:40.324Z] [LOG] Creating components for record 4afa8bfd-8e9a-455f-9dbc-1de611ca069b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-17T08:01:40.325Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 230000.01
}
[2025-10-17T08:01:40.500Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:40.679Z] [LOG] Created payroll_record_component: 2178e7b9-123f-4de2-9e08-7ada800be28c for Attendance Deduction
[2025-10-17T08:01:40.680Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 12000
}
[2025-10-17T08:01:40.859Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-17T08:01:41.036Z] [LOG] Created payroll_record_component: f407929a-36df-4886-9abd-66c55e3b97ad for Income Tax
[2025-10-17T08:01:41.385Z] [LOG] ✅ Financial balances updated successfully for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:41.386Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:41.386Z] [LOG] 
======================================================================
[2025-10-17T08:01:41.387Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chemil null
[2025-10-17T08:01:41.388Z] [LOG] ======================================================================
[2025-10-17T08:01:41.388Z] [LOG]    Gross Salary: Rs.250000.00
[2025-10-17T08:01:41.389Z] [LOG]    Total Deductions: Rs.230000.01
[2025-10-17T08:01:41.390Z] [LOG]       - Attendance Deduction: Rs.230000.01
[2025-10-17T08:01:41.390Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:41.391Z] [LOG]    Total Taxes: Rs.12000.00
[2025-10-17T08:01:41.391Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:41.392Z] [LOG]    NET SALARY: Rs.7999.99
[2025-10-17T08:01:41.393Z] [LOG] ======================================================================

[2025-10-17T08:01:41.394Z] [LOG] ✅ Chemil null: Calculation completed successfully
[2025-10-17T08:01:41.395Z] [LOG] 📊 Progress: 26/34 (76.5%)
[2025-10-17T08:01:41.395Z] [LOG] 
🧮 Processing: Office Team null (EMP000041)
[2025-10-17T08:01:41.396Z] [LOG] 📋 Record ID: 12562a36-a75c-4462-8334-dd27e59e56e7
[2025-10-17T08:01:41.396Z] [LOG] 
======================================================================
[2025-10-17T08:01:41.397Z] [LOG] 🧮 CALCULATING PAYROLL: Office Team null (EMP000041)
[2025-10-17T08:01:41.398Z] [LOG] ======================================================================
[2025-10-17T08:01:42.106Z] [LOG] 🔍 Component filtering for employee 01442b21-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:42.106Z] [LOG]    Total components: 10
[2025-10-17T08:01:42.107Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:42.107Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:01:42.808Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:42.809Z] [LOG] 🔄 Processing financial records for employee 01442b21-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:42.984Z] [LOG] 📊 Found 0 active loans for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:43.159Z] [LOG] 📊 Found 0 active advances for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:43.334Z] [LOG] 📊 Found 0 approved bonuses for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:43.335Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:43.336Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:43.337Z] [LOG] 💰 GROSS CALCULATION for Office Team null:
[2025-10-17T08:01:43.337Z] [LOG]    Base Salary: 1
[2025-10-17T08:01:43.338Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:43.338Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:43.339Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:43.514Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:43.690Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:43.691Z] [LOG]    Employee ID: 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:43.692Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:43.692Z] [LOG]    Base Salary: Rs.1.00
[2025-10-17T08:01:43.870Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:43.871Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-17T08:01:43.872Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T08:01:43.872Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T08:01:43.873Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:44.050Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:44.050Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:44.051Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:44.052Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:44.052Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:44.053Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:44.053Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:44.054Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:44.055Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:44.055Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:44.056Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T08:01:44.057Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:44.058Z] [LOG]       Base Salary: Rs.1.00
[2025-10-17T08:01:44.059Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T08:01:44.059Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:44.060Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-17T08:01:44.061Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-17T08:01:44.061Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:44.062Z] [LOG]    Gross Salary: 1
[2025-10-17T08:01:44.062Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:44.063Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:44.064Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.064Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:44.065Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.065Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:44.066Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.066Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:44.068Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.068Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:44.069Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.070Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:44.070Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.071Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:44.071Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.072Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:44.073Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.073Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:44.074Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:44.074Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:44.075Z] [LOG] Regular deductions for Office Team null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:44.076Z] [LOG] Combined deductions for Office Team null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-17T08:01:44.255Z] [LOG] Creating components for record 12562a36-a75c-4462-8334-dd27e59e56e7: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:44.257Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-17T08:01:44.433Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:44.612Z] [LOG] Created payroll_record_component: fe1dc44c-233a-4b70-b1d5-894f447d9ea2 for Attendance Deduction
[2025-10-17T08:01:44.963Z] [LOG] ✅ Financial balances updated successfully for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:44.964Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:44.964Z] [LOG] 
======================================================================
[2025-10-17T08:01:44.965Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Office Team null
[2025-10-17T08:01:44.966Z] [LOG] ======================================================================
[2025-10-17T08:01:44.966Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-17T08:01:44.967Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-17T08:01:44.967Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-17T08:01:44.968Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:44.968Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:44.969Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:44.970Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T08:01:44.971Z] [LOG] ======================================================================

[2025-10-17T08:01:44.972Z] [LOG] ✅ Office Team null: Calculation completed successfully
[2025-10-17T08:01:44.973Z] [LOG] 📊 Progress: 27/34 (79.4%)
[2025-10-17T08:01:44.973Z] [LOG] 
🧮 Processing: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-17T08:01:44.974Z] [LOG] 📋 Record ID: aacd0a1d-8132-474c-953f-1da6f55d253e
[2025-10-17T08:01:44.975Z] [LOG] 
======================================================================
[2025-10-17T08:01:44.976Z] [LOG] 🧮 CALCULATING PAYROLL: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-17T08:01:44.977Z] [LOG] ======================================================================
[2025-10-17T08:01:45.707Z] [LOG] 🔍 Component filtering for employee 0144315c-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:45.708Z] [LOG]    Total components: 10
[2025-10-17T08:01:45.708Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:45.709Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T08:01:46.411Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:46.412Z] [LOG] 🔄 Processing financial records for employee 0144315c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:46.585Z] [LOG] 📊 Found 0 active loans for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:46.764Z] [LOG] 📊 Found 0 active advances for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:46.942Z] [LOG] 📊 Found 0 approved bonuses for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:46.943Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:46.944Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:46.944Z] [LOG] 💰 GROSS CALCULATION for G.M Supathala Sadaru Madhushan null:
[2025-10-17T08:01:46.945Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:46.946Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:46.946Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:46.948Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.128Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:47.303Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:47.304Z] [LOG]    Employee ID: 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:47.304Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:47.305Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:47.492Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:47.497Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:47.497Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:47.498Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:47.499Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:47.687Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:47.688Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:47.688Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:47.689Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:47.689Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:47.690Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:47.692Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:47.692Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:47.693Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:47.695Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:47.696Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:47.697Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:47.698Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:47.699Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:47.699Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:47.701Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:47.701Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:47.702Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:47.703Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:47.703Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:47.704Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:47.704Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.705Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:47.705Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.706Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:47.707Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.707Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:47.708Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.708Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:47.710Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.711Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:47.714Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.715Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:47.715Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.716Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:47.717Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.717Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:47.718Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:47.719Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:47.719Z] [LOG] Regular deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:47.720Z] [LOG] Combined deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:47.900Z] [LOG] Creating components for record aacd0a1d-8132-474c-953f-1da6f55d253e: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:47.902Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:48.078Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:48.258Z] [LOG] Created payroll_record_component: ba587d11-f52b-4f73-80fc-54c6eded214b for Attendance Deduction
[2025-10-17T08:01:48.614Z] [LOG] ✅ Financial balances updated successfully for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:48.615Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:48.615Z] [LOG] 
======================================================================
[2025-10-17T08:01:48.616Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: G.M Supathala Sadaru Madhushan null
[2025-10-17T08:01:48.617Z] [LOG] ======================================================================
[2025-10-17T08:01:48.617Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:48.618Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:48.618Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:48.619Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:48.620Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:48.620Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:48.621Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:48.622Z] [LOG] ======================================================================

[2025-10-17T08:01:48.623Z] [LOG] ✅ G.M Supathala Sadaru Madhushan null: Calculation completed successfully
[2025-10-17T08:01:48.623Z] [LOG] 📊 Progress: 28/34 (82.4%)
[2025-10-17T08:01:48.624Z] [LOG] 
🧮 Processing: P.D.P Dilini Madushani null (EMP000043)
[2025-10-17T08:01:48.625Z] [LOG] 📋 Record ID: 42d84fbb-8a9a-4c7e-ba4d-43a4e35cd4a6
[2025-10-17T08:01:48.625Z] [LOG] 
======================================================================
[2025-10-17T08:01:48.626Z] [LOG] 🧮 CALCULATING PAYROLL: P.D.P Dilini Madushani null (EMP000043)
[2025-10-17T08:01:48.627Z] [LOG] ======================================================================
[2025-10-17T08:01:49.331Z] [LOG] 🔍 Component filtering for employee 014435dc-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:49.331Z] [LOG]    Total components: 10
[2025-10-17T08:01:49.332Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:49.332Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T08:01:50.034Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:50.035Z] [LOG] 🔄 Processing financial records for employee 014435dc-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:50.213Z] [LOG] 📊 Found 0 active loans for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:50.407Z] [LOG] 📊 Found 0 active advances for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:50.585Z] [LOG] 📊 Found 0 approved bonuses for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:50.586Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:50.587Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:50.588Z] [LOG] 💰 GROSS CALCULATION for P.D.P Dilini Madushani null:
[2025-10-17T08:01:50.589Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:50.589Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:50.590Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:50.590Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:50.766Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:50.941Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:50.942Z] [LOG]    Employee ID: 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:50.943Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:50.943Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:51.120Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:51.121Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:51.121Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:51.122Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:51.122Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:51.296Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:51.297Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:51.297Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:51.297Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:51.298Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:51.298Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:51.298Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:51.299Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:51.299Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:51.299Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:51.300Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:51.300Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:51.301Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:51.301Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:51.302Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:51.302Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:51.302Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:51.303Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:51.303Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:51.303Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:51.303Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:51.304Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.304Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:51.304Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.305Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:51.305Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.305Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:51.306Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.306Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:51.306Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.307Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:51.307Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.307Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:51.307Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.308Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:51.308Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.308Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:51.309Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:51.309Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:51.309Z] [LOG] Regular deductions for P.D.P Dilini Madushani null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:51.310Z] [LOG] Combined deductions for P.D.P Dilini Madushani null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:51.488Z] [LOG] Creating components for record 42d84fbb-8a9a-4c7e-ba4d-43a4e35cd4a6: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:51.489Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:51.662Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:51.841Z] [LOG] Created payroll_record_component: 6a322ddb-6590-4ba9-8e35-145647eb73c7 for Attendance Deduction
[2025-10-17T08:01:52.191Z] [LOG] ✅ Financial balances updated successfully for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:52.191Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:52.192Z] [LOG] 
======================================================================
[2025-10-17T08:01:52.193Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: P.D.P Dilini Madushani null
[2025-10-17T08:01:52.193Z] [LOG] ======================================================================
[2025-10-17T08:01:52.194Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:52.195Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:52.195Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:52.196Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:52.196Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:52.197Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:52.198Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:52.199Z] [LOG] ======================================================================

[2025-10-17T08:01:52.200Z] [LOG] ✅ P.D.P Dilini Madushani null: Calculation completed successfully
[2025-10-17T08:01:52.200Z] [LOG] 📊 Progress: 29/34 (85.3%)
[2025-10-17T08:01:52.201Z] [LOG] 
🧮 Processing: R. D.A Kaushalya null (EMP000044)
[2025-10-17T08:01:52.202Z] [LOG] 📋 Record ID: 8d18a719-0664-4e0e-bec7-3c3b9fdbb99a
[2025-10-17T08:01:52.202Z] [LOG] 
======================================================================
[2025-10-17T08:01:52.203Z] [LOG] 🧮 CALCULATING PAYROLL: R. D.A Kaushalya null (EMP000044)
[2025-10-17T08:01:52.204Z] [LOG] ======================================================================
[2025-10-17T08:01:52.910Z] [LOG] 🔍 Component filtering for employee 01443963-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:52.910Z] [LOG]    Total components: 10
[2025-10-17T08:01:52.911Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:52.911Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:01:53.611Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:53.612Z] [LOG] 🔄 Processing financial records for employee 01443963-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:53.797Z] [LOG] 📊 Found 0 active loans for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:53.971Z] [LOG] 📊 Found 0 active advances for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:54.146Z] [LOG] 📊 Found 0 approved bonuses for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:54.147Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:54.148Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:54.149Z] [LOG] 💰 GROSS CALCULATION for R. D.A Kaushalya null:
[2025-10-17T08:01:54.150Z] [LOG]    Base Salary: 50000
[2025-10-17T08:01:54.150Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:54.151Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:54.151Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.328Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:54.505Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:54.506Z] [LOG]    Employee ID: 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:54.507Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:54.508Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:01:54.685Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:54.686Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:01:54.688Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:01:54.689Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:01:54.689Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:54.863Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:54.864Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:54.865Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:54.865Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:54.866Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:54.866Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:54.867Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:01:54.868Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:01:54.868Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:54.869Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:54.869Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:01:54.870Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:54.871Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:01:54.872Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:01:54.873Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:54.873Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:54.874Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:54.874Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:54.875Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:01:54.876Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:54.876Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:54.877Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.877Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:54.878Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.878Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:54.879Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.879Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:54.880Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.881Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:54.881Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.882Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:54.883Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.883Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:54.884Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.884Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:54.885Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.886Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:54.887Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:54.887Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:54.888Z] [LOG] Regular deductions for R. D.A Kaushalya null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:54.889Z] [LOG] Combined deductions for R. D.A Kaushalya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:01:55.077Z] [LOG] Creating components for record 8d18a719-0664-4e0e-bec7-3c3b9fdbb99a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:55.078Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:01:55.256Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:55.435Z] [LOG] Created payroll_record_component: e5014231-c076-451a-b1d3-4e3b9fb7f696 for Attendance Deduction
[2025-10-17T08:01:55.785Z] [LOG] ✅ Financial balances updated successfully for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:55.786Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:55.786Z] [LOG] 
======================================================================
[2025-10-17T08:01:55.787Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: R. D.A Kaushalya null
[2025-10-17T08:01:55.788Z] [LOG] ======================================================================
[2025-10-17T08:01:55.788Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:01:55.789Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:01:55.789Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:01:55.790Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:55.790Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:55.791Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:55.792Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:01:55.792Z] [LOG] ======================================================================

[2025-10-17T08:01:55.795Z] [LOG] ✅ R. D.A Kaushalya null: Calculation completed successfully
[2025-10-17T08:01:55.796Z] [LOG] 📊 Progress: 30/34 (88.2%)
[2025-10-17T08:01:55.798Z] [LOG] 
🧮 Processing: Nimdiya Ranasinghe null (EMP000045)
[2025-10-17T08:01:55.799Z] [LOG] 📋 Record ID: 6f557123-654b-438c-84e6-108a34c71051
[2025-10-17T08:01:55.800Z] [LOG] 
======================================================================
[2025-10-17T08:01:55.800Z] [LOG] 🧮 CALCULATING PAYROLL: Nimdiya Ranasinghe null (EMP000045)
[2025-10-17T08:01:55.801Z] [LOG] ======================================================================
[2025-10-17T08:01:56.511Z] [LOG] 🔍 Component filtering for employee 01444074-7105-11f0-a50f-98e743540430:
[2025-10-17T08:01:56.512Z] [LOG]    Total components: 10
[2025-10-17T08:01:56.513Z] [LOG]    Applicable components: 10
[2025-10-17T08:01:56.513Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:01:57.235Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:01:57.236Z] [LOG] 🔄 Processing financial records for employee 01444074-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:01:57.414Z] [LOG] 📊 Found 0 active loans for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:57.588Z] [LOG] 📊 Found 0 active advances for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:57.763Z] [LOG] 📊 Found 0 approved bonuses for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:57.764Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:01:57.765Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:01:57.765Z] [LOG] 💰 GROSS CALCULATION for Nimdiya Ranasinghe null:
[2025-10-17T08:01:57.766Z] [LOG]    Base Salary: 35000
[2025-10-17T08:01:57.766Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:01:57.767Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:01:57.768Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:57.944Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:01:58.118Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:01:58.119Z] [LOG]    Employee ID: 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:58.119Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:01:58.120Z] [LOG]    Base Salary: Rs.35000.00
[2025-10-17T08:01:58.295Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:01:58.296Z] [LOG]       Daily Salary: Rs.1400.00
[2025-10-17T08:01:58.296Z] [LOG]       Weekday Hourly Rate: Rs.164.71
[2025-10-17T08:01:58.297Z] [LOG]       Saturday Hourly Rate: Rs.164.71
[2025-10-17T08:01:58.297Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:01:58.473Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:01:58.473Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:01:58.474Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:01:58.475Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:01:58.475Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:01:58.476Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:01:58.476Z] [LOG]       Weekday: 17.00h × Rs.164.71 = Rs.2800.07
[2025-10-17T08:01:58.477Z] [LOG]       Saturday: 0.00h × Rs.164.71 = Rs.0.00
[2025-10-17T08:01:58.478Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:01:58.478Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:58.479Z] [LOG]       Total Earned Salary: Rs.2800.07
[2025-10-17T08:01:58.481Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:01:58.482Z] [LOG]       Base Salary: Rs.35000.00
[2025-10-17T08:01:58.482Z] [LOG]       Earned Salary: Rs.2800.07
[2025-10-17T08:01:58.483Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:01:58.484Z] [LOG]       Attendance Deduction: Rs.32199.93
[2025-10-17T08:01:58.484Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:01:58.485Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:01:58.485Z] [LOG]    Gross Salary: 35000
[2025-10-17T08:01:58.486Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:01:58.487Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:01:58.487Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.488Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:01:58.489Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.489Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:01:58.490Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.491Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:01:58.491Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.492Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:01:58.493Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.493Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:01:58.494Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.494Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:01:58.495Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.496Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:01:58.496Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.497Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:01:58.498Z] [LOG]    Fixed amount: 0
[2025-10-17T08:01:58.498Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:01:58.499Z] [LOG] Regular deductions for Nimdiya Ranasinghe null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:01:58.500Z] [LOG] Combined deductions for Nimdiya Ranasinghe null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 32199.93,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 32199.93
}
[2025-10-17T08:01:58.681Z] [LOG] Creating components for record 6f557123-654b-438c-84e6-108a34c71051: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:01:58.681Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 32199.93
}
[2025-10-17T08:01:58.857Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:01:59.034Z] [LOG] Created payroll_record_component: cae15e29-561a-46c4-acba-5fb368417310 for Attendance Deduction
[2025-10-17T08:01:59.391Z] [LOG] ✅ Financial balances updated successfully for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T08:01:59.391Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:01:59.392Z] [LOG] 
======================================================================
[2025-10-17T08:01:59.393Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Nimdiya Ranasinghe null
[2025-10-17T08:01:59.393Z] [LOG] ======================================================================
[2025-10-17T08:01:59.394Z] [LOG]    Gross Salary: Rs.35000.00
[2025-10-17T08:01:59.394Z] [LOG]    Total Deductions: Rs.32199.93
[2025-10-17T08:01:59.395Z] [LOG]       - Attendance Deduction: Rs.32199.93
[2025-10-17T08:01:59.396Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:01:59.396Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:01:59.397Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:01:59.398Z] [LOG]    NET SALARY: Rs.2800.07
[2025-10-17T08:01:59.399Z] [LOG] ======================================================================

[2025-10-17T08:01:59.400Z] [LOG] ✅ Nimdiya Ranasinghe null: Calculation completed successfully
[2025-10-17T08:01:59.400Z] [LOG] 📊 Progress: 31/34 (91.2%)
[2025-10-17T08:01:59.401Z] [LOG] 
🧮 Processing: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-17T08:01:59.402Z] [LOG] 📋 Record ID: 3e86c269-5d4b-4aa7-aec3-71cd0c706bdc
[2025-10-17T08:01:59.402Z] [LOG] 
======================================================================
[2025-10-17T08:01:59.403Z] [LOG] 🧮 CALCULATING PAYROLL: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-17T08:01:59.404Z] [LOG] ======================================================================
[2025-10-17T08:02:00.103Z] [LOG] 🔍 Component filtering for employee 0144461e-7105-11f0-a50f-98e743540430:
[2025-10-17T08:02:00.104Z] [LOG]    Total components: 10
[2025-10-17T08:02:00.104Z] [LOG]    Applicable components: 10
[2025-10-17T08:02:00.105Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:02:00.800Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:02:00.800Z] [LOG] 🔄 Processing financial records for employee 0144461e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:02:00.978Z] [LOG] 📊 Found 0 active loans for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:01.151Z] [LOG] 📊 Found 0 active advances for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:01.326Z] [LOG] 📊 Found 0 approved bonuses for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:01.326Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:02:01.327Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:02:01.328Z] [LOG] 💰 GROSS CALCULATION for Ashen Nirmal Wadugodapitiya null:
[2025-10-17T08:02:01.329Z] [LOG]    Base Salary: 50000
[2025-10-17T08:02:01.329Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:02:01.330Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:02:01.331Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:01.507Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:02:01.681Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:02:01.682Z] [LOG]    Employee ID: 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:01.683Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:02:01.683Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:02:01.864Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:02:01.864Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:02:01.865Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:02:01.866Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:02:01.866Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:02:02.040Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:02:02.041Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:02:02.042Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:02:02.042Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:02:02.043Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:02:02.043Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:02:02.044Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T08:02:02.045Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:02:02.045Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:02:02.046Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:02:02.046Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T08:02:02.047Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:02:02.049Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:02:02.049Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T08:02:02.050Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:02:02.050Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T08:02:02.051Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:02:02.052Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:02:02.052Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:02:02.053Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:02:02.054Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:02:02.054Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.055Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:02:02.055Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.056Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:02:02.057Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.057Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:02:02.058Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.059Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:02:02.059Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.060Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:02:02.060Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.061Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:02:02.061Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.062Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:02:02.063Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.063Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:02:02.064Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:02.064Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:02:02.065Z] [LOG] Regular deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:02:02.066Z] [LOG] Combined deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T08:02:02.246Z] [LOG] Creating components for record 3e86c269-5d4b-4aa7-aec3-71cd0c706bdc: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:02:02.248Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T08:02:02.423Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:02:02.603Z] [LOG] Created payroll_record_component: ebd091c4-a1f0-42f3-aa96-168867465cb4 for Attendance Deduction
[2025-10-17T08:02:02.949Z] [LOG] ✅ Financial balances updated successfully for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:02.950Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:02:02.950Z] [LOG] 
======================================================================
[2025-10-17T08:02:02.951Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ashen Nirmal Wadugodapitiya null
[2025-10-17T08:02:02.952Z] [LOG] ======================================================================
[2025-10-17T08:02:02.952Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:02:02.953Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T08:02:02.953Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T08:02:02.954Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:02:02.955Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:02:02.955Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:02:02.956Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T08:02:02.956Z] [LOG] ======================================================================

[2025-10-17T08:02:02.958Z] [LOG] ✅ Ashen Nirmal Wadugodapitiya null: Calculation completed successfully
[2025-10-17T08:02:02.958Z] [LOG] 📊 Progress: 32/34 (94.1%)
[2025-10-17T08:02:02.959Z] [LOG] 
🧮 Processing: Ratheeshanan null (EMP000047)
[2025-10-17T08:02:02.960Z] [LOG] 📋 Record ID: b50f8aa3-b8e6-479e-bcb5-bd23d8d9be76
[2025-10-17T08:02:02.960Z] [LOG] 
======================================================================
[2025-10-17T08:02:02.961Z] [LOG] 🧮 CALCULATING PAYROLL: Ratheeshanan null (EMP000047)
[2025-10-17T08:02:02.962Z] [LOG] ======================================================================
[2025-10-17T08:02:03.650Z] [LOG] 🔍 Component filtering for employee 01444966-7105-11f0-a50f-98e743540430:
[2025-10-17T08:02:03.650Z] [LOG]    Total components: 10
[2025-10-17T08:02:03.651Z] [LOG]    Applicable components: 10
[2025-10-17T08:02:03.651Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T08:02:04.411Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:02:04.412Z] [LOG] 🔄 Processing financial records for employee 01444966-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:02:04.586Z] [LOG] 📊 Found 0 active loans for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:04.762Z] [LOG] 📊 Found 0 active advances for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:04.936Z] [LOG] 📊 Found 0 approved bonuses for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:04.936Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:02:04.937Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:02:04.938Z] [LOG] 💰 GROSS CALCULATION for Ratheeshanan null:
[2025-10-17T08:02:04.938Z] [LOG]    Base Salary: 25000
[2025-10-17T08:02:04.938Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:02:04.939Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:02:04.939Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.114Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:02:05.296Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:02:05.297Z] [LOG]    Employee ID: 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:05.297Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:02:05.298Z] [LOG]    Base Salary: Rs.25000.00
[2025-10-17T08:02:05.473Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:02:05.474Z] [LOG]       Daily Salary: Rs.1000.00
[2025-10-17T08:02:05.474Z] [LOG]       Weekday Hourly Rate: Rs.117.65
[2025-10-17T08:02:05.475Z] [LOG]       Saturday Hourly Rate: Rs.117.65
[2025-10-17T08:02:05.475Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:02:05.648Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:02:05.649Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T08:02:05.649Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:02:05.650Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:02:05.651Z] [LOG]       Total Worked: 17.00h
[2025-10-17T08:02:05.651Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:02:05.652Z] [LOG]       Weekday: 17.00h × Rs.117.65 = Rs.2000.05
[2025-10-17T08:02:05.653Z] [LOG]       Saturday: 0.00h × Rs.117.65 = Rs.0.00
[2025-10-17T08:02:05.653Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:02:05.654Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:02:05.654Z] [LOG]       Total Earned Salary: Rs.2000.05
[2025-10-17T08:02:05.655Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:02:05.656Z] [LOG]       Base Salary: Rs.25000.00
[2025-10-17T08:02:05.657Z] [LOG]       Earned Salary: Rs.2000.05
[2025-10-17T08:02:05.657Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:02:05.658Z] [LOG]       Attendance Deduction: Rs.22999.95
[2025-10-17T08:02:05.658Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T08:02:05.659Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:02:05.659Z] [LOG]    Gross Salary: 25000
[2025-10-17T08:02:05.660Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:02:05.661Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:02:05.661Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.662Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:02:05.663Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.663Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:02:05.664Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.664Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:02:05.665Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.665Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:02:05.667Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.668Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:02:05.669Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.669Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:02:05.670Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.670Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:02:05.671Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.672Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:02:05.673Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:05.673Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:02:05.674Z] [LOG] Regular deductions for Ratheeshanan null: {
  "components": [],
  "total": 0
}
[2025-10-17T08:02:05.675Z] [LOG] Combined deductions for Ratheeshanan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 22999.95,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 22999.95
}
[2025-10-17T08:02:05.849Z] [LOG] Creating components for record b50f8aa3-b8e6-479e-bcb5-bd23d8d9be76: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:02:05.851Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 22999.95
}
[2025-10-17T08:02:06.025Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:02:06.206Z] [LOG] Created payroll_record_component: eea315cf-f7e8-4c8f-829f-af13d6d8ee2c for Attendance Deduction
[2025-10-17T08:02:06.550Z] [LOG] ✅ Financial balances updated successfully for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T08:02:06.551Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:02:06.552Z] [LOG] 
======================================================================
[2025-10-17T08:02:06.552Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ratheeshanan null
[2025-10-17T08:02:06.553Z] [LOG] ======================================================================
[2025-10-17T08:02:06.554Z] [LOG]    Gross Salary: Rs.25000.00
[2025-10-17T08:02:06.554Z] [LOG]    Total Deductions: Rs.22999.95
[2025-10-17T08:02:06.555Z] [LOG]       - Attendance Deduction: Rs.22999.95
[2025-10-17T08:02:06.555Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:02:06.556Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:02:06.557Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:02:06.559Z] [LOG]    NET SALARY: Rs.2000.05
[2025-10-17T08:02:06.560Z] [LOG] ======================================================================

[2025-10-17T08:02:06.561Z] [LOG] ✅ Ratheeshanan null: Calculation completed successfully
[2025-10-17T08:02:06.561Z] [LOG] 📊 Progress: 33/34 (97.1%)
[2025-10-17T08:02:06.562Z] [LOG] 
🧮 Processing: Kaushal Thambi (EMP465256103)
[2025-10-17T08:02:06.563Z] [LOG] 📋 Record ID: 95dc3f2b-440d-47c8-9908-b76fa33d1e39
[2025-10-17T08:02:06.564Z] [LOG] 
======================================================================
[2025-10-17T08:02:06.565Z] [LOG] 🧮 CALCULATING PAYROLL: Kaushal Thambi (EMP465256103)
[2025-10-17T08:02:06.565Z] [LOG] ======================================================================
[2025-10-17T08:02:07.266Z] [LOG] 🔍 Component filtering for employee 9e8125c4-ce58-411a-b617-9f75d481c613:
[2025-10-17T08:02:07.266Z] [LOG]    Total components: 10
[2025-10-17T08:02:07.267Z] [LOG]    Applicable components: 10
[2025-10-17T08:02:07.268Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T08:02:07.965Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T08:02:07.966Z] [LOG] 🔄 Processing financial records for employee 9e8125c4-ce58-411a-b617-9f75d481c613 in period 2025-10-01 to 2025-10-31
[2025-10-17T08:02:08.143Z] [LOG] 📊 Found 0 active loans for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T08:02:08.316Z] [LOG] 📊 Found 0 active advances for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T08:02:08.492Z] [LOG] 📊 Found 0 approved bonuses for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T08:02:08.493Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T08:02:08.494Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T08:02:08.495Z] [LOG] 💰 GROSS CALCULATION for Kaushal Thambi:
[2025-10-17T08:02:08.495Z] [LOG]    Base Salary: 50000
[2025-10-17T08:02:08.496Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-17T08:02:08.496Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-17T08:02:08.497Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:08.671Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T08:02:08.843Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T08:02:08.844Z] [LOG]    Employee ID: 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T08:02:08.845Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T08:02:08.845Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T08:02:09.021Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T08:02:09.022Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T08:02:09.022Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T08:02:09.023Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T08:02:09.023Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T08:02:09.196Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T08:02:09.197Z] [LOG]       Weekday (Mon-Fri): 8.50h
[2025-10-17T08:02:09.197Z] [LOG]       Saturday: 0.00h
[2025-10-17T08:02:09.198Z] [LOG]       Sunday: 0.00h
[2025-10-17T08:02:09.198Z] [LOG]       Total Worked: 8.50h
[2025-10-17T08:02:09.199Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T08:02:09.200Z] [LOG]       Weekday: 8.50h × Rs.235.29 = Rs.1999.96
[2025-10-17T08:02:09.201Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T08:02:09.201Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T08:02:09.202Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:02:09.203Z] [LOG]       Total Earned Salary: Rs.1999.96
[2025-10-17T08:02:09.204Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T08:02:09.205Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T08:02:09.205Z] [LOG]       Earned Salary: Rs.1999.96
[2025-10-17T08:02:09.206Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T08:02:09.206Z] [LOG]       Attendance Deduction: Rs.48000.04
[2025-10-17T08:02:09.207Z] [LOG]       📉 Deduction is 96.00% of base salary
[2025-10-17T08:02:09.207Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T08:02:09.209Z] [LOG]    Gross Salary: 50000
[2025-10-17T08:02:09.209Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T08:02:09.210Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T08:02:09.210Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.211Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T08:02:09.212Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.212Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T08:02:09.213Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.213Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T08:02:09.214Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.214Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T08:02:09.215Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.215Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T08:02:09.215Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.216Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T08:02:09.216Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.216Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T08:02:09.217Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.217Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T08:02:09.217Z] [LOG]    Fixed amount: 0
[2025-10-17T08:02:09.218Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T08:02:09.218Z] [LOG] Regular deductions for Kaushal Thambi: {
  "components": [],
  "total": 0
}
[2025-10-17T08:02:09.219Z] [LOG] Combined deductions for Kaushal Thambi: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 48000.035,
      "details": "Based on worked hours (8.5h total)"
    }
  ],
  "total": 48000.035
}
[2025-10-17T08:02:09.396Z] [LOG] Creating components for record 95dc3f2b-440d-47c8-9908-b76fa33d1e39: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T08:02:09.398Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 48000.035
}
[2025-10-17T08:02:09.584Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T08:02:09.761Z] [LOG] Created payroll_record_component: 9dcb9375-660f-4be2-8fd1-7da80d745ed9 for Attendance Deduction
[2025-10-17T08:02:10.116Z] [LOG] ✅ Financial balances updated successfully for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T08:02:10.116Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T08:02:10.117Z] [LOG] 
======================================================================
[2025-10-17T08:02:10.118Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Kaushal Thambi
[2025-10-17T08:02:10.118Z] [LOG] ======================================================================
[2025-10-17T08:02:10.119Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T08:02:10.119Z] [LOG]    Total Deductions: Rs.48000.04
[2025-10-17T08:02:10.120Z] [LOG]       - Attendance Deduction: Rs.48000.04
[2025-10-17T08:02:10.120Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T08:02:10.121Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T08:02:10.122Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T08:02:10.123Z] [LOG]    NET SALARY: Rs.1999.96
[2025-10-17T08:02:10.124Z] [LOG] ======================================================================

[2025-10-17T08:02:10.124Z] [LOG] ✅ Kaushal Thambi: Calculation completed successfully
[2025-10-17T08:02:10.125Z] [LOG] 📊 Progress: 34/34 (100.0%)
[2025-10-17T08:02:10.126Z] [LOG] 
============================================================
[2025-10-17T08:02:10.127Z] [LOG] 📈 Processing Summary: 34 successful, 0 failed
[2025-10-17T08:02:11.518Z] [LOG] 🎉 Payroll calculation completed successfully!
[2025-10-17T08:02:11.519Z] [LOG] 📊 Final Summary: 34 processed, 0 errors
[2025-10-17T08:02:11.520Z] [INFO] ================================================================================
[2025-10-17T08:02:11.520Z] [INFO] ⏰ Completed at: 2025-10-17T08:02:11.520Z
[2025-10-17T08:02:11.520Z] [INFO] 📊 Total log entries: 3116