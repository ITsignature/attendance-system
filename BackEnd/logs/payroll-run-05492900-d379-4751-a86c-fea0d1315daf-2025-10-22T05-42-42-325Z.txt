[2025-10-22T05:42:42.325Z] [INFO] 🚀 Payroll calculation logging started for run: 05492900-d379-4751-a86c-fea0d1315daf
[2025-10-22T05:42:42.325Z] [INFO] 📁 Log file: D:\attendance-system\BackEnd\logs\payroll-run-05492900-d379-4751-a86c-fea0d1315daf-2025-10-22T05-42-42-325Z.txt
[2025-10-22T05:42:42.325Z] [INFO] ⏰ Started at: 2025-10-22T05:42:42.325Z
[2025-10-22T05:42:42.325Z] [INFO] ================================================================================
[2025-10-22T05:42:42.325Z] [LOG] 🚀 Starting payroll calculation for run: 05492900-d379-4751-a86c-fea0d1315daf
[2025-10-22T05:42:42.325Z] [LOG] 👤 Client ID: it-signature, User ID: 059304ea-24a5-4d78-a290-cf09b9e53c4c
[2025-10-22T05:42:43.036Z] [LOG] ✅ Payroll run verified: October (MONTHLY_2025_10_REGULAR)
[2025-10-22T05:42:43.509Z] [LOG] 📊 Status updated to 'calculating'
[2025-10-22T05:42:44.234Z] [LOG] 👥 Processing 34 employee records:
[2025-10-22T05:42:44.234Z] [LOG] ============================================================
[2025-10-22T05:42:44.235Z] [LOG] 
🧮 Processing: Uthpala null (EMP000006)
[2025-10-22T05:42:44.235Z] [LOG] 📋 Record ID: 133d1756-6ae8-4a34-96f4-29a016966e0e
[2025-10-22T05:42:44.235Z] [LOG] 
======================================================================
[2025-10-22T05:42:44.236Z] [LOG] 🧮 CALCULATING PAYROLL: Uthpala null (EMP000006)
[2025-10-22T05:42:44.236Z] [LOG] ======================================================================
[2025-10-22T05:42:46.137Z] [LOG] 🔍 Component filtering for employee 0143a539-7105-11f0-a50f-98e743540430:
[2025-10-22T05:42:46.138Z] [LOG]    Total components: 10
[2025-10-22T05:42:46.138Z] [LOG]    Applicable components: 10
[2025-10-22T05:42:46.139Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-22T05:42:49.510Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:42:49.512Z] [LOG] 🔄 Processing financial records for employee 0143a539-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:42:49.998Z] [LOG] 📊 Found 0 active loans for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:50.478Z] [LOG] 📊 Found 0 active advances for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:50.955Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:50.957Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:42:50.958Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:42:50.960Z] [LOG] 💰 GROSS CALCULATION for Uthpala null:
[2025-10-22T05:42:50.961Z] [LOG]    Base Salary: 100000
[2025-10-22T05:42:50.961Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:42:50.963Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:42:50.964Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:51.445Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:42:51.921Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:42:51.922Z] [LOG]    Employee ID: 0143a539-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:51.922Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:42:51.923Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-22T05:42:52.397Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:42:52.398Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-22T05:42:52.398Z] [LOG]       Weekday Hourly Rate: Rs.500.00
[2025-10-22T05:42:52.398Z] [LOG]       Saturday Hourly Rate: Rs.500.00
[2025-10-22T05:42:52.398Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:42:52.871Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:42:52.871Z] [LOG]       Weekday (Mon-Fri): 15.00h
[2025-10-22T05:42:52.871Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:42:52.871Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:42:52.872Z] [LOG]       Total Worked: 15.00h
[2025-10-22T05:42:52.872Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:42:52.872Z] [LOG]       Weekday: 15.00h × Rs.500.00 = Rs.7500.00
[2025-10-22T05:42:52.872Z] [LOG]       Saturday: 0.00h × Rs.500.00 = Rs.0.00
[2025-10-22T05:42:52.872Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:42:52.872Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:42:52.872Z] [LOG]       Total Earned Salary: Rs.7500.00
[2025-10-22T05:42:52.873Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:42:52.873Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-22T05:42:52.873Z] [LOG]       Earned Salary: Rs.7500.00
[2025-10-22T05:42:52.873Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:42:52.873Z] [LOG]       Attendance Deduction: Rs.92500.00
[2025-10-22T05:42:52.874Z] [LOG]       📉 Deduction is 92.50% of base salary
[2025-10-22T05:42:52.874Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:42:52.875Z] [LOG]    Gross Salary: 100000
[2025-10-22T05:42:52.875Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:42:52.875Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:42:52.875Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.875Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:42:52.875Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.876Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:42:52.876Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.876Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:42:52.877Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.877Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:42:52.877Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.878Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:42:52.878Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.878Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:42:52.878Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.878Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:42:52.878Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.879Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:42:52.879Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:52.879Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:42:52.879Z] [LOG] Regular deductions for Uthpala null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:42:52.879Z] [LOG] Combined deductions for Uthpala null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 92500,
      "details": "Based on worked hours (15h total)"
    }
  ],
  "total": 92500
}
[2025-10-22T05:42:53.357Z] [LOG] Creating components for record 133d1756-6ae8-4a34-96f4-29a016966e0e: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:42:53.359Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 92500
}
[2025-10-22T05:42:53.834Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:42:54.315Z] [LOG] Created payroll_record_component: 6c8cbf00-4a1b-4f96-96cd-3e6d0f674c49 for Attendance Deduction
[2025-10-22T05:42:54.788Z] [LOG] ✅ Financial balances updated successfully for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:54.789Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:42:54.789Z] [LOG] 
======================================================================
[2025-10-22T05:42:54.790Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Uthpala null
[2025-10-22T05:42:54.791Z] [LOG] ======================================================================
[2025-10-22T05:42:54.791Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-22T05:42:54.792Z] [LOG]    Total Deductions: Rs.92500.00
[2025-10-22T05:42:54.793Z] [LOG]       - Attendance Deduction: Rs.92500.00
[2025-10-22T05:42:54.794Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:42:54.794Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:42:54.796Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:42:54.797Z] [LOG]    NET SALARY: Rs.7500.00
[2025-10-22T05:42:54.799Z] [LOG] ======================================================================

[2025-10-22T05:42:54.800Z] [LOG] ✅ Uthpala null: Calculation completed successfully
[2025-10-22T05:42:54.800Z] [LOG] 📊 Progress: 1/34 (2.9%)
[2025-10-22T05:42:54.802Z] [LOG] 
🧮 Processing: Ishara null (EMP000011)
[2025-10-22T05:42:54.803Z] [LOG] 📋 Record ID: 1fc2cb19-4e0b-4307-a673-4e233420f2f2
[2025-10-22T05:42:54.804Z] [LOG] 
======================================================================
[2025-10-22T05:42:54.805Z] [LOG] 🧮 CALCULATING PAYROLL: Ishara null (EMP000011)
[2025-10-22T05:42:54.806Z] [LOG] ======================================================================
[2025-10-22T05:42:55.745Z] [LOG] 🔍 Component filtering for employee 0143ac0c-7105-11f0-a50f-98e743540430:
[2025-10-22T05:42:55.745Z] [LOG]    Total components: 10
[2025-10-22T05:42:55.746Z] [LOG]    Applicable components: 10
[2025-10-22T05:42:55.746Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-22T05:42:56.688Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:42:56.689Z] [LOG] 🔄 Processing financial records for employee 0143ac0c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:42:56.923Z] [LOG] 📊 Found 0 active loans for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:57.160Z] [LOG] 📊 Found 0 active advances for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:57.406Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:57.407Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:42:57.407Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:42:57.407Z] [LOG] 💰 GROSS CALCULATION for Ishara null:
[2025-10-22T05:42:57.408Z] [LOG]    Base Salary: 50000
[2025-10-22T05:42:57.408Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:42:57.408Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:42:57.408Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:57.645Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:42:57.886Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:42:57.886Z] [LOG]    Employee ID: 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:57.886Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:42:57.886Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:42:58.121Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:42:58.122Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:42:58.122Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:42:58.122Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:42:58.122Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:42:58.362Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:42:58.363Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:42:58.363Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:42:58.363Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:42:58.364Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:42:58.364Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:42:58.364Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:42:58.364Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:42:58.365Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:42:58.365Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:42:58.365Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:42:58.365Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:42:58.366Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:42:58.366Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:42:58.366Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:42:58.366Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:42:58.366Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:42:58.367Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:42:58.367Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:42:58.367Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:42:58.367Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:42:58.368Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.368Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:42:58.368Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.369Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:42:58.369Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.369Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:42:58.370Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.370Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:42:58.370Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.370Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:42:58.370Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.371Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:42:58.371Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.371Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:42:58.372Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.372Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:42:58.372Z] [LOG]    Fixed amount: 0
[2025-10-22T05:42:58.373Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:42:58.373Z] [LOG] Regular deductions for Ishara null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:42:58.374Z] [LOG] Combined deductions for Ishara null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:42:58.621Z] [LOG] Creating components for record 1fc2cb19-4e0b-4307-a673-4e233420f2f2: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:42:58.622Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:42:58.860Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:42:59.095Z] [LOG] Created payroll_record_component: 8efa6285-feac-439a-be04-976a799682e5 for Attendance Deduction
[2025-10-22T05:42:59.615Z] [LOG] ✅ Financial balances updated successfully for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-22T05:42:59.615Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:42:59.615Z] [LOG] 
======================================================================
[2025-10-22T05:42:59.616Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ishara null
[2025-10-22T05:42:59.616Z] [LOG] ======================================================================
[2025-10-22T05:42:59.616Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:42:59.616Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:42:59.617Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:42:59.617Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:42:59.617Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:42:59.617Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:42:59.617Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:42:59.618Z] [LOG] ======================================================================

[2025-10-22T05:42:59.618Z] [LOG] ✅ Ishara null: Calculation completed successfully
[2025-10-22T05:42:59.618Z] [LOG] 📊 Progress: 2/34 (5.9%)
[2025-10-22T05:42:59.618Z] [LOG] 
🧮 Processing: Anoj null (EMP000014)
[2025-10-22T05:42:59.618Z] [LOG] 📋 Record ID: 3d54d182-ab59-46a7-8387-7ec8444626ca
[2025-10-22T05:42:59.619Z] [LOG] 
======================================================================
[2025-10-22T05:42:59.619Z] [LOG] 🧮 CALCULATING PAYROLL: Anoj null (EMP000014)
[2025-10-22T05:42:59.619Z] [LOG] ======================================================================
[2025-10-22T05:43:00.580Z] [LOG] 🔍 Component filtering for employee 0143afc6-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:00.580Z] [LOG]    Total components: 10
[2025-10-22T05:43:00.580Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:00.580Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:43:01.530Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:01.530Z] [LOG] 🔄 Processing financial records for employee 0143afc6-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:01.770Z] [LOG] 📊 Found 0 active loans for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:02.010Z] [LOG] 📊 Found 0 active advances for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:02.244Z] [LOG] 📊 Found 0 approved bonuses for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:02.244Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:02.245Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:02.245Z] [LOG] 💰 GROSS CALCULATION for Anoj null:
[2025-10-22T05:43:02.246Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:02.246Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:02.246Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:02.246Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:02.482Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:02.720Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:02.720Z] [LOG]    Employee ID: 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:02.720Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:02.721Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:02.957Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:02.957Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:02.957Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:02.958Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:02.958Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:03.194Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:03.194Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:03.194Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:03.194Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:03.195Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:03.195Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:03.195Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:03.195Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:03.195Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:03.196Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:03.196Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:03.196Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:03.196Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:03.197Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:03.197Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:03.197Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:03.197Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:03.197Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:03.198Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:03.198Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:03.198Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:03.198Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.198Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:03.199Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.199Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:03.199Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.200Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:03.200Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.200Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:03.200Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.201Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:03.201Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.201Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:03.201Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.202Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:03.202Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.202Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:03.203Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:03.203Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:03.203Z] [LOG] Regular deductions for Anoj null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:03.204Z] [LOG] Combined deductions for Anoj null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:03.446Z] [LOG] Creating components for record 3d54d182-ab59-46a7-8387-7ec8444626ca: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:03.447Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:03.687Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:03.930Z] [LOG] Created payroll_record_component: 5f58233f-3baf-4c38-aa63-574664c79654 for Attendance Deduction
[2025-10-22T05:43:04.403Z] [LOG] ✅ Financial balances updated successfully for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:04.403Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:04.404Z] [LOG] 
======================================================================
[2025-10-22T05:43:04.404Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Anoj null
[2025-10-22T05:43:04.404Z] [LOG] ======================================================================
[2025-10-22T05:43:04.404Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:04.404Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:04.405Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:04.405Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:04.405Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:04.405Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:04.405Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:04.405Z] [LOG] ======================================================================

[2025-10-22T05:43:04.406Z] [LOG] ✅ Anoj null: Calculation completed successfully
[2025-10-22T05:43:04.406Z] [LOG] 📊 Progress: 3/34 (8.8%)
[2025-10-22T05:43:04.406Z] [LOG] 
🧮 Processing: Viruna Damsiha Cooray null (EMP000038)
[2025-10-22T05:43:04.406Z] [LOG] 📋 Record ID: 449f81c9-6d0f-4391-8a36-82603f7d659f
[2025-10-22T05:43:04.407Z] [LOG] 
======================================================================
[2025-10-22T05:43:04.407Z] [LOG] 🧮 CALCULATING PAYROLL: Viruna Damsiha Cooray null (EMP000038)
[2025-10-22T05:43:04.407Z] [LOG] ======================================================================
[2025-10-22T05:43:05.362Z] [LOG] 🔍 Component filtering for employee 01441633-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:05.363Z] [LOG]    Total components: 10
[2025-10-22T05:43:05.363Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:05.363Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:43:06.338Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:06.339Z] [LOG] 🔄 Processing financial records for employee 01441633-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:06.653Z] [LOG] 📊 Found 0 active loans for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:06.890Z] [LOG] 📊 Found 0 active advances for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:07.584Z] [LOG] 📊 Found 0 approved bonuses for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:07.585Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:07.586Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:07.587Z] [LOG] 💰 GROSS CALCULATION for Viruna Damsiha Cooray null:
[2025-10-22T05:43:07.588Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:07.588Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:07.589Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:07.590Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:07.828Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:08.065Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:08.066Z] [LOG]    Employee ID: 01441633-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:08.067Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:08.067Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:08.308Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:08.309Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:08.310Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:08.311Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:08.311Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:08.545Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:08.546Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:08.546Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:08.546Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:08.546Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:08.546Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:08.547Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:08.547Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:08.547Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:08.548Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:08.548Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:08.548Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:08.548Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:08.549Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:08.549Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:08.550Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:08.550Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:08.550Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:08.550Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:08.550Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:08.551Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:08.551Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.551Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:08.551Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.552Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:08.552Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.552Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:08.553Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.553Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:08.553Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.553Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:08.553Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.554Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:08.554Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.555Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:08.555Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.555Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:08.555Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:08.555Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:08.556Z] [LOG] Regular deductions for Viruna Damsiha Cooray null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:08.556Z] [LOG] Combined deductions for Viruna Damsiha Cooray null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:08.798Z] [LOG] Creating components for record 449f81c9-6d0f-4391-8a36-82603f7d659f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:08.800Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:09.080Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:09.400Z] [LOG] Created payroll_record_component: d3a53ed2-ea18-447e-92b2-0c48607087f7 for Attendance Deduction
[2025-10-22T05:43:10.005Z] [LOG] ✅ Financial balances updated successfully for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:10.005Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:10.006Z] [LOG] 
======================================================================
[2025-10-22T05:43:10.007Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Viruna Damsiha Cooray null
[2025-10-22T05:43:10.008Z] [LOG] ======================================================================
[2025-10-22T05:43:10.008Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:10.009Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:10.009Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:10.010Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:10.011Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:10.011Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:10.012Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:10.013Z] [LOG] ======================================================================

[2025-10-22T05:43:10.014Z] [LOG] ✅ Viruna Damsiha Cooray null: Calculation completed successfully
[2025-10-22T05:43:10.015Z] [LOG] 📊 Progress: 4/34 (11.8%)
[2025-10-22T05:43:10.015Z] [LOG] 
🧮 Processing: Office Team null (EMP000041)
[2025-10-22T05:43:10.016Z] [LOG] 📋 Record ID: 48f6139d-9b8b-4d85-a0b0-58b077832096
[2025-10-22T05:43:10.018Z] [LOG] 
======================================================================
[2025-10-22T05:43:10.019Z] [LOG] 🧮 CALCULATING PAYROLL: Office Team null (EMP000041)
[2025-10-22T05:43:10.020Z] [LOG] ======================================================================
[2025-10-22T05:43:11.149Z] [LOG] 🔍 Component filtering for employee 01442b21-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:11.150Z] [LOG]    Total components: 10
[2025-10-22T05:43:11.150Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:11.151Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:43:12.110Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:12.111Z] [LOG] 🔄 Processing financial records for employee 01442b21-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:12.349Z] [LOG] 📊 Found 0 active loans for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:12.600Z] [LOG] 📊 Found 0 active advances for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:12.836Z] [LOG] 📊 Found 0 approved bonuses for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:12.837Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:12.838Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:12.839Z] [LOG] 💰 GROSS CALCULATION for Office Team null:
[2025-10-22T05:43:12.839Z] [LOG]    Base Salary: 1
[2025-10-22T05:43:12.840Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:12.840Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:12.841Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:13.087Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:13.339Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:13.340Z] [LOG]    Employee ID: 01442b21-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:13.341Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:13.341Z] [LOG]    Base Salary: Rs.1.00
[2025-10-22T05:43:13.641Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:13.641Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-22T05:43:13.642Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-22T05:43:13.643Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-22T05:43:13.643Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:13.982Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:13.983Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:13.984Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:13.985Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:13.985Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:13.986Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:13.987Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:13.987Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:13.988Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:13.988Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:13.989Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-22T05:43:13.990Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:13.991Z] [LOG]       Base Salary: Rs.1.00
[2025-10-22T05:43:13.992Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-22T05:43:13.993Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:13.995Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-22T05:43:13.997Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-22T05:43:13.998Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:13.999Z] [LOG]    Gross Salary: 1
[2025-10-22T05:43:14.000Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:14.001Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:14.001Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.002Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:14.003Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.003Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:14.004Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.004Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:14.005Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.006Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:14.007Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.007Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:14.008Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.008Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:14.009Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.010Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:14.011Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.013Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:14.013Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:14.014Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:14.014Z] [LOG] Regular deductions for Office Team null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:14.015Z] [LOG] Combined deductions for Office Team null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-22T05:43:14.307Z] [LOG] Creating components for record 48f6139d-9b8b-4d85-a0b0-58b077832096: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:14.309Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-22T05:43:14.552Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:14.817Z] [LOG] Created payroll_record_component: 3e0f6091-4ec5-448d-b859-4717c56cacdf for Attendance Deduction
[2025-10-22T05:43:15.341Z] [LOG] ✅ Financial balances updated successfully for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:15.341Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:15.342Z] [LOG] 
======================================================================
[2025-10-22T05:43:15.343Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Office Team null
[2025-10-22T05:43:15.343Z] [LOG] ======================================================================
[2025-10-22T05:43:15.344Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-22T05:43:15.344Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-22T05:43:15.345Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-22T05:43:15.346Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:15.346Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:15.347Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:15.348Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-22T05:43:15.349Z] [LOG] ======================================================================

[2025-10-22T05:43:15.349Z] [LOG] ✅ Office Team null: Calculation completed successfully
[2025-10-22T05:43:15.350Z] [LOG] 📊 Progress: 5/34 (14.7%)
[2025-10-22T05:43:15.351Z] [LOG] 
🧮 Processing: Saru null (EMP000022)
[2025-10-22T05:43:15.353Z] [LOG] 📋 Record ID: 4c3e99db-8570-4fdb-acd4-31ace4fb15ed
[2025-10-22T05:43:15.354Z] [LOG] 
======================================================================
[2025-10-22T05:43:15.355Z] [LOG] 🧮 CALCULATING PAYROLL: Saru null (EMP000022)
[2025-10-22T05:43:15.356Z] [LOG] ======================================================================
[2025-10-22T05:43:16.325Z] [LOG] 🔍 Component filtering for employee 0143cc7e-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:16.326Z] [LOG]    Total components: 10
[2025-10-22T05:43:16.327Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:16.327Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:43:17.290Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:17.290Z] [LOG] 🔄 Processing financial records for employee 0143cc7e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:17.527Z] [LOG] 📊 Found 0 active loans for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:17.767Z] [LOG] 📊 Found 0 active advances for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:18.011Z] [LOG] 📊 Found 0 approved bonuses for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:18.011Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:18.013Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:18.013Z] [LOG] 💰 GROSS CALCULATION for Saru null:
[2025-10-22T05:43:18.014Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:18.015Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:18.015Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:18.016Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:18.263Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:18.499Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:18.500Z] [LOG]    Employee ID: 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:18.501Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:18.502Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:18.745Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:18.747Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:18.747Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:18.748Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:18.749Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:18.986Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:18.987Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:18.987Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:18.988Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:18.989Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:18.989Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:18.990Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:18.991Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:18.991Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:18.992Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:18.993Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:18.994Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:18.995Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:18.996Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:18.996Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:18.998Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:18.999Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:19.000Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:19.001Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:19.002Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:19.003Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:19.004Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.004Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:19.005Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.006Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:19.006Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.007Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:19.007Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.008Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:19.009Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.009Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:19.010Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.011Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:19.012Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.013Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:19.015Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.015Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:19.016Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:19.017Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:19.018Z] [LOG] Regular deductions for Saru null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:19.019Z] [LOG] Combined deductions for Saru null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:19.264Z] [LOG] Creating components for record 4c3e99db-8570-4fdb-acd4-31ace4fb15ed: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:19.266Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:19.554Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:19.801Z] [LOG] Created payroll_record_component: 8de21ad2-1b88-4f5c-a5da-df819f4f8c67 for Attendance Deduction
[2025-10-22T05:43:20.270Z] [LOG] ✅ Financial balances updated successfully for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:20.270Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:20.271Z] [LOG] 
======================================================================
[2025-10-22T05:43:20.272Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saru null
[2025-10-22T05:43:20.272Z] [LOG] ======================================================================
[2025-10-22T05:43:20.272Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:20.273Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:20.273Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:20.274Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:20.274Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:20.275Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:20.275Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:20.276Z] [LOG] ======================================================================

[2025-10-22T05:43:20.277Z] [LOG] ✅ Saru null: Calculation completed successfully
[2025-10-22T05:43:20.278Z] [LOG] 📊 Progress: 6/34 (17.6%)
[2025-10-22T05:43:20.278Z] [LOG] 
🧮 Processing: Sumaiya null (EMP000016)
[2025-10-22T05:43:20.279Z] [LOG] 📋 Record ID: 54f0994c-7295-40cb-ba72-35e65605424f
[2025-10-22T05:43:20.279Z] [LOG] 
======================================================================
[2025-10-22T05:43:20.279Z] [LOG] 🧮 CALCULATING PAYROLL: Sumaiya null (EMP000016)
[2025-10-22T05:43:20.279Z] [LOG] ======================================================================
[2025-10-22T05:43:21.226Z] [LOG] 🔍 Component filtering for employee 0143b22f-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:21.227Z] [LOG]    Total components: 10
[2025-10-22T05:43:21.228Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:21.228Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:43:22.170Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:22.170Z] [LOG] 🔄 Processing financial records for employee 0143b22f-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:22.420Z] [LOG] 📊 Found 0 active loans for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:22.659Z] [LOG] 📊 Found 0 active advances for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:22.903Z] [LOG] 📊 Found 0 approved bonuses for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:22.904Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:22.905Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:22.906Z] [LOG] 💰 GROSS CALCULATION for Sumaiya null:
[2025-10-22T05:43:22.907Z] [LOG]    Base Salary: 60000
[2025-10-22T05:43:22.907Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:22.908Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:22.909Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.146Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:23.385Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:23.386Z] [LOG]    Employee ID: 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:23.387Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:23.387Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-22T05:43:23.678Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:23.678Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-22T05:43:23.678Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-22T05:43:23.678Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-22T05:43:23.679Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:23.916Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:23.916Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:23.916Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:23.916Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:23.916Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:23.917Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:23.917Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-22T05:43:23.917Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-22T05:43:23.917Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:23.917Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:23.917Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-22T05:43:23.917Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:23.918Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-22T05:43:23.918Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-22T05:43:23.918Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:23.918Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-22T05:43:23.918Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:23.918Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:23.919Z] [LOG]    Gross Salary: 60000
[2025-10-22T05:43:23.919Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:23.919Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:23.919Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.919Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:23.919Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.919Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:23.920Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.920Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:23.920Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.920Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:23.920Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.920Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:23.920Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.920Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:23.921Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.921Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:23.921Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.921Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:23.922Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:23.922Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:23.923Z] [LOG] Regular deductions for Sumaiya null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:23.923Z] [LOG] Combined deductions for Sumaiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-22T05:43:24.169Z] [LOG] Creating components for record 54f0994c-7295-40cb-ba72-35e65605424f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:24.170Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-22T05:43:24.409Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:24.651Z] [LOG] Created payroll_record_component: fb50f139-1260-4c92-986b-daf73eba701f for Attendance Deduction
[2025-10-22T05:43:25.134Z] [LOG] ✅ Financial balances updated successfully for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:25.134Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:25.135Z] [LOG] 
======================================================================
[2025-10-22T05:43:25.135Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sumaiya null
[2025-10-22T05:43:25.135Z] [LOG] ======================================================================
[2025-10-22T05:43:25.136Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-22T05:43:25.136Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-22T05:43:25.136Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-22T05:43:25.136Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:25.137Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:25.137Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:25.137Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-22T05:43:25.137Z] [LOG] ======================================================================

[2025-10-22T05:43:25.137Z] [LOG] ✅ Sumaiya null: Calculation completed successfully
[2025-10-22T05:43:25.138Z] [LOG] 📊 Progress: 7/34 (20.6%)
[2025-10-22T05:43:25.138Z] [LOG] 
🧮 Processing: Chamodi null (EMP000032)
[2025-10-22T05:43:25.138Z] [LOG] 📋 Record ID: 5569e61a-83c7-4c9f-a442-fd9011e5bc15
[2025-10-22T05:43:25.139Z] [LOG] 
======================================================================
[2025-10-22T05:43:25.139Z] [LOG] 🧮 CALCULATING PAYROLL: Chamodi null (EMP000032)
[2025-10-22T05:43:25.139Z] [LOG] ======================================================================
[2025-10-22T05:43:26.117Z] [LOG] 🔍 Component filtering for employee 0143f302-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:26.117Z] [LOG]    Total components: 10
[2025-10-22T05:43:26.117Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:26.118Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:43:27.063Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:27.063Z] [LOG] 🔄 Processing financial records for employee 0143f302-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:27.303Z] [LOG] 📊 Found 0 active loans for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:27.541Z] [LOG] 📊 Found 0 active advances for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:27.778Z] [LOG] 📊 Found 0 approved bonuses for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:27.779Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:27.779Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:27.780Z] [LOG] 💰 GROSS CALCULATION for Chamodi null:
[2025-10-22T05:43:27.780Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:27.780Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:27.780Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:27.780Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.019Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:28.257Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:28.257Z] [LOG]    Employee ID: 0143f302-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:28.257Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:28.257Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:28.503Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:28.503Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:28.503Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:28.504Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:28.504Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:28.739Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:28.740Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:28.740Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:28.740Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:28.740Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:28.741Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:28.741Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:28.741Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:28.741Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:28.741Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:28.742Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:28.742Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:28.742Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:28.742Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:28.742Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:28.743Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:28.743Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:28.743Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:28.743Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:28.743Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:28.744Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:28.744Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.744Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:28.744Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.744Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:28.745Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.745Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:28.745Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.745Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:28.746Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.746Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:28.746Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.746Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:28.746Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.746Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:28.747Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.747Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:28.747Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:28.747Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:28.747Z] [LOG] Regular deductions for Chamodi null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:28.747Z] [LOG] Combined deductions for Chamodi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:28.989Z] [LOG] Creating components for record 5569e61a-83c7-4c9f-a442-fd9011e5bc15: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:28.989Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:29.225Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:29.465Z] [LOG] Created payroll_record_component: 4fb70f49-48a3-4fdb-a134-101ab30087f5 for Attendance Deduction
[2025-10-22T05:43:29.936Z] [LOG] ✅ Financial balances updated successfully for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:29.936Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:29.937Z] [LOG] 
======================================================================
[2025-10-22T05:43:29.937Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chamodi null
[2025-10-22T05:43:29.937Z] [LOG] ======================================================================
[2025-10-22T05:43:29.937Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:29.938Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:29.938Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:29.938Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:29.938Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:29.938Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:29.939Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:29.939Z] [LOG] ======================================================================

[2025-10-22T05:43:29.939Z] [LOG] ✅ Chamodi null: Calculation completed successfully
[2025-10-22T05:43:29.940Z] [LOG] 📊 Progress: 8/34 (23.5%)
[2025-10-22T05:43:29.940Z] [LOG] 
🧮 Processing: Hari null (EMP000017)
[2025-10-22T05:43:29.940Z] [LOG] 📋 Record ID: 5c4f9ae2-1208-4307-b9c1-2a3602f5a26a
[2025-10-22T05:43:29.940Z] [LOG] 
======================================================================
[2025-10-22T05:43:29.941Z] [LOG] 🧮 CALCULATING PAYROLL: Hari null (EMP000017)
[2025-10-22T05:43:29.941Z] [LOG] ======================================================================
[2025-10-22T05:43:30.898Z] [LOG] 🔍 Component filtering for employee 0143bc58-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:30.899Z] [LOG]    Total components: 10
[2025-10-22T05:43:30.899Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:30.899Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:43:31.841Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:31.842Z] [LOG] 🔄 Processing financial records for employee 0143bc58-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:32.078Z] [LOG] 📊 Found 0 active loans for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:32.315Z] [LOG] 📊 Found 0 active advances for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:32.552Z] [LOG] 📊 Found 0 approved bonuses for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:32.554Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:32.555Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:32.556Z] [LOG] 💰 GROSS CALCULATION for Hari null:
[2025-10-22T05:43:32.556Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:32.557Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:32.558Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:32.558Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:32.795Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:33.033Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:33.033Z] [LOG]    Employee ID: 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:33.034Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:33.035Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:33.273Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:33.273Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:33.274Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:33.275Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:33.275Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:33.515Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:33.516Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:33.517Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:33.517Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:33.518Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:33.518Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:33.519Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:33.520Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:33.520Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:33.521Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:33.522Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:33.523Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:33.524Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:33.525Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:33.526Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:33.527Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:33.528Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:33.529Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:33.530Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:33.531Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:33.531Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:33.532Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.532Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:33.533Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.534Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:33.536Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.537Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:33.537Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.538Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:33.539Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.540Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:33.540Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.541Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:33.542Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.542Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:33.543Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.544Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:33.545Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:33.546Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:33.546Z] [LOG] Regular deductions for Hari null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:33.546Z] [LOG] Combined deductions for Hari null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:33.787Z] [LOG] Creating components for record 5c4f9ae2-1208-4307-b9c1-2a3602f5a26a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:33.789Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:34.025Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:34.269Z] [LOG] Created payroll_record_component: 58a702f5-8325-4485-b7dc-335eac99fd2e for Attendance Deduction
[2025-10-22T05:43:34.737Z] [LOG] ✅ Financial balances updated successfully for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:34.738Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:34.738Z] [LOG] 
======================================================================
[2025-10-22T05:43:34.738Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Hari null
[2025-10-22T05:43:34.739Z] [LOG] ======================================================================
[2025-10-22T05:43:34.739Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:34.740Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:34.740Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:34.740Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:34.741Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:34.741Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:34.741Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:34.742Z] [LOG] ======================================================================

[2025-10-22T05:43:34.742Z] [LOG] ✅ Hari null: Calculation completed successfully
[2025-10-22T05:43:34.743Z] [LOG] 📊 Progress: 9/34 (26.5%)
[2025-10-22T05:43:34.744Z] [LOG] 
🧮 Processing: Waruni null (EMP000024)
[2025-10-22T05:43:34.744Z] [LOG] 📋 Record ID: 600ba945-2df5-456c-8f96-329fa40bd041
[2025-10-22T05:43:34.745Z] [LOG] 
======================================================================
[2025-10-22T05:43:34.745Z] [LOG] 🧮 CALCULATING PAYROLL: Waruni null (EMP000024)
[2025-10-22T05:43:34.746Z] [LOG] ======================================================================
[2025-10-22T05:43:35.728Z] [LOG] 🔍 Component filtering for employee 0143e40c-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:35.730Z] [LOG]    Total components: 10
[2025-10-22T05:43:35.731Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:35.731Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:43:36.670Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:36.671Z] [LOG] 🔄 Processing financial records for employee 0143e40c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:36.908Z] [LOG] 📊 Found 0 active loans for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:37.149Z] [LOG] 📊 Found 0 active advances for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:37.387Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:37.387Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:37.389Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:37.390Z] [LOG] 💰 GROSS CALCULATION for Waruni null:
[2025-10-22T05:43:37.390Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:37.391Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:37.391Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:37.392Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:37.627Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:37.864Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:37.865Z] [LOG]    Employee ID: 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:37.865Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:37.866Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:38.103Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:38.104Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:38.105Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:38.106Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:38.106Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:38.353Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:38.354Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:38.354Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:38.355Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:38.355Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:38.356Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:38.357Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:38.357Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:38.358Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:38.359Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:38.359Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:38.360Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:38.361Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:38.362Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:38.363Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:38.363Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:38.365Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:38.366Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:38.366Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:38.367Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:38.367Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:38.368Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.368Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:38.368Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.369Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:38.369Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.370Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:38.370Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.371Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:38.372Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.373Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:38.374Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.374Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:38.375Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.375Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:38.376Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.376Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:38.377Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:38.377Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:38.378Z] [LOG] Regular deductions for Waruni null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:38.379Z] [LOG] Combined deductions for Waruni null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:38.622Z] [LOG] Creating components for record 600ba945-2df5-456c-8f96-329fa40bd041: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:38.624Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:38.863Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:39.102Z] [LOG] Created payroll_record_component: 636b824f-5f58-4c1b-aa52-e7b08462305c for Attendance Deduction
[2025-10-22T05:43:39.570Z] [LOG] ✅ Financial balances updated successfully for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:39.571Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:39.572Z] [LOG] 
======================================================================
[2025-10-22T05:43:39.572Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Waruni null
[2025-10-22T05:43:39.573Z] [LOG] ======================================================================
[2025-10-22T05:43:39.574Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:39.574Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:39.575Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:39.576Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:39.576Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:39.577Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:39.578Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:39.579Z] [LOG] ======================================================================

[2025-10-22T05:43:39.580Z] [LOG] ✅ Waruni null: Calculation completed successfully
[2025-10-22T05:43:39.580Z] [LOG] 📊 Progress: 10/34 (29.4%)
[2025-10-22T05:43:39.581Z] [LOG] 
🧮 Processing: Piyumi null (EMP000025)
[2025-10-22T05:43:39.582Z] [LOG] 📋 Record ID: 60467428-4886-47fe-8802-190757734bcc
[2025-10-22T05:43:39.583Z] [LOG] 
======================================================================
[2025-10-22T05:43:39.584Z] [LOG] 🧮 CALCULATING PAYROLL: Piyumi null (EMP000025)
[2025-10-22T05:43:39.584Z] [LOG] ======================================================================
[2025-10-22T05:43:40.526Z] [LOG] 🔍 Component filtering for employee 0143e565-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:40.527Z] [LOG]    Total components: 10
[2025-10-22T05:43:40.528Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:40.528Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:43:41.472Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:41.473Z] [LOG] 🔄 Processing financial records for employee 0143e565-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:41.719Z] [LOG] 📊 Found 0 active loans for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:41.966Z] [LOG] 📊 Found 0 active advances for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:42.202Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:42.203Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:42.204Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:42.205Z] [LOG] 💰 GROSS CALCULATION for Piyumi null:
[2025-10-22T05:43:42.206Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:42.206Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:42.207Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:42.208Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:42.444Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:42.678Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:42.679Z] [LOG]    Employee ID: 0143e565-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:42.680Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:42.680Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:42.919Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:42.920Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:42.920Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:42.921Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:42.921Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:43.159Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:43.160Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:43.161Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:43.161Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:43.162Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:43.163Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:43.163Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:43.164Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:43.165Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:43.166Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:43.166Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:43.167Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:43.168Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:43.168Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:43.169Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:43.170Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:43.171Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:43.171Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:43.172Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:43.173Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:43.173Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:43.174Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.174Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:43.175Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.176Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:43.177Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.178Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:43.178Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.179Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:43.180Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.181Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:43.181Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.182Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:43.183Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.183Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:43.184Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.184Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:43.185Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:43.185Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:43.186Z] [LOG] Regular deductions for Piyumi null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:43.187Z] [LOG] Combined deductions for Piyumi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:43.431Z] [LOG] Creating components for record 60467428-4886-47fe-8802-190757734bcc: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:43.432Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:43.670Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:43.907Z] [LOG] Created payroll_record_component: 1d115feb-dfdd-43dd-892d-e8bf67a10f13 for Attendance Deduction
[2025-10-22T05:43:44.378Z] [LOG] ✅ Financial balances updated successfully for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:44.379Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:44.379Z] [LOG] 
======================================================================
[2025-10-22T05:43:44.380Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Piyumi null
[2025-10-22T05:43:44.381Z] [LOG] ======================================================================
[2025-10-22T05:43:44.381Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:44.382Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:44.382Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:44.383Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:44.384Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:44.385Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:44.386Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:44.386Z] [LOG] ======================================================================

[2025-10-22T05:43:44.387Z] [LOG] ✅ Piyumi null: Calculation completed successfully
[2025-10-22T05:43:44.388Z] [LOG] 📊 Progress: 11/34 (32.4%)
[2025-10-22T05:43:44.389Z] [LOG] 
🧮 Processing: Maryam null (EMP000035)
[2025-10-22T05:43:44.390Z] [LOG] 📋 Record ID: 6229d405-e9b9-4445-b131-754fc040c624
[2025-10-22T05:43:44.391Z] [LOG] 
======================================================================
[2025-10-22T05:43:44.392Z] [LOG] 🧮 CALCULATING PAYROLL: Maryam null (EMP000035)
[2025-10-22T05:43:44.392Z] [LOG] ======================================================================
[2025-10-22T05:43:45.357Z] [LOG] 🔍 Component filtering for employee 01440221-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:45.357Z] [LOG]    Total components: 10
[2025-10-22T05:43:45.358Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:45.359Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-22T05:43:46.303Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:46.303Z] [LOG] 🔄 Processing financial records for employee 01440221-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:46.539Z] [LOG] 📊 Found 0 active loans for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:46.781Z] [LOG] 📊 Found 0 active advances for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:47.016Z] [LOG] 📊 Found 0 approved bonuses for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:47.017Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:47.018Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:47.019Z] [LOG] 💰 GROSS CALCULATION for Maryam null:
[2025-10-22T05:43:47.020Z] [LOG]    Base Salary: 40000
[2025-10-22T05:43:47.020Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:47.021Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:47.021Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.256Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:47.491Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:47.492Z] [LOG]    Employee ID: 01440221-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:47.493Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:47.493Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-22T05:43:47.733Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:47.734Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-22T05:43:47.734Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-22T05:43:47.735Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-22T05:43:47.735Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:47.972Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:47.973Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:47.973Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:47.974Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:47.975Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:47.975Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:47.976Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-22T05:43:47.977Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-22T05:43:47.977Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:47.978Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:47.979Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-22T05:43:47.980Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:47.980Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-22T05:43:47.981Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-22T05:43:47.982Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:47.983Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-22T05:43:47.984Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:47.984Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:47.985Z] [LOG]    Gross Salary: 40000
[2025-10-22T05:43:47.986Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:47.987Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:47.987Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.988Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:47.988Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.989Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:47.990Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.991Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:47.993Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.995Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:47.997Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.997Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:47.998Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:47.999Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:47.999Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:48.000Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:48.000Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:48.000Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:48.001Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:48.001Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:48.001Z] [LOG] Regular deductions for Maryam null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:48.001Z] [LOG] Combined deductions for Maryam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-22T05:43:48.246Z] [LOG] Creating components for record 6229d405-e9b9-4445-b131-754fc040c624: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:48.247Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-22T05:43:48.485Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:48.723Z] [LOG] Created payroll_record_component: 1771ca53-bf99-4a72-9cc6-86f8a5f72351 for Attendance Deduction
[2025-10-22T05:43:49.194Z] [LOG] ✅ Financial balances updated successfully for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:49.195Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:49.195Z] [LOG] 
======================================================================
[2025-10-22T05:43:49.197Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Maryam null
[2025-10-22T05:43:49.198Z] [LOG] ======================================================================
[2025-10-22T05:43:49.199Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-22T05:43:49.200Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-22T05:43:49.200Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-22T05:43:49.201Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:49.202Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:49.202Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:49.203Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-22T05:43:49.204Z] [LOG] ======================================================================

[2025-10-22T05:43:49.205Z] [LOG] ✅ Maryam null: Calculation completed successfully
[2025-10-22T05:43:49.206Z] [LOG] 📊 Progress: 12/34 (35.3%)
[2025-10-22T05:43:49.207Z] [LOG] 
🧮 Processing: Shandeep null (EMP000034)
[2025-10-22T05:43:49.208Z] [LOG] 📋 Record ID: 71ddfd5d-ff5b-4f9e-9bc2-143b51f97198
[2025-10-22T05:43:49.209Z] [LOG] 
======================================================================
[2025-10-22T05:43:49.209Z] [LOG] 🧮 CALCULATING PAYROLL: Shandeep null (EMP000034)
[2025-10-22T05:43:49.210Z] [LOG] ======================================================================
[2025-10-22T05:43:50.148Z] [LOG] 🔍 Component filtering for employee 0143fc5a-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:50.149Z] [LOG]    Total components: 10
[2025-10-22T05:43:50.149Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:50.149Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:43:51.088Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:51.089Z] [LOG] 🔄 Processing financial records for employee 0143fc5a-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:51.324Z] [LOG] 📊 Found 0 active loans for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:51.565Z] [LOG] 📊 Found 0 active advances for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:51.802Z] [LOG] 📊 Found 0 approved bonuses for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:51.802Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:51.804Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:51.804Z] [LOG] 💰 GROSS CALCULATION for Shandeep null:
[2025-10-22T05:43:51.805Z] [LOG]    Base Salary: 80000
[2025-10-22T05:43:51.806Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:51.806Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:51.807Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.043Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:52.278Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:52.279Z] [LOG]    Employee ID: 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:52.279Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:52.280Z] [LOG]    Base Salary: Rs.80000.00
[2025-10-22T05:43:52.517Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:52.517Z] [LOG]       Daily Salary: Rs.3200.00
[2025-10-22T05:43:52.518Z] [LOG]       Weekday Hourly Rate: Rs.376.47
[2025-10-22T05:43:52.519Z] [LOG]       Saturday Hourly Rate: Rs.376.47
[2025-10-22T05:43:52.519Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:52.756Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:52.756Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:52.757Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:52.758Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:52.758Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:52.759Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:52.760Z] [LOG]       Weekday: 17.00h × Rs.376.47 = Rs.6399.99
[2025-10-22T05:43:52.760Z] [LOG]       Saturday: 0.00h × Rs.376.47 = Rs.0.00
[2025-10-22T05:43:52.761Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:52.762Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:52.762Z] [LOG]       Total Earned Salary: Rs.6399.99
[2025-10-22T05:43:52.763Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:52.764Z] [LOG]       Base Salary: Rs.80000.00
[2025-10-22T05:43:52.765Z] [LOG]       Earned Salary: Rs.6399.99
[2025-10-22T05:43:52.765Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:52.766Z] [LOG]       Attendance Deduction: Rs.73600.01
[2025-10-22T05:43:52.767Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:52.768Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:52.768Z] [LOG]    Gross Salary: 80000
[2025-10-22T05:43:52.769Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:52.769Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:52.770Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.770Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:52.771Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.772Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:52.772Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.773Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:52.773Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.774Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:52.775Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.776Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:52.777Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.778Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:52.778Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.779Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:52.780Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.781Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:52.781Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:52.782Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:52.782Z] [LOG] Regular deductions for Shandeep null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:52.783Z] [LOG] Combined deductions for Shandeep null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 73600.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 73600.01
}
[2025-10-22T05:43:53.024Z] [LOG] Creating components for record 71ddfd5d-ff5b-4f9e-9bc2-143b51f97198: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:53.026Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 73600.01
}
[2025-10-22T05:43:53.264Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:53.501Z] [LOG] Created payroll_record_component: 47bdbab5-8a4c-4d53-9fc8-b9fb107b2d76 for Attendance Deduction
[2025-10-22T05:43:53.974Z] [LOG] ✅ Financial balances updated successfully for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:53.974Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:53.974Z] [LOG] 
======================================================================
[2025-10-22T05:43:53.975Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Shandeep null
[2025-10-22T05:43:53.975Z] [LOG] ======================================================================
[2025-10-22T05:43:53.975Z] [LOG]    Gross Salary: Rs.80000.00
[2025-10-22T05:43:53.976Z] [LOG]    Total Deductions: Rs.73600.01
[2025-10-22T05:43:53.976Z] [LOG]       - Attendance Deduction: Rs.73600.01
[2025-10-22T05:43:53.976Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:53.977Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:53.977Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:53.977Z] [LOG]    NET SALARY: Rs.6399.99
[2025-10-22T05:43:53.978Z] [LOG] ======================================================================

[2025-10-22T05:43:53.978Z] [LOG] ✅ Shandeep null: Calculation completed successfully
[2025-10-22T05:43:53.979Z] [LOG] 📊 Progress: 13/34 (38.2%)
[2025-10-22T05:43:53.979Z] [LOG] 
🧮 Processing: Franklin null (EMP000018)
[2025-10-22T05:43:53.979Z] [LOG] 📋 Record ID: 7349e06b-6ca3-4a0e-b69b-6ee59f69f8b6
[2025-10-22T05:43:53.979Z] [LOG] 
======================================================================
[2025-10-22T05:43:53.980Z] [LOG] 🧮 CALCULATING PAYROLL: Franklin null (EMP000018)
[2025-10-22T05:43:53.980Z] [LOG] ======================================================================
[2025-10-22T05:43:54.961Z] [LOG] 🔍 Component filtering for employee 0143c037-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:54.962Z] [LOG]    Total components: 10
[2025-10-22T05:43:54.962Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:54.963Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-22T05:43:55.920Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:43:55.920Z] [LOG] 🔄 Processing financial records for employee 0143c037-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:43:56.157Z] [LOG] 📊 Found 0 active loans for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:56.399Z] [LOG] 📊 Found 0 active advances for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:56.638Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:56.639Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:43:56.640Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:43:56.641Z] [LOG] 💰 GROSS CALCULATION for Franklin null:
[2025-10-22T05:43:56.642Z] [LOG]    Base Salary: 50000
[2025-10-22T05:43:56.642Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:43:56.643Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:43:56.643Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:56.880Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:43:57.115Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:43:57.116Z] [LOG]    Employee ID: 0143c037-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:57.116Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:43:57.117Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:43:57.367Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:43:57.368Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:43:57.368Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:43:57.369Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:43:57.370Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:43:57.605Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:43:57.605Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:43:57.606Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:43:57.607Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:43:57.607Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:43:57.608Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:43:57.608Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:43:57.609Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:43:57.610Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:43:57.610Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:57.611Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:43:57.612Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:43:57.613Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:43:57.614Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:43:57.614Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:43:57.615Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:57.615Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:43:57.618Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:43:57.619Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:43:57.620Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:43:57.621Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:43:57.621Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.622Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:43:57.623Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.623Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:43:57.624Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.624Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:43:57.625Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.626Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:43:57.627Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.628Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:43:57.628Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.628Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:43:57.629Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.629Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:43:57.629Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.631Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:43:57.631Z] [LOG]    Fixed amount: 0
[2025-10-22T05:43:57.631Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:43:57.632Z] [LOG] Regular deductions for Franklin null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:43:57.632Z] [LOG] Combined deductions for Franklin null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:43:57.871Z] [LOG] Creating components for record 7349e06b-6ca3-4a0e-b69b-6ee59f69f8b6: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:43:57.873Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:43:58.108Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:43:58.359Z] [LOG] Created payroll_record_component: 017d3452-ed25-47c5-8a4b-ca935a054297 for Attendance Deduction
[2025-10-22T05:43:58.865Z] [LOG] ✅ Financial balances updated successfully for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-22T05:43:58.866Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:43:58.866Z] [LOG] 
======================================================================
[2025-10-22T05:43:58.867Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Franklin null
[2025-10-22T05:43:58.868Z] [LOG] ======================================================================
[2025-10-22T05:43:58.868Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:43:58.869Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:43:58.869Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:43:58.870Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:43:58.871Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:43:58.872Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:43:58.873Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:43:58.873Z] [LOG] ======================================================================

[2025-10-22T05:43:58.874Z] [LOG] ✅ Franklin null: Calculation completed successfully
[2025-10-22T05:43:58.874Z] [LOG] 📊 Progress: 14/34 (41.2%)
[2025-10-22T05:43:58.875Z] [LOG] 
🧮 Processing: P.D.P Dilini Madushani null (EMP000043)
[2025-10-22T05:43:58.876Z] [LOG] 📋 Record ID: 7c967a24-3376-44c8-9d46-6c537057c5a9
[2025-10-22T05:43:58.877Z] [LOG] 
======================================================================
[2025-10-22T05:43:58.878Z] [LOG] 🧮 CALCULATING PAYROLL: P.D.P Dilini Madushani null (EMP000043)
[2025-10-22T05:43:58.878Z] [LOG] ======================================================================
[2025-10-22T05:43:59.939Z] [LOG] 🔍 Component filtering for employee 014435dc-7105-11f0-a50f-98e743540430:
[2025-10-22T05:43:59.940Z] [LOG]    Total components: 10
[2025-10-22T05:43:59.941Z] [LOG]    Applicable components: 10
[2025-10-22T05:43:59.941Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:44:00.902Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:00.902Z] [LOG] 🔄 Processing financial records for employee 014435dc-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:01.139Z] [LOG] 📊 Found 0 active loans for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:01.378Z] [LOG] 📊 Found 0 active advances for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:01.613Z] [LOG] 📊 Found 0 approved bonuses for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:01.614Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:01.615Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:01.616Z] [LOG] 💰 GROSS CALCULATION for P.D.P Dilini Madushani null:
[2025-10-22T05:44:01.616Z] [LOG]    Base Salary: 50000
[2025-10-22T05:44:01.617Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:01.617Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:01.618Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:01.851Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:02.085Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:02.086Z] [LOG]    Employee ID: 014435dc-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:02.086Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:02.087Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:44:02.327Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:02.327Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:44:02.328Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:44:02.328Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:44:02.328Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:02.567Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:02.567Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:02.568Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:02.569Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:02.569Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:02.570Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:02.570Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:44:02.571Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:44:02.572Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:02.572Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:02.573Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:44:02.574Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:02.575Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:44:02.576Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:44:02.576Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:02.578Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:44:02.578Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:02.579Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:02.580Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:44:02.581Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:02.582Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:02.582Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.583Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:02.585Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.586Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:02.587Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.588Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:02.588Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.589Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:02.589Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.590Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:02.591Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.591Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:02.592Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.593Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:02.593Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.594Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:02.594Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:02.594Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:02.595Z] [LOG] Regular deductions for P.D.P Dilini Madushani null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:02.595Z] [LOG] Combined deductions for P.D.P Dilini Madushani null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:44:02.833Z] [LOG] Creating components for record 7c967a24-3376-44c8-9d46-6c537057c5a9: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:02.835Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:44:03.070Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:03.311Z] [LOG] Created payroll_record_component: 90405bbb-b0b6-431c-967e-f73f478df8b7 for Attendance Deduction
[2025-10-22T05:44:03.783Z] [LOG] ✅ Financial balances updated successfully for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:03.784Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:03.784Z] [LOG] 
======================================================================
[2025-10-22T05:44:03.785Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: P.D.P Dilini Madushani null
[2025-10-22T05:44:03.786Z] [LOG] ======================================================================
[2025-10-22T05:44:03.786Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:44:03.787Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:44:03.787Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:44:03.788Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:03.789Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:03.790Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:03.791Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:44:03.791Z] [LOG] ======================================================================

[2025-10-22T05:44:03.792Z] [LOG] ✅ P.D.P Dilini Madushani null: Calculation completed successfully
[2025-10-22T05:44:03.793Z] [LOG] 📊 Progress: 15/34 (44.1%)
[2025-10-22T05:44:03.793Z] [LOG] 
🧮 Processing: Dharshika null (EMP000009)
[2025-10-22T05:44:03.796Z] [LOG] 📋 Record ID: 82f533e1-7efa-4508-9649-6690651ffbe2
[2025-10-22T05:44:03.797Z] [LOG] 
======================================================================
[2025-10-22T05:44:03.798Z] [LOG] 🧮 CALCULATING PAYROLL: Dharshika null (EMP000009)
[2025-10-22T05:44:03.799Z] [LOG] ======================================================================
[2025-10-22T05:44:04.745Z] [LOG] 🔍 Component filtering for employee 0143a994-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:04.746Z] [LOG]    Total components: 10
[2025-10-22T05:44:04.746Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:04.747Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:44:05.701Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:05.702Z] [LOG] 🔄 Processing financial records for employee 0143a994-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:05.938Z] [LOG] 📊 Found 0 active loans for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:06.175Z] [LOG] 📊 Found 0 active advances for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:06.412Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:06.413Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:06.414Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:06.415Z] [LOG] 💰 GROSS CALCULATION for Dharshika null:
[2025-10-22T05:44:06.416Z] [LOG]    Base Salary: 100000
[2025-10-22T05:44:06.416Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:06.417Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:06.418Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:06.655Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:06.887Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:06.888Z] [LOG]    Employee ID: 0143a994-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:06.889Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:06.889Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-22T05:44:07.124Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:07.125Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-22T05:44:07.126Z] [LOG]       Weekday Hourly Rate: Rs.470.59
[2025-10-22T05:44:07.126Z] [LOG]       Saturday Hourly Rate: Rs.470.59
[2025-10-22T05:44:07.127Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:07.364Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:07.365Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:07.366Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:07.366Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:07.367Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:07.368Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:07.368Z] [LOG]       Weekday: 17.00h × Rs.470.59 = Rs.8000.03
[2025-10-22T05:44:07.369Z] [LOG]       Saturday: 0.00h × Rs.470.59 = Rs.0.00
[2025-10-22T05:44:07.369Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:07.370Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:07.371Z] [LOG]       Total Earned Salary: Rs.8000.03
[2025-10-22T05:44:07.372Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:07.373Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-22T05:44:07.373Z] [LOG]       Earned Salary: Rs.8000.03
[2025-10-22T05:44:07.374Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:07.375Z] [LOG]       Attendance Deduction: Rs.91999.97
[2025-10-22T05:44:07.375Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:07.378Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:07.379Z] [LOG]    Gross Salary: 100000
[2025-10-22T05:44:07.379Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:07.380Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:07.381Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.381Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:07.382Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.383Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:07.383Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.384Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:07.385Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.385Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:07.386Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.386Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:07.387Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.388Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:07.389Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.389Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:07.390Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.390Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:07.391Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:07.392Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:07.392Z] [LOG] Regular deductions for Dharshika null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:07.392Z] [LOG] Combined deductions for Dharshika null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 91999.97,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 91999.97
}
[2025-10-22T05:44:07.630Z] [LOG] Creating components for record 82f533e1-7efa-4508-9649-6690651ffbe2: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:07.632Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 91999.97
}
[2025-10-22T05:44:07.865Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:08.100Z] [LOG] Created payroll_record_component: 834ab3f5-113b-47fd-a37a-c9c79eb81203 for Attendance Deduction
[2025-10-22T05:44:08.568Z] [LOG] ✅ Financial balances updated successfully for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:08.569Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:08.570Z] [LOG] 
======================================================================
[2025-10-22T05:44:08.570Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Dharshika null
[2025-10-22T05:44:08.571Z] [LOG] ======================================================================
[2025-10-22T05:44:08.572Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-22T05:44:08.572Z] [LOG]    Total Deductions: Rs.91999.97
[2025-10-22T05:44:08.573Z] [LOG]       - Attendance Deduction: Rs.91999.97
[2025-10-22T05:44:08.573Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:08.574Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:08.575Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:08.576Z] [LOG]    NET SALARY: Rs.8000.03
[2025-10-22T05:44:08.577Z] [LOG] ======================================================================

[2025-10-22T05:44:08.577Z] [LOG] ✅ Dharshika null: Calculation completed successfully
[2025-10-22T05:44:08.578Z] [LOG] 📊 Progress: 16/34 (47.1%)
[2025-10-22T05:44:08.580Z] [LOG] 
🧮 Processing: Saruban null (EMP000007)
[2025-10-22T05:44:08.581Z] [LOG] 📋 Record ID: 8cf7b1eb-b23e-45a6-9f45-4a1cd086d4aa
[2025-10-22T05:44:08.581Z] [LOG] 
======================================================================
[2025-10-22T05:44:08.582Z] [LOG] 🧮 CALCULATING PAYROLL: Saruban null (EMP000007)
[2025-10-22T05:44:08.583Z] [LOG] ======================================================================
[2025-10-22T05:44:09.546Z] [LOG] 🔍 Component filtering for employee 0143a6e3-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:09.546Z] [LOG]    Total components: 10
[2025-10-22T05:44:09.547Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:09.548Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:44:10.486Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:10.487Z] [LOG] 🔄 Processing financial records for employee 0143a6e3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:10.723Z] [LOG] 📊 Found 0 active loans for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:10.959Z] [LOG] 📊 Found 0 active advances for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:11.194Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:11.195Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:11.196Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:11.197Z] [LOG] 💰 GROSS CALCULATION for Saruban null:
[2025-10-22T05:44:11.198Z] [LOG]    Base Salary: 0
[2025-10-22T05:44:11.198Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:11.199Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:11.200Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:11.434Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:11.669Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:11.670Z] [LOG]    Employee ID: 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:11.671Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:11.671Z] [LOG]    Base Salary: Rs.0.00
[2025-10-22T05:44:11.907Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:11.907Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-22T05:44:11.908Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-22T05:44:11.909Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-22T05:44:11.909Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:12.145Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:12.146Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:12.147Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:12.148Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:12.148Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:12.149Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:12.150Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:12.150Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:12.151Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:12.152Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:12.153Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-22T05:44:12.154Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:12.155Z] [LOG]       Base Salary: Rs.0.00
[2025-10-22T05:44:12.156Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-22T05:44:12.156Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:12.160Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-22T05:44:12.161Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-22T05:44:12.162Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:12.163Z] [LOG]    Gross Salary: 0
[2025-10-22T05:44:12.163Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:12.164Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:12.165Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.165Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:12.167Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.168Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:12.169Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.170Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:12.170Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.171Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:12.172Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.172Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:12.173Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.174Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:12.174Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.175Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:12.175Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.176Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:12.177Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:12.179Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:12.179Z] [LOG] Regular deductions for Saruban null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:12.180Z] [LOG] Combined deductions for Saruban null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-22T05:44:12.432Z] [LOG] Creating components for record 8cf7b1eb-b23e-45a6-9f45-4a1cd086d4aa: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:12.434Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-22T05:44:12.669Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:12.909Z] [LOG] Created payroll_record_component: 572e18c7-7f06-46d4-ac23-39476705bd7a for Attendance Deduction
[2025-10-22T05:44:13.373Z] [LOG] ✅ Financial balances updated successfully for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:13.374Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:13.374Z] [LOG] 
======================================================================
[2025-10-22T05:44:13.375Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saruban null
[2025-10-22T05:44:13.376Z] [LOG] ======================================================================
[2025-10-22T05:44:13.376Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-22T05:44:13.377Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-22T05:44:13.378Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-22T05:44:13.378Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:13.379Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:13.380Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:13.380Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-22T05:44:13.381Z] [LOG] ======================================================================

[2025-10-22T05:44:13.382Z] [LOG] ✅ Saruban null: Calculation completed successfully
[2025-10-22T05:44:13.382Z] [LOG] 📊 Progress: 17/34 (50.0%)
[2025-10-22T05:44:13.383Z] [LOG] 
🧮 Processing: Sithira null (EMP000039)
[2025-10-22T05:44:13.384Z] [LOG] 📋 Record ID: 913a2ba0-5ab9-4251-846e-aa969cd18fb6
[2025-10-22T05:44:13.385Z] [LOG] 
======================================================================
[2025-10-22T05:44:13.385Z] [LOG] 🧮 CALCULATING PAYROLL: Sithira null (EMP000039)
[2025-10-22T05:44:13.386Z] [LOG] ======================================================================
[2025-10-22T05:44:14.320Z] [LOG] 🔍 Component filtering for employee 01441e19-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:14.321Z] [LOG]    Total components: 10
[2025-10-22T05:44:14.321Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:14.322Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-22T05:44:15.261Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:15.261Z] [LOG] 🔄 Processing financial records for employee 01441e19-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:15.497Z] [LOG] 📊 Found 0 active loans for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:15.742Z] [LOG] 📊 Found 0 active advances for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:15.977Z] [LOG] 📊 Found 0 approved bonuses for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:15.977Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:15.978Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:15.979Z] [LOG] 💰 GROSS CALCULATION for Sithira null:
[2025-10-22T05:44:15.980Z] [LOG]    Base Salary: 40000
[2025-10-22T05:44:15.980Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:15.981Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:15.982Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.221Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:16.455Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:16.456Z] [LOG]    Employee ID: 01441e19-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:16.456Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:16.457Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-22T05:44:16.693Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:16.694Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-22T05:44:16.695Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-22T05:44:16.696Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-22T05:44:16.697Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:16.938Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:16.939Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:16.940Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:16.940Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:16.941Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:16.941Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:16.942Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-22T05:44:16.943Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-22T05:44:16.943Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:16.944Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:16.945Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-22T05:44:16.946Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:16.947Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-22T05:44:16.947Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-22T05:44:16.948Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:16.948Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-22T05:44:16.949Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:16.950Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:16.952Z] [LOG]    Gross Salary: 40000
[2025-10-22T05:44:16.953Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:16.953Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:16.954Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.955Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:16.955Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.956Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:16.957Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.957Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:16.958Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.958Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:16.959Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.960Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:16.961Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.961Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:16.961Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.962Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:16.962Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.963Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:16.964Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:16.964Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:16.965Z] [LOG] Regular deductions for Sithira null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:16.965Z] [LOG] Combined deductions for Sithira null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-22T05:44:17.202Z] [LOG] Creating components for record 913a2ba0-5ab9-4251-846e-aa969cd18fb6: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:17.204Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-22T05:44:17.441Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:17.679Z] [LOG] Created payroll_record_component: ac198859-4e96-44a8-a2d7-8aff76d6071a for Attendance Deduction
[2025-10-22T05:44:18.145Z] [LOG] ✅ Financial balances updated successfully for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:18.146Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:18.146Z] [LOG] 
======================================================================
[2025-10-22T05:44:18.147Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sithira null
[2025-10-22T05:44:18.148Z] [LOG] ======================================================================
[2025-10-22T05:44:18.148Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-22T05:44:18.149Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-22T05:44:18.149Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-22T05:44:18.150Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:18.151Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:18.151Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:18.152Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-22T05:44:18.153Z] [LOG] ======================================================================

[2025-10-22T05:44:18.154Z] [LOG] ✅ Sithira null: Calculation completed successfully
[2025-10-22T05:44:18.154Z] [LOG] 📊 Progress: 18/34 (52.9%)
[2025-10-22T05:44:18.155Z] [LOG] 
🧮 Processing: Ammaar Ilham (EMP000023)
[2025-10-22T05:44:18.156Z] [LOG] 📋 Record ID: 915e8b0e-3ade-4b66-b62b-59e6b924e548
[2025-10-22T05:44:18.156Z] [LOG] 
======================================================================
[2025-10-22T05:44:18.157Z] [LOG] 🧮 CALCULATING PAYROLL: Ammaar Ilham (EMP000023)
[2025-10-22T05:44:18.158Z] [LOG] ======================================================================
[2025-10-22T05:44:19.097Z] [LOG] 🔍 Component filtering for employee 0143de00-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:19.097Z] [LOG]    Total components: 10
[2025-10-22T05:44:19.097Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:19.097Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:44:20.038Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:20.039Z] [LOG] 🔄 Processing financial records for employee 0143de00-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:20.272Z] [LOG] 📊 Found 0 active loans for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:20.508Z] [LOG] 📊 Found 0 active advances for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:20.742Z] [LOG] 📊 Found 0 approved bonuses for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:20.743Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:20.743Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:20.743Z] [LOG] 💰 GROSS CALCULATION for Ammaar Ilham:
[2025-10-22T05:44:20.743Z] [LOG]    Base Salary: 70000
[2025-10-22T05:44:20.743Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:20.743Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:20.744Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:20.979Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:21.213Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:21.213Z] [LOG]    Employee ID: 0143de00-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:21.214Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:21.214Z] [LOG]    Base Salary: Rs.70000.00
[2025-10-22T05:44:21.449Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:21.449Z] [LOG]       Daily Salary: Rs.2800.00
[2025-10-22T05:44:21.450Z] [LOG]       Weekday Hourly Rate: Rs.329.41
[2025-10-22T05:44:21.450Z] [LOG]       Saturday Hourly Rate: Rs.329.41
[2025-10-22T05:44:21.450Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:21.682Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:21.682Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:21.683Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:21.683Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:21.683Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:21.683Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:21.683Z] [LOG]       Weekday: 17.00h × Rs.329.41 = Rs.5599.97
[2025-10-22T05:44:21.684Z] [LOG]       Saturday: 0.00h × Rs.329.41 = Rs.0.00
[2025-10-22T05:44:21.684Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:21.684Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:21.684Z] [LOG]       Total Earned Salary: Rs.5599.97
[2025-10-22T05:44:21.685Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:21.685Z] [LOG]       Base Salary: Rs.70000.00
[2025-10-22T05:44:21.685Z] [LOG]       Earned Salary: Rs.5599.97
[2025-10-22T05:44:21.686Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:21.686Z] [LOG]       Attendance Deduction: Rs.64400.03
[2025-10-22T05:44:21.686Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:21.686Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:21.687Z] [LOG]    Gross Salary: 70000
[2025-10-22T05:44:21.687Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:21.687Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:21.687Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.687Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:21.688Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.688Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:21.689Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.691Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:21.692Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.694Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:21.698Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.698Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:21.699Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.699Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:21.699Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.700Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:21.700Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.700Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:21.700Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:21.700Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:21.701Z] [LOG] Regular deductions for Ammaar Ilham: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:21.701Z] [LOG] Combined deductions for Ammaar Ilham: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 64400.03,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 64400.03
}
[2025-10-22T05:44:21.939Z] [LOG] Creating components for record 915e8b0e-3ade-4b66-b62b-59e6b924e548: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:21.939Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 64400.03
}
[2025-10-22T05:44:22.174Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:22.411Z] [LOG] Created payroll_record_component: 34dcdfc9-8926-4b10-8182-e4e0c197385c for Attendance Deduction
[2025-10-22T05:44:22.881Z] [LOG] ✅ Financial balances updated successfully for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:22.881Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:22.881Z] [LOG] 
======================================================================
[2025-10-22T05:44:22.882Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ammaar Ilham
[2025-10-22T05:44:22.882Z] [LOG] ======================================================================
[2025-10-22T05:44:22.882Z] [LOG]    Gross Salary: Rs.70000.00
[2025-10-22T05:44:22.882Z] [LOG]    Total Deductions: Rs.64400.03
[2025-10-22T05:44:22.882Z] [LOG]       - Attendance Deduction: Rs.64400.03
[2025-10-22T05:44:22.883Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:22.883Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:22.883Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:22.884Z] [LOG]    NET SALARY: Rs.5599.97
[2025-10-22T05:44:22.884Z] [LOG] ======================================================================

[2025-10-22T05:44:22.884Z] [LOG] ✅ Ammaar Ilham: Calculation completed successfully
[2025-10-22T05:44:22.884Z] [LOG] 📊 Progress: 19/34 (55.9%)
[2025-10-22T05:44:22.884Z] [LOG] 
🧮 Processing: Sujevan Selvaratnam null (EMP000026)
[2025-10-22T05:44:22.885Z] [LOG] 📋 Record ID: 939c3117-2b1f-44f4-8c7e-1e889111c8d0
[2025-10-22T05:44:22.885Z] [LOG] 
======================================================================
[2025-10-22T05:44:22.885Z] [LOG] 🧮 CALCULATING PAYROLL: Sujevan Selvaratnam null (EMP000026)
[2025-10-22T05:44:22.885Z] [LOG] ======================================================================
[2025-10-22T05:44:23.830Z] [LOG] 🔍 Component filtering for employee 0143e6c3-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:23.831Z] [LOG]    Total components: 10
[2025-10-22T05:44:23.831Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:23.831Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:44:24.769Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:24.769Z] [LOG] 🔄 Processing financial records for employee 0143e6c3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:25.004Z] [LOG] 📊 Found 0 active loans for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:25.241Z] [LOG] 📊 Found 0 active advances for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:25.475Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:25.476Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:25.476Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:25.477Z] [LOG] 💰 GROSS CALCULATION for Sujevan Selvaratnam null:
[2025-10-22T05:44:25.477Z] [LOG]    Base Salary: 1
[2025-10-22T05:44:25.477Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:25.477Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:25.477Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:25.711Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:25.947Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:25.948Z] [LOG]    Employee ID: 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:25.948Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:25.948Z] [LOG]    Base Salary: Rs.1.00
[2025-10-22T05:44:26.182Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:26.182Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-22T05:44:26.183Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-22T05:44:26.183Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-22T05:44:26.183Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:26.417Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:26.418Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:26.418Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:26.418Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:26.418Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:26.418Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:26.418Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:26.418Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:26.419Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:26.419Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:26.419Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-22T05:44:26.419Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:26.419Z] [LOG]       Base Salary: Rs.1.00
[2025-10-22T05:44:26.419Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-22T05:44:26.419Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:26.419Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-22T05:44:26.420Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-22T05:44:26.420Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:26.420Z] [LOG]    Gross Salary: 1
[2025-10-22T05:44:26.420Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:26.420Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:26.420Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.420Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:26.420Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.421Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:26.421Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.421Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:26.421Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.421Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:26.421Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.421Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:26.422Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.422Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:26.422Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.422Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:26.422Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.422Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:26.423Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:26.423Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:26.423Z] [LOG] Regular deductions for Sujevan Selvaratnam null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:26.423Z] [LOG] Combined deductions for Sujevan Selvaratnam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-22T05:44:26.664Z] [LOG] Creating components for record 939c3117-2b1f-44f4-8c7e-1e889111c8d0: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:26.664Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-22T05:44:26.897Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:27.137Z] [LOG] Created payroll_record_component: 309f5cfd-f0a2-4dd5-b1a6-953e6e6e8c73 for Attendance Deduction
[2025-10-22T05:44:27.607Z] [LOG] ✅ Financial balances updated successfully for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:27.608Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:27.608Z] [LOG] 
======================================================================
[2025-10-22T05:44:27.609Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sujevan Selvaratnam null
[2025-10-22T05:44:27.609Z] [LOG] ======================================================================
[2025-10-22T05:44:27.610Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-22T05:44:27.611Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-22T05:44:27.611Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-22T05:44:27.612Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:27.612Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:27.613Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:27.614Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-22T05:44:27.615Z] [LOG] ======================================================================

[2025-10-22T05:44:27.615Z] [LOG] ✅ Sujevan Selvaratnam null: Calculation completed successfully
[2025-10-22T05:44:27.616Z] [LOG] 📊 Progress: 20/34 (58.8%)
[2025-10-22T05:44:27.617Z] [LOG] 
🧮 Processing: Chemil null (EMP000040)
[2025-10-22T05:44:27.617Z] [LOG] 📋 Record ID: a34191aa-525c-417e-8b18-378bd79a2af3
[2025-10-22T05:44:27.619Z] [LOG] 
======================================================================
[2025-10-22T05:44:27.620Z] [LOG] 🧮 CALCULATING PAYROLL: Chemil null (EMP000040)
[2025-10-22T05:44:27.621Z] [LOG] ======================================================================
[2025-10-22T05:44:28.566Z] [LOG] 🔍 Component filtering for employee 01442599-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:28.566Z] [LOG]    Total components: 10
[2025-10-22T05:44:28.567Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:28.568Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:44:29.518Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:29.519Z] [LOG] 🔄 Processing financial records for employee 01442599-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:29.757Z] [LOG] 📊 Found 0 active loans for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:29.994Z] [LOG] 📊 Found 0 active advances for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:30.231Z] [LOG] 📊 Found 0 approved bonuses for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:30.232Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:30.233Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:30.234Z] [LOG] 💰 GROSS CALCULATION for Chemil null:
[2025-10-22T05:44:30.234Z] [LOG]    Base Salary: 250000
[2025-10-22T05:44:30.235Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:30.236Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:30.236Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:30.472Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:30.709Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:30.710Z] [LOG]    Employee ID: 01442599-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:30.710Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:30.711Z] [LOG]    Base Salary: Rs.250000.00
[2025-10-22T05:44:30.948Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:30.948Z] [LOG]       Daily Salary: Rs.10000.00
[2025-10-22T05:44:30.949Z] [LOG]       Weekday Hourly Rate: Rs.1176.47
[2025-10-22T05:44:30.950Z] [LOG]       Saturday Hourly Rate: Rs.1176.47
[2025-10-22T05:44:30.950Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:31.187Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:31.188Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:31.188Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:31.189Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:31.189Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:31.190Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:31.191Z] [LOG]       Weekday: 17.00h × Rs.1176.47 = Rs.19999.99
[2025-10-22T05:44:31.191Z] [LOG]       Saturday: 0.00h × Rs.1176.47 = Rs.0.00
[2025-10-22T05:44:31.192Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:31.192Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:31.193Z] [LOG]       Total Earned Salary: Rs.19999.99
[2025-10-22T05:44:31.194Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:31.195Z] [LOG]       Base Salary: Rs.250000.00
[2025-10-22T05:44:31.195Z] [LOG]       Earned Salary: Rs.19999.99
[2025-10-22T05:44:31.196Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:31.197Z] [LOG]       Attendance Deduction: Rs.230000.01
[2025-10-22T05:44:31.197Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:31.199Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:31.200Z] [LOG]    Gross Salary: 250000
[2025-10-22T05:44:31.201Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:31.201Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:31.202Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.203Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:31.203Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.204Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:31.205Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.206Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:31.207Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.207Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:31.208Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.209Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:31.209Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.210Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:31.211Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.211Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:31.211Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.212Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:31.213Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:31.213Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:31.213Z] [LOG] Regular deductions for Chemil null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:31.214Z] [LOG] Combined deductions for Chemil null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 230000.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 230000.01
}
[2025-10-22T05:44:31.454Z] [LOG] Creating components for record a34191aa-525c-417e-8b18-378bd79a2af3: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-22T05:44:31.456Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 230000.01
}
[2025-10-22T05:44:31.693Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:31.932Z] [LOG] Created payroll_record_component: 24b32e13-a889-4348-a76e-d7d933fda504 for Attendance Deduction
[2025-10-22T05:44:31.932Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 12000
}
[2025-10-22T05:44:32.169Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-22T05:44:32.404Z] [LOG] Created payroll_record_component: 81acf5a4-228d-47aa-81e5-b32c9e7170ab for Income Tax
[2025-10-22T05:44:32.872Z] [LOG] ✅ Financial balances updated successfully for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:32.872Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:32.873Z] [LOG] 
======================================================================
[2025-10-22T05:44:32.874Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chemil null
[2025-10-22T05:44:32.874Z] [LOG] ======================================================================
[2025-10-22T05:44:32.875Z] [LOG]    Gross Salary: Rs.250000.00
[2025-10-22T05:44:32.875Z] [LOG]    Total Deductions: Rs.230000.01
[2025-10-22T05:44:32.876Z] [LOG]       - Attendance Deduction: Rs.230000.01
[2025-10-22T05:44:32.877Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:32.877Z] [LOG]    Total Taxes: Rs.12000.00
[2025-10-22T05:44:32.878Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:32.879Z] [LOG]    NET SALARY: Rs.7999.99
[2025-10-22T05:44:32.879Z] [LOG] ======================================================================

[2025-10-22T05:44:32.880Z] [LOG] ✅ Chemil null: Calculation completed successfully
[2025-10-22T05:44:32.881Z] [LOG] 📊 Progress: 21/34 (61.8%)
[2025-10-22T05:44:32.882Z] [LOG] 
🧮 Processing: Jessie null (EMP000013)
[2025-10-22T05:44:32.884Z] [LOG] 📋 Record ID: a5ded69b-19d9-4b5b-8812-875ed3e83ed4
[2025-10-22T05:44:32.885Z] [LOG] 
======================================================================
[2025-10-22T05:44:32.886Z] [LOG] 🧮 CALCULATING PAYROLL: Jessie null (EMP000013)
[2025-10-22T05:44:32.887Z] [LOG] ======================================================================
[2025-10-22T05:44:33.834Z] [LOG] 🔍 Component filtering for employee 0143ae6e-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:33.835Z] [LOG]    Total components: 10
[2025-10-22T05:44:33.835Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:33.836Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:44:34.784Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:34.785Z] [LOG] 🔄 Processing financial records for employee 0143ae6e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:35.030Z] [LOG] 📊 Found 0 active loans for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:35.268Z] [LOG] 📊 Found 0 active advances for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:35.506Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:35.507Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:35.508Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:35.508Z] [LOG] 💰 GROSS CALCULATION for Jessie null:
[2025-10-22T05:44:35.509Z] [LOG]    Base Salary: 60000
[2025-10-22T05:44:35.510Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:35.510Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:35.511Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:35.746Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:35.984Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:35.985Z] [LOG]    Employee ID: 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:35.986Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:35.986Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-22T05:44:36.224Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:36.225Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-22T05:44:36.226Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-22T05:44:36.226Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-22T05:44:36.227Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:36.461Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:36.462Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:36.462Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:36.463Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:36.464Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:36.464Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:36.465Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-22T05:44:36.465Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-22T05:44:36.466Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:36.467Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:36.467Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-22T05:44:36.469Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:36.469Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-22T05:44:36.470Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-22T05:44:36.470Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:36.471Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-22T05:44:36.472Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:36.474Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:36.475Z] [LOG]    Gross Salary: 60000
[2025-10-22T05:44:36.475Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:36.476Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:36.477Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.478Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:36.479Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.480Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:36.481Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.481Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:36.482Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.483Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:36.484Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.484Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:36.485Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.486Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:36.486Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.487Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:36.487Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.488Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:36.488Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:36.489Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:36.490Z] [LOG] Regular deductions for Jessie null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:36.491Z] [LOG] Combined deductions for Jessie null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-22T05:44:36.733Z] [LOG] Creating components for record a5ded69b-19d9-4b5b-8812-875ed3e83ed4: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:36.735Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-22T05:44:36.970Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:37.207Z] [LOG] Created payroll_record_component: d07d9293-2ff4-410d-883b-22d7b2029487 for Attendance Deduction
[2025-10-22T05:44:37.677Z] [LOG] ✅ Financial balances updated successfully for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:37.677Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:37.678Z] [LOG] 
======================================================================
[2025-10-22T05:44:37.679Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Jessie null
[2025-10-22T05:44:37.679Z] [LOG] ======================================================================
[2025-10-22T05:44:37.680Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-22T05:44:37.680Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-22T05:44:37.681Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-22T05:44:37.681Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:37.682Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:37.683Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:37.684Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-22T05:44:37.684Z] [LOG] ======================================================================

[2025-10-22T05:44:37.685Z] [LOG] ✅ Jessie null: Calculation completed successfully
[2025-10-22T05:44:37.686Z] [LOG] 📊 Progress: 22/34 (64.7%)
[2025-10-22T05:44:37.686Z] [LOG] 
🧮 Processing: Safna Nawas null (EMP000021)
[2025-10-22T05:44:37.687Z] [LOG] 📋 Record ID: b4d6d68e-1246-4b89-a5e8-5840edfc770b
[2025-10-22T05:44:37.690Z] [LOG] 
======================================================================
[2025-10-22T05:44:37.691Z] [LOG] 🧮 CALCULATING PAYROLL: Safna Nawas null (EMP000021)
[2025-10-22T05:44:37.692Z] [LOG] ======================================================================
[2025-10-22T05:44:38.657Z] [LOG] 🔍 Component filtering for employee 0143c977-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:38.658Z] [LOG]    Total components: 10
[2025-10-22T05:44:38.658Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:38.659Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-22T05:44:39.626Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:39.627Z] [LOG] 🔄 Processing financial records for employee 0143c977-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:39.897Z] [LOG] 📊 Found 0 active loans for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:40.355Z] [LOG] 📊 Found 0 active advances for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:40.625Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:40.625Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:40.626Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:40.627Z] [LOG] 💰 GROSS CALCULATION for Safna Nawas null:
[2025-10-22T05:44:40.628Z] [LOG]    Base Salary: 50000
[2025-10-22T05:44:40.628Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:40.629Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:40.629Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:40.873Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:41.109Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:41.110Z] [LOG]    Employee ID: 0143c977-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:41.110Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:41.111Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:44:41.347Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:41.347Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:44:41.348Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:44:41.348Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:44:41.349Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:41.593Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:41.594Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:41.594Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:41.595Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:41.595Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:41.596Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:41.597Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:44:41.598Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:44:41.598Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:41.599Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:41.600Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:44:41.601Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:41.601Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:44:41.602Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:44:41.602Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:41.603Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:44:41.604Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:41.606Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:41.607Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:44:41.607Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:41.608Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:41.609Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.609Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:41.611Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.612Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:41.612Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.613Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:41.613Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.615Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:41.616Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.617Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:41.618Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.618Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:41.619Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.620Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:41.620Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.621Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:41.621Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:41.622Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:41.623Z] [LOG] Regular deductions for Safna Nawas null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:41.624Z] [LOG] Combined deductions for Safna Nawas null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:44:41.863Z] [LOG] Creating components for record b4d6d68e-1246-4b89-a5e8-5840edfc770b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:41.865Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:44:42.104Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:42.343Z] [LOG] Created payroll_record_component: 9ff64e2a-9b93-43e8-a376-bb808f60c382 for Attendance Deduction
[2025-10-22T05:44:42.819Z] [LOG] ✅ Financial balances updated successfully for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:42.820Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:42.821Z] [LOG] 
======================================================================
[2025-10-22T05:44:42.821Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Safna Nawas null
[2025-10-22T05:44:42.822Z] [LOG] ======================================================================
[2025-10-22T05:44:42.823Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:44:42.823Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:44:42.824Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:44:42.824Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:42.825Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:42.825Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:42.826Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:44:42.827Z] [LOG] ======================================================================

[2025-10-22T05:44:42.828Z] [LOG] ✅ Safna Nawas null: Calculation completed successfully
[2025-10-22T05:44:42.829Z] [LOG] 📊 Progress: 23/34 (67.6%)
[2025-10-22T05:44:42.829Z] [LOG] 
🧮 Processing: Nimdiya Ranasinghe null (EMP000045)
[2025-10-22T05:44:42.830Z] [LOG] 📋 Record ID: b5fbc034-0308-4c8d-b58c-c00b1966c5f2
[2025-10-22T05:44:42.831Z] [LOG] 
======================================================================
[2025-10-22T05:44:42.834Z] [LOG] 🧮 CALCULATING PAYROLL: Nimdiya Ranasinghe null (EMP000045)
[2025-10-22T05:44:42.835Z] [LOG] ======================================================================
[2025-10-22T05:44:43.781Z] [LOG] 🔍 Component filtering for employee 01444074-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:43.782Z] [LOG]    Total components: 10
[2025-10-22T05:44:43.783Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:43.783Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:44:44.729Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:44.730Z] [LOG] 🔄 Processing financial records for employee 01444074-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:44.973Z] [LOG] 📊 Found 0 active loans for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:45.213Z] [LOG] 📊 Found 0 active advances for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:45.449Z] [LOG] 📊 Found 0 approved bonuses for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:45.450Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:45.451Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:45.452Z] [LOG] 💰 GROSS CALCULATION for Nimdiya Ranasinghe null:
[2025-10-22T05:44:45.452Z] [LOG]    Base Salary: 35000
[2025-10-22T05:44:45.453Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:45.454Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:45.454Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:45.691Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:45.927Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:45.928Z] [LOG]    Employee ID: 01444074-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:45.928Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:45.929Z] [LOG]    Base Salary: Rs.35000.00
[2025-10-22T05:44:46.166Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:46.166Z] [LOG]       Daily Salary: Rs.1400.00
[2025-10-22T05:44:46.167Z] [LOG]       Weekday Hourly Rate: Rs.164.71
[2025-10-22T05:44:46.168Z] [LOG]       Saturday Hourly Rate: Rs.164.71
[2025-10-22T05:44:46.168Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:46.406Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:46.407Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:46.407Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:46.408Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:46.408Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:46.409Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:46.410Z] [LOG]       Weekday: 17.00h × Rs.164.71 = Rs.2800.07
[2025-10-22T05:44:46.410Z] [LOG]       Saturday: 0.00h × Rs.164.71 = Rs.0.00
[2025-10-22T05:44:46.411Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:46.411Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:46.412Z] [LOG]       Total Earned Salary: Rs.2800.07
[2025-10-22T05:44:46.413Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:46.414Z] [LOG]       Base Salary: Rs.35000.00
[2025-10-22T05:44:46.415Z] [LOG]       Earned Salary: Rs.2800.07
[2025-10-22T05:44:46.415Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:46.416Z] [LOG]       Attendance Deduction: Rs.32199.93
[2025-10-22T05:44:46.416Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:46.419Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:46.420Z] [LOG]    Gross Salary: 35000
[2025-10-22T05:44:46.420Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:46.421Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:46.421Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.422Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:46.423Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.424Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:46.424Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.425Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:46.425Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.426Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:46.427Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.428Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:46.429Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.429Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:46.430Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.431Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:46.432Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.433Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:46.434Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:46.434Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:46.435Z] [LOG] Regular deductions for Nimdiya Ranasinghe null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:46.436Z] [LOG] Combined deductions for Nimdiya Ranasinghe null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 32199.93,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 32199.93
}
[2025-10-22T05:44:46.676Z] [LOG] Creating components for record b5fbc034-0308-4c8d-b58c-c00b1966c5f2: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:46.677Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 32199.93
}
[2025-10-22T05:44:46.915Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:47.151Z] [LOG] Created payroll_record_component: d388f268-13cb-433b-9180-f01182e3b90b for Attendance Deduction
[2025-10-22T05:44:47.633Z] [LOG] ✅ Financial balances updated successfully for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:47.634Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:47.635Z] [LOG] 
======================================================================
[2025-10-22T05:44:47.635Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Nimdiya Ranasinghe null
[2025-10-22T05:44:47.636Z] [LOG] ======================================================================
[2025-10-22T05:44:47.637Z] [LOG]    Gross Salary: Rs.35000.00
[2025-10-22T05:44:47.637Z] [LOG]    Total Deductions: Rs.32199.93
[2025-10-22T05:44:47.638Z] [LOG]       - Attendance Deduction: Rs.32199.93
[2025-10-22T05:44:47.638Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:47.639Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:47.639Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:47.640Z] [LOG]    NET SALARY: Rs.2800.07
[2025-10-22T05:44:47.641Z] [LOG] ======================================================================

[2025-10-22T05:44:47.642Z] [LOG] ✅ Nimdiya Ranasinghe null: Calculation completed successfully
[2025-10-22T05:44:47.642Z] [LOG] 📊 Progress: 24/34 (70.6%)
[2025-10-22T05:44:47.644Z] [LOG] 
🧮 Processing: R. D.A Kaushalya null (EMP000044)
[2025-10-22T05:44:47.644Z] [LOG] 📋 Record ID: ba24d034-9574-4fee-a270-dd38eb2b66d7
[2025-10-22T05:44:47.645Z] [LOG] 
======================================================================
[2025-10-22T05:44:47.648Z] [LOG] 🧮 CALCULATING PAYROLL: R. D.A Kaushalya null (EMP000044)
[2025-10-22T05:44:47.649Z] [LOG] ======================================================================
[2025-10-22T05:44:48.613Z] [LOG] 🔍 Component filtering for employee 01443963-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:48.614Z] [LOG]    Total components: 10
[2025-10-22T05:44:48.614Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:48.615Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:44:49.564Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:49.565Z] [LOG] 🔄 Processing financial records for employee 01443963-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:49.810Z] [LOG] 📊 Found 0 active loans for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:50.046Z] [LOG] 📊 Found 0 active advances for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:50.281Z] [LOG] 📊 Found 0 approved bonuses for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:50.282Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:50.283Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:50.284Z] [LOG] 💰 GROSS CALCULATION for R. D.A Kaushalya null:
[2025-10-22T05:44:50.284Z] [LOG]    Base Salary: 50000
[2025-10-22T05:44:50.285Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:50.286Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:50.286Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:50.541Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:50.775Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:50.776Z] [LOG]    Employee ID: 01443963-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:50.776Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:50.777Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:44:51.020Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:51.021Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:44:51.022Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:44:51.022Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:44:51.023Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:51.259Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:51.260Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:51.261Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:51.261Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:51.262Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:51.263Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:51.263Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:44:51.264Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:44:51.264Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:51.265Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:51.266Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:44:51.266Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:51.268Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:44:51.268Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:44:51.269Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:51.269Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:44:51.270Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:51.270Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:51.273Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:44:51.274Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:51.275Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:51.276Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.277Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:51.277Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.278Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:51.279Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.279Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:51.280Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.281Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:51.282Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.283Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:51.284Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.284Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:51.285Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.286Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:51.286Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.287Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:51.287Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:51.288Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:51.289Z] [LOG] Regular deductions for R. D.A Kaushalya null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:51.290Z] [LOG] Combined deductions for R. D.A Kaushalya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:44:51.532Z] [LOG] Creating components for record ba24d034-9574-4fee-a270-dd38eb2b66d7: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:51.534Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:44:51.769Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:52.010Z] [LOG] Created payroll_record_component: 237d4764-11c1-42f4-aa2c-0a9e449668b7 for Attendance Deduction
[2025-10-22T05:44:52.481Z] [LOG] ✅ Financial balances updated successfully for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:52.482Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:52.483Z] [LOG] 
======================================================================
[2025-10-22T05:44:52.483Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: R. D.A Kaushalya null
[2025-10-22T05:44:52.484Z] [LOG] ======================================================================
[2025-10-22T05:44:52.485Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:44:52.485Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:44:52.486Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:44:52.486Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:52.487Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:52.488Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:52.489Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:44:52.489Z] [LOG] ======================================================================

[2025-10-22T05:44:52.490Z] [LOG] ✅ R. D.A Kaushalya null: Calculation completed successfully
[2025-10-22T05:44:52.491Z] [LOG] 📊 Progress: 25/34 (73.5%)
[2025-10-22T05:44:52.491Z] [LOG] 
🧮 Processing: Ratheeshanan null (EMP000047)
[2025-10-22T05:44:52.494Z] [LOG] 📋 Record ID: bf55a3c1-1c4d-4cb4-834c-48e99b375981
[2025-10-22T05:44:52.495Z] [LOG] 
======================================================================
[2025-10-22T05:44:52.496Z] [LOG] 🧮 CALCULATING PAYROLL: Ratheeshanan null (EMP000047)
[2025-10-22T05:44:52.496Z] [LOG] ======================================================================
[2025-10-22T05:44:53.443Z] [LOG] 🔍 Component filtering for employee 01444966-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:53.443Z] [LOG]    Total components: 10
[2025-10-22T05:44:53.444Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:53.445Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:44:54.394Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:54.394Z] [LOG] 🔄 Processing financial records for employee 01444966-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:54.633Z] [LOG] 📊 Found 0 active loans for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:54.870Z] [LOG] 📊 Found 0 active advances for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:55.107Z] [LOG] 📊 Found 0 approved bonuses for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:55.108Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:55.109Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:55.110Z] [LOG] 💰 GROSS CALCULATION for Ratheeshanan null:
[2025-10-22T05:44:55.110Z] [LOG]    Base Salary: 25000
[2025-10-22T05:44:55.111Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:55.111Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:55.112Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:55.348Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:44:55.591Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:44:55.592Z] [LOG]    Employee ID: 01444966-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:55.593Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:44:55.593Z] [LOG]    Base Salary: Rs.25000.00
[2025-10-22T05:44:55.831Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:44:55.831Z] [LOG]       Daily Salary: Rs.1000.00
[2025-10-22T05:44:55.832Z] [LOG]       Weekday Hourly Rate: Rs.117.65
[2025-10-22T05:44:55.833Z] [LOG]       Saturday Hourly Rate: Rs.117.65
[2025-10-22T05:44:55.833Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:44:56.071Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:44:56.072Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:44:56.073Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:44:56.073Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:44:56.074Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:44:56.074Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:44:56.075Z] [LOG]       Weekday: 17.00h × Rs.117.65 = Rs.2000.05
[2025-10-22T05:44:56.076Z] [LOG]       Saturday: 0.00h × Rs.117.65 = Rs.0.00
[2025-10-22T05:44:56.076Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:44:56.077Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:56.077Z] [LOG]       Total Earned Salary: Rs.2000.05
[2025-10-22T05:44:56.078Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:44:56.079Z] [LOG]       Base Salary: Rs.25000.00
[2025-10-22T05:44:56.080Z] [LOG]       Earned Salary: Rs.2000.05
[2025-10-22T05:44:56.080Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:44:56.081Z] [LOG]       Attendance Deduction: Rs.22999.95
[2025-10-22T05:44:56.082Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:44:56.083Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:44:56.085Z] [LOG]    Gross Salary: 25000
[2025-10-22T05:44:56.086Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:44:56.086Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:44:56.087Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.088Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:44:56.089Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.089Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:44:56.090Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.091Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:44:56.092Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.093Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:44:56.094Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.095Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:44:56.095Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.096Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:44:56.097Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.097Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:44:56.098Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.098Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:44:56.099Z] [LOG]    Fixed amount: 0
[2025-10-22T05:44:56.099Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:44:56.100Z] [LOG] Regular deductions for Ratheeshanan null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:44:56.101Z] [LOG] Combined deductions for Ratheeshanan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 22999.95,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 22999.95
}
[2025-10-22T05:44:56.342Z] [LOG] Creating components for record bf55a3c1-1c4d-4cb4-834c-48e99b375981: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:44:56.344Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 22999.95
}
[2025-10-22T05:44:56.594Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:44:56.833Z] [LOG] Created payroll_record_component: 58a7b6dd-0162-462c-bfe1-db11fe260688 for Attendance Deduction
[2025-10-22T05:44:57.312Z] [LOG] ✅ Financial balances updated successfully for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:57.312Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:44:57.313Z] [LOG] 
======================================================================
[2025-10-22T05:44:57.314Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ratheeshanan null
[2025-10-22T05:44:57.314Z] [LOG] ======================================================================
[2025-10-22T05:44:57.315Z] [LOG]    Gross Salary: Rs.25000.00
[2025-10-22T05:44:57.315Z] [LOG]    Total Deductions: Rs.22999.95
[2025-10-22T05:44:57.316Z] [LOG]       - Attendance Deduction: Rs.22999.95
[2025-10-22T05:44:57.317Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:44:57.317Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:44:57.318Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:44:57.319Z] [LOG]    NET SALARY: Rs.2000.05
[2025-10-22T05:44:57.320Z] [LOG] ======================================================================

[2025-10-22T05:44:57.320Z] [LOG] ✅ Ratheeshanan null: Calculation completed successfully
[2025-10-22T05:44:57.321Z] [LOG] 📊 Progress: 26/34 (76.5%)
[2025-10-22T05:44:57.322Z] [LOG] 
🧮 Processing: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-22T05:44:57.324Z] [LOG] 📋 Record ID: c7123df9-346d-4f49-a553-1ed2a773d9cf
[2025-10-22T05:44:57.325Z] [LOG] 
======================================================================
[2025-10-22T05:44:57.326Z] [LOG] 🧮 CALCULATING PAYROLL: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-22T05:44:57.327Z] [LOG] ======================================================================
[2025-10-22T05:44:58.272Z] [LOG] 🔍 Component filtering for employee 0144315c-7105-11f0-a50f-98e743540430:
[2025-10-22T05:44:58.273Z] [LOG]    Total components: 10
[2025-10-22T05:44:58.273Z] [LOG]    Applicable components: 10
[2025-10-22T05:44:58.274Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-22T05:44:59.224Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:44:59.224Z] [LOG] 🔄 Processing financial records for employee 0144315c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:44:59.461Z] [LOG] 📊 Found 0 active loans for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:59.702Z] [LOG] 📊 Found 0 active advances for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:59.941Z] [LOG] 📊 Found 0 approved bonuses for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-22T05:44:59.941Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:44:59.943Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:44:59.943Z] [LOG] 💰 GROSS CALCULATION for G.M Supathala Sadaru Madhushan null:
[2025-10-22T05:44:59.944Z] [LOG]    Base Salary: 50000
[2025-10-22T05:44:59.945Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:44:59.945Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:44:59.946Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.185Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:00.422Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:00.423Z] [LOG]    Employee ID: 0144315c-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:00.423Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:00.424Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:45:00.659Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:00.660Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:45:00.661Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:45:00.661Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:45:00.662Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:00.897Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:00.898Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:00.899Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:00.899Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:00.900Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:00.900Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:00.901Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:45:00.902Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:45:00.902Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:00.903Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:00.903Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:45:00.904Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:00.905Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:45:00.906Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:45:00.906Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:00.907Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:00.908Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:45:00.908Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:00.910Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:45:00.911Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:00.912Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:00.913Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.913Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:00.914Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.915Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:00.915Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.916Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:00.916Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.917Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:00.918Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.918Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:00.919Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.919Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:00.920Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.921Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:00.922Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.922Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:00.923Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:00.923Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:00.923Z] [LOG] Regular deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:00.924Z] [LOG] Combined deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:45:01.169Z] [LOG] Creating components for record c7123df9-346d-4f49-a553-1ed2a773d9cf: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:01.171Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:45:01.407Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:01.647Z] [LOG] Created payroll_record_component: 93726197-8891-4260-8a95-5464f99b2fb9 for Attendance Deduction
[2025-10-22T05:45:02.125Z] [LOG] ✅ Financial balances updated successfully for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:02.126Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:02.126Z] [LOG] 
======================================================================
[2025-10-22T05:45:02.127Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: G.M Supathala Sadaru Madhushan null
[2025-10-22T05:45:02.127Z] [LOG] ======================================================================
[2025-10-22T05:45:02.128Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:45:02.129Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:45:02.129Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:02.130Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:02.130Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:02.131Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:02.131Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:45:02.132Z] [LOG] ======================================================================

[2025-10-22T05:45:02.133Z] [LOG] ✅ G.M Supathala Sadaru Madhushan null: Calculation completed successfully
[2025-10-22T05:45:02.134Z] [LOG] 📊 Progress: 27/34 (79.4%)
[2025-10-22T05:45:02.134Z] [LOG] 
🧮 Processing: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-22T05:45:02.135Z] [LOG] 📋 Record ID: cb21c7ba-e419-4230-817e-b3e9c580aa41
[2025-10-22T05:45:02.136Z] [LOG] 
======================================================================
[2025-10-22T05:45:02.136Z] [LOG] 🧮 CALCULATING PAYROLL: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-22T05:45:02.137Z] [LOG] ======================================================================
[2025-10-22T05:45:03.080Z] [LOG] 🔍 Component filtering for employee 0144461e-7105-11f0-a50f-98e743540430:
[2025-10-22T05:45:03.080Z] [LOG]    Total components: 10
[2025-10-22T05:45:03.081Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:03.082Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-22T05:45:04.036Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:04.037Z] [LOG] 🔄 Processing financial records for employee 0144461e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:04.276Z] [LOG] 📊 Found 0 active loans for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:04.516Z] [LOG] 📊 Found 0 active advances for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:04.753Z] [LOG] 📊 Found 0 approved bonuses for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:04.754Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:04.755Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:04.756Z] [LOG] 💰 GROSS CALCULATION for Ashen Nirmal Wadugodapitiya null:
[2025-10-22T05:45:04.757Z] [LOG]    Base Salary: 50000
[2025-10-22T05:45:04.757Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:04.758Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:04.760Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:04.996Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:05.244Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:05.244Z] [LOG]    Employee ID: 0144461e-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:05.245Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:05.245Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:45:05.485Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:05.486Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:45:05.486Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:45:05.487Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:45:05.488Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:05.729Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:05.730Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:05.730Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:05.731Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:05.732Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:05.732Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:05.733Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:45:05.734Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:45:05.734Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:05.735Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:05.736Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:45:05.737Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:05.738Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:45:05.738Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:45:05.739Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:05.740Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:05.741Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:45:05.742Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:05.742Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:45:05.743Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:05.744Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:05.744Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.745Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:05.745Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.746Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:05.747Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.747Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:05.748Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.749Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:05.749Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.750Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:05.751Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.751Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:05.752Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.752Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:05.753Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.754Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:05.754Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:05.755Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:05.756Z] [LOG] Regular deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:05.757Z] [LOG] Combined deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:45:06.001Z] [LOG] Creating components for record cb21c7ba-e419-4230-817e-b3e9c580aa41: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:06.003Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:45:06.240Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:06.478Z] [LOG] Created payroll_record_component: 575d4cf4-d61d-4339-bd54-079d2bcf2d47 for Attendance Deduction
[2025-10-22T05:45:06.953Z] [LOG] ✅ Financial balances updated successfully for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:06.954Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:06.954Z] [LOG] 
======================================================================
[2025-10-22T05:45:06.955Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ashen Nirmal Wadugodapitiya null
[2025-10-22T05:45:06.956Z] [LOG] ======================================================================
[2025-10-22T05:45:06.956Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:45:06.957Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:45:06.957Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:06.958Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:06.958Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:06.959Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:06.960Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:45:06.961Z] [LOG] ======================================================================

[2025-10-22T05:45:06.962Z] [LOG] ✅ Ashen Nirmal Wadugodapitiya null: Calculation completed successfully
[2025-10-22T05:45:06.962Z] [LOG] 📊 Progress: 28/34 (82.4%)
[2025-10-22T05:45:06.963Z] [LOG] 
🧮 Processing: Rasanga null (EMP000028)
[2025-10-22T05:45:06.964Z] [LOG] 📋 Record ID: d39b6d5c-9c8d-4618-a766-5bae2f051ffa
[2025-10-22T05:45:06.966Z] [LOG] 
======================================================================
[2025-10-22T05:45:06.967Z] [LOG] 🧮 CALCULATING PAYROLL: Rasanga null (EMP000028)
[2025-10-22T05:45:06.968Z] [LOG] ======================================================================
[2025-10-22T05:45:07.940Z] [LOG] 🔍 Component filtering for employee 0143eaec-7105-11f0-a50f-98e743540430:
[2025-10-22T05:45:07.940Z] [LOG]    Total components: 10
[2025-10-22T05:45:07.941Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:07.941Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-22T05:45:08.891Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:08.892Z] [LOG] 🔄 Processing financial records for employee 0143eaec-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:09.130Z] [LOG] 📊 Found 0 active loans for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:09.367Z] [LOG] 📊 Found 0 active advances for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:09.604Z] [LOG] 📊 Found 0 approved bonuses for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:09.605Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:09.606Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:09.607Z] [LOG] 💰 GROSS CALCULATION for Rasanga null:
[2025-10-22T05:45:09.607Z] [LOG]    Base Salary: 50000
[2025-10-22T05:45:09.608Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:09.608Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:09.609Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:09.846Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:10.082Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:10.082Z] [LOG]    Employee ID: 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:10.083Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:10.084Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:45:10.318Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:10.319Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:45:10.320Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:45:10.320Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:45:10.321Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:10.563Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:10.564Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:10.565Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:10.565Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:10.566Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:10.566Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:10.567Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:45:10.568Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:45:10.568Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:10.569Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:10.569Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:45:10.571Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:10.572Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:45:10.573Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:45:10.573Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:10.574Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:10.577Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:45:10.578Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:10.579Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:45:10.580Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:10.581Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:10.581Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.582Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:10.583Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.583Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:10.584Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.584Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:10.585Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.585Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:10.586Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.587Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:10.588Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.589Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:10.589Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.590Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:10.591Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.591Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:10.593Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:10.593Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:10.594Z] [LOG] Regular deductions for Rasanga null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:10.594Z] [LOG] Combined deductions for Rasanga null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:45:10.832Z] [LOG] Creating components for record d39b6d5c-9c8d-4618-a766-5bae2f051ffa: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:10.834Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:45:11.075Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:11.312Z] [LOG] Created payroll_record_component: a4c0e542-9151-499c-9d97-572e4d38aed8 for Attendance Deduction
[2025-10-22T05:45:11.792Z] [LOG] ✅ Financial balances updated successfully for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:11.793Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:11.793Z] [LOG] 
======================================================================
[2025-10-22T05:45:11.794Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Rasanga null
[2025-10-22T05:45:11.795Z] [LOG] ======================================================================
[2025-10-22T05:45:11.795Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:45:11.796Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:45:11.796Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:11.797Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:11.798Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:11.798Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:11.799Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:45:11.800Z] [LOG] ======================================================================

[2025-10-22T05:45:11.801Z] [LOG] ✅ Rasanga null: Calculation completed successfully
[2025-10-22T05:45:11.801Z] [LOG] 📊 Progress: 29/34 (85.3%)
[2025-10-22T05:45:11.802Z] [LOG] 
🧮 Processing: Faizan Faizan (EMP000003)
[2025-10-22T05:45:11.803Z] [LOG] 📋 Record ID: e5c49d84-cc3d-4998-9656-5ba86b01e783
[2025-10-22T05:45:11.805Z] [LOG] 
======================================================================
[2025-10-22T05:45:11.807Z] [LOG] 🧮 CALCULATING PAYROLL: Faizan Faizan (EMP000003)
[2025-10-22T05:45:11.808Z] [LOG] ======================================================================
[2025-10-22T05:45:12.777Z] [LOG] 🔍 Component filtering for employee 0143a057-7105-11f0-a50f-98e743540430:
[2025-10-22T05:45:12.778Z] [LOG]    Total components: 10
[2025-10-22T05:45:12.778Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:12.779Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-22T05:45:13.729Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:13.730Z] [LOG] 🔄 Processing financial records for employee 0143a057-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:13.970Z] [LOG] 📊 Found 0 active loans for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:14.207Z] [LOG] 📊 Found 0 active advances for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:14.447Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:14.448Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:14.449Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:14.450Z] [LOG] 💰 GROSS CALCULATION for Faizan Faizan:
[2025-10-22T05:45:14.450Z] [LOG]    Base Salary: 50000
[2025-10-22T05:45:14.451Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:14.452Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:14.452Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:14.688Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:14.926Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:14.927Z] [LOG]    Employee ID: 0143a057-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:14.928Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:14.928Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:45:15.163Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:15.164Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:45:15.164Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:45:15.165Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:45:15.166Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:15.408Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:15.409Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:15.409Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:15.410Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:15.410Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:15.411Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:15.412Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-22T05:45:15.412Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:45:15.413Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:15.413Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:15.414Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-22T05:45:15.415Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:15.416Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:45:15.416Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-22T05:45:15.417Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:15.418Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:15.418Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:45:15.419Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:15.421Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:45:15.421Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:15.423Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:15.424Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.424Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:15.425Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.427Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:15.428Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.429Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:15.429Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.430Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:15.430Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.431Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:15.432Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.432Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:15.433Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.434Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:15.434Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.435Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:15.435Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:15.436Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:15.436Z] [LOG] Regular deductions for Faizan Faizan: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:15.437Z] [LOG] Combined deductions for Faizan Faizan: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-22T05:45:15.686Z] [LOG] Creating components for record e5c49d84-cc3d-4998-9656-5ba86b01e783: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:15.687Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-22T05:45:15.926Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:16.173Z] [LOG] Created payroll_record_component: 3e7dcbe0-8f7b-4e2f-afb8-70b5019086c5 for Attendance Deduction
[2025-10-22T05:45:16.646Z] [LOG] ✅ Financial balances updated successfully for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:16.647Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:16.647Z] [LOG] 
======================================================================
[2025-10-22T05:45:16.648Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Faizan Faizan
[2025-10-22T05:45:16.648Z] [LOG] ======================================================================
[2025-10-22T05:45:16.649Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:45:16.650Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-22T05:45:16.650Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-22T05:45:16.651Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:16.651Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:16.652Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:16.652Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-22T05:45:16.653Z] [LOG] ======================================================================

[2025-10-22T05:45:16.654Z] [LOG] ✅ Faizan Faizan: Calculation completed successfully
[2025-10-22T05:45:16.655Z] [LOG] 📊 Progress: 30/34 (88.2%)
[2025-10-22T05:45:16.656Z] [LOG] 
🧮 Processing: Kaushal Thambi (EMP465256103)
[2025-10-22T05:45:16.657Z] [LOG] 📋 Record ID: ea1aaf9b-9833-41fe-9e71-5e7f90f987bc
[2025-10-22T05:45:16.658Z] [LOG] 
======================================================================
[2025-10-22T05:45:16.659Z] [LOG] 🧮 CALCULATING PAYROLL: Kaushal Thambi (EMP465256103)
[2025-10-22T05:45:16.660Z] [LOG] ======================================================================
[2025-10-22T05:45:17.621Z] [LOG] 🔍 Component filtering for employee 9e8125c4-ce58-411a-b617-9f75d481c613:
[2025-10-22T05:45:17.622Z] [LOG]    Total components: 10
[2025-10-22T05:45:17.622Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:17.623Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-22T05:45:18.572Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:18.573Z] [LOG] 🔄 Processing financial records for employee 9e8125c4-ce58-411a-b617-9f75d481c613 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:18.818Z] [LOG] 📊 Found 0 active loans for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-22T05:45:19.054Z] [LOG] 📊 Found 0 active advances for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-22T05:45:19.287Z] [LOG] 📊 Found 0 approved bonuses for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-22T05:45:19.288Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:19.288Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:19.288Z] [LOG] 💰 GROSS CALCULATION for Kaushal Thambi:
[2025-10-22T05:45:19.288Z] [LOG]    Base Salary: 50000
[2025-10-22T05:45:19.288Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:19.289Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:19.289Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:19.523Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:19.759Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:19.759Z] [LOG]    Employee ID: 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-22T05:45:19.760Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:19.760Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-22T05:45:19.996Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:19.997Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-22T05:45:19.997Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-22T05:45:19.997Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-22T05:45:19.997Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:20.233Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:20.233Z] [LOG]       Weekday (Mon-Fri): 8.50h
[2025-10-22T05:45:20.233Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:20.233Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:20.234Z] [LOG]       Total Worked: 8.50h
[2025-10-22T05:45:20.234Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:20.234Z] [LOG]       Weekday: 8.50h × Rs.235.29 = Rs.1999.96
[2025-10-22T05:45:20.234Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-22T05:45:20.234Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:20.234Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:20.235Z] [LOG]       Total Earned Salary: Rs.1999.96
[2025-10-22T05:45:20.235Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:20.235Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-22T05:45:20.235Z] [LOG]       Earned Salary: Rs.1999.96
[2025-10-22T05:45:20.236Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:20.236Z] [LOG]       Attendance Deduction: Rs.48000.04
[2025-10-22T05:45:20.236Z] [LOG]       📉 Deduction is 96.00% of base salary
[2025-10-22T05:45:20.236Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:20.236Z] [LOG]    Gross Salary: 50000
[2025-10-22T05:45:20.237Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:20.237Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:20.237Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.237Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:20.237Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.238Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:20.238Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.238Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:20.238Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.238Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:20.239Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.239Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:20.239Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.239Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:20.239Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.239Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:20.239Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.240Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:20.240Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:20.240Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:20.240Z] [LOG] Regular deductions for Kaushal Thambi: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:20.241Z] [LOG] Combined deductions for Kaushal Thambi: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 48000.035,
      "details": "Based on worked hours (8.5h total)"
    }
  ],
  "total": 48000.035
}
[2025-10-22T05:45:20.481Z] [LOG] Creating components for record ea1aaf9b-9833-41fe-9e71-5e7f90f987bc: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:20.482Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 48000.035
}
[2025-10-22T05:45:20.728Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:20.966Z] [LOG] Created payroll_record_component: 21a8bf5e-2c17-474f-8c0c-736aaebea022 for Attendance Deduction
[2025-10-22T05:45:21.437Z] [LOG] ✅ Financial balances updated successfully for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-22T05:45:21.437Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:21.437Z] [LOG] 
======================================================================
[2025-10-22T05:45:21.438Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Kaushal Thambi
[2025-10-22T05:45:21.438Z] [LOG] ======================================================================
[2025-10-22T05:45:21.438Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-22T05:45:21.438Z] [LOG]    Total Deductions: Rs.48000.04
[2025-10-22T05:45:21.438Z] [LOG]       - Attendance Deduction: Rs.48000.04
[2025-10-22T05:45:21.439Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:21.439Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:21.439Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:21.439Z] [LOG]    NET SALARY: Rs.1999.96
[2025-10-22T05:45:21.439Z] [LOG] ======================================================================

[2025-10-22T05:45:21.440Z] [LOG] ✅ Kaushal Thambi: Calculation completed successfully
[2025-10-22T05:45:21.440Z] [LOG] 📊 Progress: 31/34 (91.2%)
[2025-10-22T05:45:21.440Z] [LOG] 
🧮 Processing: Prasanthan null (EMP000001)
[2025-10-22T05:45:21.440Z] [LOG] 📋 Record ID: f21d27a1-c7cd-4079-9268-65161dde0238
[2025-10-22T05:45:21.440Z] [LOG] 
======================================================================
[2025-10-22T05:45:21.441Z] [LOG] 🧮 CALCULATING PAYROLL: Prasanthan null (EMP000001)
[2025-10-22T05:45:21.441Z] [LOG] ======================================================================
[2025-10-22T05:45:22.402Z] [LOG] 🔍 Component filtering for employee 014397c7-7105-11f0-a50f-98e743540430:
[2025-10-22T05:45:22.402Z] [LOG]    Total components: 10
[2025-10-22T05:45:22.403Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:22.403Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:45:23.364Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:23.364Z] [LOG] 🔄 Processing financial records for employee 014397c7-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:23.596Z] [LOG] 📊 Found 0 active loans for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:23.833Z] [LOG] 📊 Found 0 active advances for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:24.072Z] [LOG] 📊 Found 0 approved bonuses for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:24.072Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:24.073Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:24.073Z] [LOG] 💰 GROSS CALCULATION for Prasanthan null:
[2025-10-22T05:45:24.073Z] [LOG]    Base Salary: 150000
[2025-10-22T05:45:24.073Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:24.073Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:24.074Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:24.305Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:24.540Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:24.541Z] [LOG]    Employee ID: 014397c7-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:24.541Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:24.541Z] [LOG]    Base Salary: Rs.150000.00
[2025-10-22T05:45:24.777Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:24.777Z] [LOG]       Daily Salary: Rs.6000.00
[2025-10-22T05:45:24.777Z] [LOG]       Weekday Hourly Rate: Rs.705.88
[2025-10-22T05:45:24.778Z] [LOG]       Saturday Hourly Rate: Rs.705.88
[2025-10-22T05:45:24.778Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:25.040Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:25.040Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:25.040Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:25.041Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:25.041Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:25.041Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:25.041Z] [LOG]       Weekday: 17.00h × Rs.705.88 = Rs.11999.96
[2025-10-22T05:45:25.041Z] [LOG]       Saturday: 0.00h × Rs.705.88 = Rs.0.00
[2025-10-22T05:45:25.042Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:25.042Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:25.042Z] [LOG]       Total Earned Salary: Rs.11999.96
[2025-10-22T05:45:25.042Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:25.042Z] [LOG]       Base Salary: Rs.150000.00
[2025-10-22T05:45:25.042Z] [LOG]       Earned Salary: Rs.11999.96
[2025-10-22T05:45:25.043Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:25.043Z] [LOG]       Attendance Deduction: Rs.138000.04
[2025-10-22T05:45:25.043Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-22T05:45:25.043Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:25.043Z] [LOG]    Gross Salary: 150000
[2025-10-22T05:45:25.044Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:25.044Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:25.044Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.044Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:25.044Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.045Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:25.045Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.045Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:25.045Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.045Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:25.046Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.046Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:25.046Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.046Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:25.046Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.046Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:25.046Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.047Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:25.047Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:25.047Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:25.047Z] [LOG] Regular deductions for Prasanthan null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:25.047Z] [LOG] Combined deductions for Prasanthan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 138000.04,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 138000.04
}
[2025-10-22T05:45:25.282Z] [LOG] Creating components for record f21d27a1-c7cd-4079-9268-65161dde0238: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-22T05:45:25.283Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 138000.04
}
[2025-10-22T05:45:25.517Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:25.757Z] [LOG] Created payroll_record_component: 0f710570-5d39-4808-abb5-755a7b1bbade for Attendance Deduction
[2025-10-22T05:45:25.757Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 3000
}
[2025-10-22T05:45:25.992Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-22T05:45:26.231Z] [LOG] Created payroll_record_component: 6237abc8-1e1a-4bcc-b25e-f57bd1968b07 for Income Tax
[2025-10-22T05:45:26.699Z] [LOG] ✅ Financial balances updated successfully for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:26.699Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:26.699Z] [LOG] 
======================================================================
[2025-10-22T05:45:26.700Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Prasanthan null
[2025-10-22T05:45:26.700Z] [LOG] ======================================================================
[2025-10-22T05:45:26.700Z] [LOG]    Gross Salary: Rs.150000.00
[2025-10-22T05:45:26.700Z] [LOG]    Total Deductions: Rs.138000.04
[2025-10-22T05:45:26.700Z] [LOG]       - Attendance Deduction: Rs.138000.04
[2025-10-22T05:45:26.701Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:26.701Z] [LOG]    Total Taxes: Rs.3000.00
[2025-10-22T05:45:26.701Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:26.701Z] [LOG]    NET SALARY: Rs.8999.96
[2025-10-22T05:45:26.702Z] [LOG] ======================================================================

[2025-10-22T05:45:26.702Z] [LOG] ✅ Prasanthan null: Calculation completed successfully
[2025-10-22T05:45:26.702Z] [LOG] 📊 Progress: 32/34 (94.1%)
[2025-10-22T05:45:26.702Z] [LOG] 
🧮 Processing: customer null (EMP000036)
[2025-10-22T05:45:26.703Z] [LOG] 📋 Record ID: f95299c1-7049-40f9-b1ca-4cc1db3e7c84
[2025-10-22T05:45:26.703Z] [LOG] 
======================================================================
[2025-10-22T05:45:26.703Z] [LOG] 🧮 CALCULATING PAYROLL: customer null (EMP000036)
[2025-10-22T05:45:26.703Z] [LOG] ======================================================================
[2025-10-22T05:45:27.650Z] [LOG] 🔍 Component filtering for employee 014409a2-7105-11f0-a50f-98e743540430:
[2025-10-22T05:45:27.650Z] [LOG]    Total components: 10
[2025-10-22T05:45:27.650Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:27.650Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:45:28.587Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:28.587Z] [LOG] 🔄 Processing financial records for employee 014409a2-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:28.821Z] [LOG] 📊 Found 0 active loans for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:29.057Z] [LOG] 📊 Found 0 active advances for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:29.295Z] [LOG] 📊 Found 0 approved bonuses for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:29.296Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:29.297Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:29.298Z] [LOG] 💰 GROSS CALCULATION for customer null:
[2025-10-22T05:45:29.298Z] [LOG]    Base Salary: 0
[2025-10-22T05:45:29.299Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:29.299Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:29.300Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:29.534Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:29.767Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:29.768Z] [LOG]    Employee ID: 014409a2-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:29.768Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:29.769Z] [LOG]    Base Salary: Rs.0.00
[2025-10-22T05:45:30.011Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:30.012Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-22T05:45:30.013Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-22T05:45:30.013Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-22T05:45:30.014Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:30.251Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:30.251Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:30.252Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:30.253Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:30.253Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:30.254Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:30.254Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:30.255Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:30.256Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:30.256Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:30.257Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-22T05:45:30.257Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:30.258Z] [LOG]       Base Salary: Rs.0.00
[2025-10-22T05:45:30.259Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-22T05:45:30.260Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:30.260Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-22T05:45:30.261Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-22T05:45:30.261Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:30.262Z] [LOG]    Gross Salary: 0
[2025-10-22T05:45:30.264Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:30.265Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:30.266Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.266Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:30.267Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.268Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:30.268Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.269Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:30.269Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.270Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:30.271Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.271Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:30.272Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.273Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:30.273Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.274Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:30.276Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.276Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:30.277Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:30.278Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:30.279Z] [LOG] Regular deductions for customer null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:30.280Z] [LOG] Combined deductions for customer null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-22T05:45:30.523Z] [LOG] Creating components for record f95299c1-7049-40f9-b1ca-4cc1db3e7c84: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:30.525Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-22T05:45:30.766Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:31.001Z] [LOG] Created payroll_record_component: a0eaec8c-9acf-4788-849f-a7a142b18547 for Attendance Deduction
[2025-10-22T05:45:31.471Z] [LOG] ✅ Financial balances updated successfully for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:31.472Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:31.473Z] [LOG] 
======================================================================
[2025-10-22T05:45:31.473Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: customer null
[2025-10-22T05:45:31.474Z] [LOG] ======================================================================
[2025-10-22T05:45:31.475Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-22T05:45:31.475Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-22T05:45:31.476Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-22T05:45:31.477Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:31.477Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:31.479Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:31.481Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-22T05:45:31.483Z] [LOG] ======================================================================

[2025-10-22T05:45:31.486Z] [LOG] ✅ customer null: Calculation completed successfully
[2025-10-22T05:45:31.487Z] [LOG] 📊 Progress: 33/34 (97.1%)
[2025-10-22T05:45:31.489Z] [LOG] 
🧮 Processing: Ruvindu Hewabandu null (EMP000027)
[2025-10-22T05:45:31.490Z] [LOG] 📋 Record ID: ff586e53-de5c-4a4f-80c4-4f1bec543ba3
[2025-10-22T05:45:31.492Z] [LOG] 
======================================================================
[2025-10-22T05:45:31.494Z] [LOG] 🧮 CALCULATING PAYROLL: Ruvindu Hewabandu null (EMP000027)
[2025-10-22T05:45:31.495Z] [LOG] ======================================================================
[2025-10-22T05:45:32.437Z] [LOG] 🔍 Component filtering for employee 0143e915-7105-11f0-a50f-98e743540430:
[2025-10-22T05:45:32.437Z] [LOG]    Total components: 10
[2025-10-22T05:45:32.438Z] [LOG]    Applicable components: 10
[2025-10-22T05:45:32.438Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-22T05:45:33.399Z] [LOG] 
🔄 Processing financial records...
[2025-10-22T05:45:33.400Z] [LOG] 🔄 Processing financial records for employee 0143e915-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-22T05:45:33.642Z] [LOG] 📊 Found 0 active loans for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:33.889Z] [LOG] 📊 Found 0 active advances for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:34.124Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:34.125Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-22T05:45:34.126Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-22T05:45:34.127Z] [LOG] 💰 GROSS CALCULATION for Ruvindu Hewabandu null:
[2025-10-22T05:45:34.127Z] [LOG]    Base Salary: 0
[2025-10-22T05:45:34.128Z] [LOG]    📋 Processing 1 configured earning components
[2025-10-22T05:45:34.129Z] [LOG] 🧮 Calculating component: Financial Bonuses (fixed)
[2025-10-22T05:45:34.129Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:34.363Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-22T05:45:34.606Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-22T05:45:34.607Z] [LOG]    Employee ID: 0143e915-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:34.608Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-21
[2025-10-22T05:45:34.608Z] [LOG]    Base Salary: Rs.0.00
[2025-10-22T05:45:34.859Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-22T05:45:34.860Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-22T05:45:34.861Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-22T05:45:34.861Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-22T05:45:34.862Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-22T05:45:35.099Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-22T05:45:35.100Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-22T05:45:35.100Z] [LOG]       Saturday: 0.00h
[2025-10-22T05:45:35.101Z] [LOG]       Sunday: 0.00h
[2025-10-22T05:45:35.102Z] [LOG]       Total Worked: 17.00h
[2025-10-22T05:45:35.102Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-22T05:45:35.103Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:35.103Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:35.104Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-22T05:45:35.104Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:35.105Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-22T05:45:35.106Z] [LOG] 
   📊 Final Calculation:
[2025-10-22T05:45:35.107Z] [LOG]       Base Salary: Rs.0.00
[2025-10-22T05:45:35.108Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-22T05:45:35.108Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-22T05:45:35.109Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-22T05:45:35.109Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-22T05:45:35.110Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-22T05:45:35.110Z] [LOG]    Gross Salary: 0
[2025-10-22T05:45:35.112Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-22T05:45:35.113Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-22T05:45:35.114Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.114Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-22T05:45:35.115Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.116Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-22T05:45:35.116Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.117Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-22T05:45:35.117Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.118Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-22T05:45:35.119Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.119Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-22T05:45:35.120Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.120Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-22T05:45:35.122Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.122Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-22T05:45:35.122Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.123Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-22T05:45:35.123Z] [LOG]    Fixed amount: 0
[2025-10-22T05:45:35.124Z] [LOG]    📊 Total Deductions: 0
[2025-10-22T05:45:35.125Z] [LOG] Regular deductions for Ruvindu Hewabandu null: {
  "components": [],
  "total": 0
}
[2025-10-22T05:45:35.125Z] [LOG] Combined deductions for Ruvindu Hewabandu null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-22T05:45:35.371Z] [LOG] Creating components for record ff586e53-de5c-4a4f-80c4-4f1bec543ba3: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-22T05:45:35.373Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-22T05:45:35.621Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-22T05:45:35.866Z] [LOG] Created payroll_record_component: a60fa73d-7bfa-41fd-a5fe-8f423dae7a67 for Attendance Deduction
[2025-10-22T05:45:36.345Z] [LOG] ✅ Financial balances updated successfully for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-22T05:45:36.346Z] [LOG] ✅ Financial balances updated successfully
[2025-10-22T05:45:36.346Z] [LOG] 
======================================================================
[2025-10-22T05:45:36.347Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ruvindu Hewabandu null
[2025-10-22T05:45:36.348Z] [LOG] ======================================================================
[2025-10-22T05:45:36.348Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-22T05:45:36.349Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-22T05:45:36.349Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-22T05:45:36.350Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-22T05:45:36.350Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-22T05:45:36.351Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-22T05:45:36.352Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-22T05:45:36.353Z] [LOG] ======================================================================

[2025-10-22T05:45:36.353Z] [LOG] ✅ Ruvindu Hewabandu null: Calculation completed successfully
[2025-10-22T05:45:36.354Z] [LOG] 📊 Progress: 34/34 (100.0%)
[2025-10-22T05:45:36.356Z] [LOG] 
============================================================
[2025-10-22T05:45:36.358Z] [LOG] 📈 Processing Summary: 34 successful, 0 failed
[2025-10-22T05:45:38.270Z] [LOG] 🎉 Payroll calculation completed successfully!
[2025-10-22T05:45:38.271Z] [LOG] 📊 Final Summary: 34 processed, 0 errors
[2025-10-22T05:45:38.272Z] [INFO] ================================================================================
[2025-10-22T05:45:38.272Z] [INFO] ⏰ Completed at: 2025-10-22T05:45:38.272Z
[2025-10-22T05:45:38.272Z] [INFO] 📊 Total log entries: 3116