[2025-10-17T05:37:56.593Z] [INFO] 🚀 Payroll calculation logging started for run: 8729f84d-3547-447b-90a6-9e6982da497a
[2025-10-17T05:37:56.593Z] [INFO] 📁 Log file: D:\attendance-system\BackEnd\logs\payroll-run-8729f84d-3547-447b-90a6-9e6982da497a-2025-10-17T05-37-56-592Z.txt
[2025-10-17T05:37:56.593Z] [INFO] ⏰ Started at: 2025-10-17T05:37:56.593Z
[2025-10-17T05:37:56.593Z] [INFO] ================================================================================
[2025-10-17T05:37:56.593Z] [LOG] 🚀 Starting payroll calculation for run: 8729f84d-3547-447b-90a6-9e6982da497a
[2025-10-17T05:37:56.594Z] [LOG] 👤 Client ID: it-signature, User ID: 059304ea-24a5-4d78-a290-cf09b9e53c4c
[2025-10-17T05:37:57.318Z] [LOG] ✅ Payroll run verified: October (MONTHLY_2025_10_REGULAR)
[2025-10-17T05:37:57.807Z] [LOG] 📊 Status updated to 'calculating'
[2025-10-17T05:37:58.523Z] [LOG] 👥 Processing 34 employee records:
[2025-10-17T05:37:58.524Z] [LOG] ============================================================
[2025-10-17T05:37:58.524Z] [LOG] 
🧮 Processing: Prasanthan null (EMP000001)
[2025-10-17T05:37:58.525Z] [LOG] 📋 Record ID: 598e1348-c210-423f-8ef0-b2e899a917a8
[2025-10-17T05:37:58.527Z] [LOG] 
======================================================================
[2025-10-17T05:37:58.529Z] [LOG] 🧮 CALCULATING PAYROLL: Prasanthan null (EMP000001)
[2025-10-17T05:37:58.530Z] [LOG] ======================================================================
[2025-10-17T05:38:00.437Z] [LOG] 🔍 Component filtering for employee 014397c7-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:00.438Z] [LOG]    Total components: 9
[2025-10-17T05:38:00.438Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:00.439Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:38:02.357Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:02.358Z] [LOG] 🔄 Processing financial records for employee 014397c7-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:02.833Z] [LOG] 📊 Found 0 active loans for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:03.313Z] [LOG] 📊 Found 0 active advances for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:03.801Z] [LOG] 📊 Found 0 approved bonuses for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:03.803Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:03.804Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:03.806Z] [LOG] 💰 GROSS CALCULATION for Prasanthan null:
[2025-10-17T05:38:03.807Z] [LOG]    Base Salary: 150000
[2025-10-17T05:38:03.808Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:04.282Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:04.763Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:04.764Z] [LOG]    Employee ID: 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:04.765Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:04.766Z] [LOG]    Base Salary: Rs.150000.00
[2025-10-17T05:38:05.248Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:05.249Z] [LOG]       Daily Salary: Rs.6000.00
[2025-10-17T05:38:05.250Z] [LOG]       Weekday Hourly Rate: Rs.705.88
[2025-10-17T05:38:05.250Z] [LOG]       Saturday Hourly Rate: Rs.705.88
[2025-10-17T05:38:05.251Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:05.730Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:05.731Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:05.731Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:05.732Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:05.733Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:05.733Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:05.734Z] [LOG]       Weekday: 17.00h × Rs.705.88 = Rs.11999.96
[2025-10-17T05:38:05.735Z] [LOG]       Saturday: 0.00h × Rs.705.88 = Rs.0.00
[2025-10-17T05:38:05.735Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:05.736Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:05.736Z] [LOG]       Total Earned Salary: Rs.11999.96
[2025-10-17T05:38:05.737Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:05.738Z] [LOG]       Base Salary: Rs.150000.00
[2025-10-17T05:38:05.739Z] [LOG]       Earned Salary: Rs.11999.96
[2025-10-17T05:38:05.739Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:05.740Z] [LOG]       Attendance Deduction: Rs.138000.04
[2025-10-17T05:38:05.741Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:05.743Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:05.744Z] [LOG]    Gross Salary: 150000
[2025-10-17T05:38:05.747Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:05.748Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:05.749Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.749Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:05.750Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.751Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:05.752Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.753Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:05.754Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.755Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:05.755Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.756Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:05.759Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.760Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:05.763Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.765Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:05.766Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.767Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:05.767Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:05.768Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:05.768Z] [LOG] Regular deductions for Prasanthan null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:05.769Z] [LOG] Combined deductions for Prasanthan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 138000.04,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 138000.04
}
[2025-10-17T05:38:06.248Z] [LOG] Creating components for record 598e1348-c210-423f-8ef0-b2e899a917a8: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-17T05:38:06.251Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 138000.04
}
[2025-10-17T05:38:06.725Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:07.209Z] [LOG] Created payroll_record_component: 2d93a4f1-b71c-4a1b-a5e1-8df3c830b48f for Attendance Deduction
[2025-10-17T05:38:07.210Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 3000
}
[2025-10-17T05:38:07.448Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-17T05:38:07.687Z] [LOG] Created payroll_record_component: 95a0eb7b-df14-451e-84db-64b885626c7d for Income Tax
[2025-10-17T05:38:08.162Z] [LOG] ✅ Financial balances updated successfully for employee 014397c7-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:08.163Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:08.164Z] [LOG] 
======================================================================
[2025-10-17T05:38:08.164Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Prasanthan null
[2025-10-17T05:38:08.165Z] [LOG] ======================================================================
[2025-10-17T05:38:08.166Z] [LOG]    Gross Salary: Rs.150000.00
[2025-10-17T05:38:08.166Z] [LOG]    Total Deductions: Rs.138000.04
[2025-10-17T05:38:08.167Z] [LOG]       - Attendance Deduction: Rs.138000.04
[2025-10-17T05:38:08.168Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:08.168Z] [LOG]    Total Taxes: Rs.3000.00
[2025-10-17T05:38:08.169Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:08.170Z] [LOG]    NET SALARY: Rs.8999.96
[2025-10-17T05:38:08.171Z] [LOG] ======================================================================

[2025-10-17T05:38:08.171Z] [LOG] ✅ Prasanthan null: Calculation completed successfully
[2025-10-17T05:38:08.172Z] [LOG] 📊 Progress: 1/34 (2.9%)
[2025-10-17T05:38:08.173Z] [LOG] 
🧮 Processing: Faizan Faizan (EMP000003)
[2025-10-17T05:38:08.175Z] [LOG] 📋 Record ID: 6eeee6be-c8f1-4c7a-a54b-5b7aa8c3668b
[2025-10-17T05:38:08.176Z] [LOG] 
======================================================================
[2025-10-17T05:38:08.177Z] [LOG] 🧮 CALCULATING PAYROLL: Faizan Faizan (EMP000003)
[2025-10-17T05:38:08.178Z] [LOG] ======================================================================
[2025-10-17T05:38:09.131Z] [LOG] 🔍 Component filtering for employee 0143a057-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:09.132Z] [LOG]    Total components: 9
[2025-10-17T05:38:09.132Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:09.133Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T05:38:10.085Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:10.085Z] [LOG] 🔄 Processing financial records for employee 0143a057-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:10.328Z] [LOG] 📊 Found 0 active loans for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:10.572Z] [LOG] 📊 Found 0 active advances for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:10.808Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:10.808Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:10.810Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:10.810Z] [LOG] 💰 GROSS CALCULATION for Faizan Faizan:
[2025-10-17T05:38:10.811Z] [LOG]    Base Salary: 50000
[2025-10-17T05:38:10.813Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:11.049Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:11.286Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:11.287Z] [LOG]    Employee ID: 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:11.287Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:11.288Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:38:11.525Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:11.526Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:38:11.527Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:38:11.527Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:38:11.529Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:11.764Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:11.765Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:11.766Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:11.766Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:11.767Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:11.768Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:11.768Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:38:11.769Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:38:11.770Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:11.770Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:11.771Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:38:11.772Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:11.773Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:38:11.774Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:38:11.775Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:11.776Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:11.777Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:11.780Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:11.781Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:38:11.781Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:11.782Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:11.784Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.785Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:11.786Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.786Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:11.787Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.788Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:11.788Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.789Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:11.790Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.790Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:11.791Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.792Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:11.792Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.793Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:11.794Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.794Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:11.797Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:11.797Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:11.797Z] [LOG] Regular deductions for Faizan Faizan: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:11.798Z] [LOG] Combined deductions for Faizan Faizan: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:38:12.045Z] [LOG] Creating components for record 6eeee6be-c8f1-4c7a-a54b-5b7aa8c3668b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:12.047Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:38:12.283Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:12.520Z] [LOG] Created payroll_record_component: acd53cd1-a6e8-481b-8cfd-b6a3ed97af5d for Attendance Deduction
[2025-10-17T05:38:13.113Z] [LOG] ✅ Financial balances updated successfully for employee 0143a057-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:13.114Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:13.114Z] [LOG] 
======================================================================
[2025-10-17T05:38:13.115Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Faizan Faizan
[2025-10-17T05:38:13.116Z] [LOG] ======================================================================
[2025-10-17T05:38:13.116Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:38:13.117Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:38:13.118Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:13.118Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:13.119Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:13.119Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:13.122Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:38:13.122Z] [LOG] ======================================================================

[2025-10-17T05:38:13.123Z] [LOG] ✅ Faizan Faizan: Calculation completed successfully
[2025-10-17T05:38:13.125Z] [LOG] 📊 Progress: 2/34 (5.9%)
[2025-10-17T05:38:13.126Z] [LOG] 
🧮 Processing: Uthpala null (EMP000006)
[2025-10-17T05:38:13.131Z] [LOG] 📋 Record ID: 45377ea3-3f3a-4f7b-a150-02c98987e002
[2025-10-17T05:38:13.131Z] [LOG] 
======================================================================
[2025-10-17T05:38:13.132Z] [LOG] 🧮 CALCULATING PAYROLL: Uthpala null (EMP000006)
[2025-10-17T05:38:13.133Z] [LOG] ======================================================================
[2025-10-17T05:38:14.105Z] [LOG] 🔍 Component filtering for employee 0143a539-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:14.106Z] [LOG]    Total components: 9
[2025-10-17T05:38:14.106Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:14.107Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T05:38:16.555Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:16.555Z] [LOG] 🔄 Processing financial records for employee 0143a539-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:16.794Z] [LOG] 📊 Found 0 active loans for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:17.032Z] [LOG] 📊 Found 0 active advances for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:17.269Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:17.270Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:17.270Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:17.270Z] [LOG] 💰 GROSS CALCULATION for Uthpala null:
[2025-10-17T05:38:17.271Z] [LOG]    Base Salary: 100000
[2025-10-17T05:38:17.271Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:17.508Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:17.745Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:17.746Z] [LOG]    Employee ID: 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:17.747Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:17.748Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-17T05:38:17.987Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:17.988Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-17T05:38:17.988Z] [LOG]       Weekday Hourly Rate: Rs.500.00
[2025-10-17T05:38:17.989Z] [LOG]       Saturday Hourly Rate: Rs.500.00
[2025-10-17T05:38:17.989Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:18.225Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:18.226Z] [LOG]       Weekday (Mon-Fri): 15.00h
[2025-10-17T05:38:18.227Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:18.227Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:18.230Z] [LOG]       Total Worked: 15.00h
[2025-10-17T05:38:18.231Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:18.233Z] [LOG]       Weekday: 15.00h × Rs.500.00 = Rs.7500.00
[2025-10-17T05:38:18.235Z] [LOG]       Saturday: 0.00h × Rs.500.00 = Rs.0.00
[2025-10-17T05:38:18.242Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:18.258Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:18.258Z] [LOG]       Total Earned Salary: Rs.7500.00
[2025-10-17T05:38:18.259Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:18.260Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-17T05:38:18.261Z] [LOG]       Earned Salary: Rs.7500.00
[2025-10-17T05:38:18.263Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:18.264Z] [LOG]       Attendance Deduction: Rs.92500.00
[2025-10-17T05:38:18.264Z] [LOG]       📉 Deduction is 92.50% of base salary
[2025-10-17T05:38:18.265Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:18.266Z] [LOG]    Gross Salary: 100000
[2025-10-17T05:38:18.266Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:18.266Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:18.267Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.267Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:18.267Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.268Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:18.268Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.268Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:18.269Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.269Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:18.269Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.270Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:18.271Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.271Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:18.271Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.272Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:18.272Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.272Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:18.272Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:18.273Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:18.273Z] [LOG] Regular deductions for Uthpala null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:18.274Z] [LOG] Combined deductions for Uthpala null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 92500,
      "details": "Based on worked hours (15h total)"
    }
  ],
  "total": 92500
}
[2025-10-17T05:38:18.515Z] [LOG] Creating components for record 45377ea3-3f3a-4f7b-a150-02c98987e002: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:18.516Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 92500
}
[2025-10-17T05:38:18.757Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:18.996Z] [LOG] Created payroll_record_component: 34f6f621-3bad-4193-9bd8-dc33dce698a1 for Attendance Deduction
[2025-10-17T05:38:19.464Z] [LOG] ✅ Financial balances updated successfully for employee 0143a539-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:19.464Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:19.465Z] [LOG] 
======================================================================
[2025-10-17T05:38:19.466Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Uthpala null
[2025-10-17T05:38:19.466Z] [LOG] ======================================================================
[2025-10-17T05:38:19.467Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-17T05:38:19.468Z] [LOG]    Total Deductions: Rs.92500.00
[2025-10-17T05:38:19.468Z] [LOG]       - Attendance Deduction: Rs.92500.00
[2025-10-17T05:38:19.469Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:19.470Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:19.470Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:19.471Z] [LOG]    NET SALARY: Rs.7500.00
[2025-10-17T05:38:19.472Z] [LOG] ======================================================================

[2025-10-17T05:38:19.472Z] [LOG] ✅ Uthpala null: Calculation completed successfully
[2025-10-17T05:38:19.473Z] [LOG] 📊 Progress: 3/34 (8.8%)
[2025-10-17T05:38:19.474Z] [LOG] 
🧮 Processing: Saruban null (EMP000007)
[2025-10-17T05:38:19.475Z] [LOG] 📋 Record ID: 5c9fa200-b116-485b-9d11-dc752bf22309
[2025-10-17T05:38:19.476Z] [LOG] 
======================================================================
[2025-10-17T05:38:19.479Z] [LOG] 🧮 CALCULATING PAYROLL: Saruban null (EMP000007)
[2025-10-17T05:38:19.480Z] [LOG] ======================================================================
[2025-10-17T05:38:20.421Z] [LOG] 🔍 Component filtering for employee 0143a6e3-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:20.422Z] [LOG]    Total components: 9
[2025-10-17T05:38:20.423Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:20.423Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:38:21.361Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:21.363Z] [LOG] 🔄 Processing financial records for employee 0143a6e3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:21.597Z] [LOG] 📊 Found 0 active loans for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:21.829Z] [LOG] 📊 Found 0 active advances for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:22.065Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:22.066Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:22.067Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:22.068Z] [LOG] 💰 GROSS CALCULATION for Saruban null:
[2025-10-17T05:38:22.069Z] [LOG]    Base Salary: 0
[2025-10-17T05:38:22.070Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:22.306Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:22.545Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:22.546Z] [LOG]    Employee ID: 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:22.547Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:22.547Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T05:38:22.783Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:22.783Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T05:38:22.784Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T05:38:22.785Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T05:38:22.785Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:23.021Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:23.022Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:23.023Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:23.023Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:23.024Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:23.025Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:23.025Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:23.026Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:23.027Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:23.027Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:23.030Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T05:38:23.031Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:23.032Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T05:38:23.033Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T05:38:23.034Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:23.036Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T05:38:23.037Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T05:38:23.037Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:23.038Z] [LOG]    Gross Salary: 0
[2025-10-17T05:38:23.039Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:23.039Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:23.040Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.041Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:23.041Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.043Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:23.043Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.044Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:23.046Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.046Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:23.047Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.047Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:23.048Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.049Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:23.049Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.050Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:23.050Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.050Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:23.051Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:23.051Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:23.051Z] [LOG] Regular deductions for Saruban null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:23.052Z] [LOG] Combined deductions for Saruban null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T05:38:23.294Z] [LOG] Creating components for record 5c9fa200-b116-485b-9d11-dc752bf22309: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:23.297Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T05:38:23.533Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:23.785Z] [LOG] Created payroll_record_component: 341a17b2-6171-4f48-aee6-51b8b1abd21f for Attendance Deduction
[2025-10-17T05:38:24.257Z] [LOG] ✅ Financial balances updated successfully for employee 0143a6e3-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:24.258Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:24.259Z] [LOG] 
======================================================================
[2025-10-17T05:38:24.259Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saruban null
[2025-10-17T05:38:24.260Z] [LOG] ======================================================================
[2025-10-17T05:38:24.261Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T05:38:24.262Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T05:38:24.263Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T05:38:24.264Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:24.265Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:24.265Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:24.266Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T05:38:24.267Z] [LOG] ======================================================================

[2025-10-17T05:38:24.268Z] [LOG] ✅ Saruban null: Calculation completed successfully
[2025-10-17T05:38:24.270Z] [LOG] 📊 Progress: 4/34 (11.8%)
[2025-10-17T05:38:24.271Z] [LOG] 
🧮 Processing: Dharshika null (EMP000009)
[2025-10-17T05:38:24.272Z] [LOG] 📋 Record ID: fd32628b-a03d-4727-8b9d-33cf4b95132a
[2025-10-17T05:38:24.272Z] [LOG] 
======================================================================
[2025-10-17T05:38:24.273Z] [LOG] 🧮 CALCULATING PAYROLL: Dharshika null (EMP000009)
[2025-10-17T05:38:24.274Z] [LOG] ======================================================================
[2025-10-17T05:38:25.221Z] [LOG] 🔍 Component filtering for employee 0143a994-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:25.222Z] [LOG]    Total components: 9
[2025-10-17T05:38:25.222Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:25.223Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:38:26.169Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:26.170Z] [LOG] 🔄 Processing financial records for employee 0143a994-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:26.409Z] [LOG] 📊 Found 0 active loans for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:26.652Z] [LOG] 📊 Found 0 active advances for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:26.892Z] [LOG] 📊 Found 0 approved bonuses for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:26.892Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:26.893Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:26.894Z] [LOG] 💰 GROSS CALCULATION for Dharshika null:
[2025-10-17T05:38:26.894Z] [LOG]    Base Salary: 100000
[2025-10-17T05:38:26.896Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:27.136Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:27.370Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:27.371Z] [LOG]    Employee ID: 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:27.372Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:27.372Z] [LOG]    Base Salary: Rs.100000.00
[2025-10-17T05:38:27.613Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:27.614Z] [LOG]       Daily Salary: Rs.4000.00
[2025-10-17T05:38:27.614Z] [LOG]       Weekday Hourly Rate: Rs.470.59
[2025-10-17T05:38:27.615Z] [LOG]       Saturday Hourly Rate: Rs.470.59
[2025-10-17T05:38:27.616Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:27.857Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:27.858Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:27.858Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:27.859Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:27.860Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:27.860Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:27.861Z] [LOG]       Weekday: 17.00h × Rs.470.59 = Rs.8000.03
[2025-10-17T05:38:27.864Z] [LOG]       Saturday: 0.00h × Rs.470.59 = Rs.0.00
[2025-10-17T05:38:27.865Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:27.866Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:27.866Z] [LOG]       Total Earned Salary: Rs.8000.03
[2025-10-17T05:38:27.867Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:27.869Z] [LOG]       Base Salary: Rs.100000.00
[2025-10-17T05:38:27.870Z] [LOG]       Earned Salary: Rs.8000.03
[2025-10-17T05:38:27.872Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:27.872Z] [LOG]       Attendance Deduction: Rs.91999.97
[2025-10-17T05:38:27.873Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:27.874Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:27.874Z] [LOG]    Gross Salary: 100000
[2025-10-17T05:38:27.875Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:27.876Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:27.877Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.877Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:27.917Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.917Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:27.918Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.918Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:27.919Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.919Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:27.919Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.920Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:27.924Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.957Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:27.966Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.967Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:27.967Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.968Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:27.968Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:27.968Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:27.969Z] [LOG] Regular deductions for Dharshika null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:27.969Z] [LOG] Combined deductions for Dharshika null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 91999.97,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 91999.97
}
[2025-10-17T05:38:28.211Z] [LOG] Creating components for record fd32628b-a03d-4727-8b9d-33cf4b95132a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:28.214Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 91999.97
}
[2025-10-17T05:38:28.480Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:28.720Z] [LOG] Created payroll_record_component: a58454e5-6387-40f1-b0ef-8880661bec2a for Attendance Deduction
[2025-10-17T05:38:29.201Z] [LOG] ✅ Financial balances updated successfully for employee 0143a994-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:29.202Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:29.203Z] [LOG] 
======================================================================
[2025-10-17T05:38:29.203Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Dharshika null
[2025-10-17T05:38:29.204Z] [LOG] ======================================================================
[2025-10-17T05:38:29.205Z] [LOG]    Gross Salary: Rs.100000.00
[2025-10-17T05:38:29.205Z] [LOG]    Total Deductions: Rs.91999.97
[2025-10-17T05:38:29.206Z] [LOG]       - Attendance Deduction: Rs.91999.97
[2025-10-17T05:38:29.207Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:29.207Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:29.208Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:29.209Z] [LOG]    NET SALARY: Rs.8000.03
[2025-10-17T05:38:29.210Z] [LOG] ======================================================================

[2025-10-17T05:38:29.211Z] [LOG] ✅ Dharshika null: Calculation completed successfully
[2025-10-17T05:38:29.211Z] [LOG] 📊 Progress: 5/34 (14.7%)
[2025-10-17T05:38:29.216Z] [LOG] 
🧮 Processing: Ishara null (EMP000011)
[2025-10-17T05:38:29.217Z] [LOG] 📋 Record ID: 66fd8b9d-d8ce-4fb6-8d63-12870a4c7294
[2025-10-17T05:38:29.218Z] [LOG] 
======================================================================
[2025-10-17T05:38:29.219Z] [LOG] 🧮 CALCULATING PAYROLL: Ishara null (EMP000011)
[2025-10-17T05:38:29.220Z] [LOG] ======================================================================
[2025-10-17T05:38:30.205Z] [LOG] 🔍 Component filtering for employee 0143ac0c-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:30.206Z] [LOG]    Total components: 9
[2025-10-17T05:38:30.207Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:30.207Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T05:38:31.188Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:31.189Z] [LOG] 🔄 Processing financial records for employee 0143ac0c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:31.426Z] [LOG] 📊 Found 0 active loans for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:31.664Z] [LOG] 📊 Found 0 active advances for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:31.907Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:31.907Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:31.909Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:31.909Z] [LOG] 💰 GROSS CALCULATION for Ishara null:
[2025-10-17T05:38:31.910Z] [LOG]    Base Salary: 50000
[2025-10-17T05:38:31.911Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:32.147Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:32.384Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:32.385Z] [LOG]    Employee ID: 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:32.386Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:32.387Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:38:32.631Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:32.632Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:38:32.632Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:38:32.633Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:38:32.633Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:32.879Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:32.880Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:32.881Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:32.882Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:32.882Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:32.883Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:32.884Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:38:32.884Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:38:32.885Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:32.886Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:32.886Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:38:32.887Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:32.888Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:38:32.889Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:38:32.889Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:32.890Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:32.892Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:32.893Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:32.893Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:38:32.894Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:32.895Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:32.898Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.899Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:32.902Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.902Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:32.903Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.904Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:32.905Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.905Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:32.906Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.906Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:32.907Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.908Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:32.908Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.909Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:32.910Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.910Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:32.911Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:32.912Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:32.915Z] [LOG] Regular deductions for Ishara null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:32.916Z] [LOG] Combined deductions for Ishara null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:38:33.161Z] [LOG] Creating components for record 66fd8b9d-d8ce-4fb6-8d63-12870a4c7294: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:33.164Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:38:33.419Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:33.666Z] [LOG] Created payroll_record_component: ccf44e2c-a6c0-4b9f-9475-3db2c8944b74 for Attendance Deduction
[2025-10-17T05:38:34.155Z] [LOG] ✅ Financial balances updated successfully for employee 0143ac0c-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:34.156Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:34.156Z] [LOG] 
======================================================================
[2025-10-17T05:38:34.157Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ishara null
[2025-10-17T05:38:34.158Z] [LOG] ======================================================================
[2025-10-17T05:38:34.158Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:38:34.159Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:38:34.160Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:34.160Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:34.161Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:34.164Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:34.164Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:38:34.165Z] [LOG] ======================================================================

[2025-10-17T05:38:34.166Z] [LOG] ✅ Ishara null: Calculation completed successfully
[2025-10-17T05:38:34.168Z] [LOG] 📊 Progress: 6/34 (17.6%)
[2025-10-17T05:38:34.168Z] [LOG] 
🧮 Processing: Jessie null (EMP000013)
[2025-10-17T05:38:34.170Z] [LOG] 📋 Record ID: 86cb5ac3-7664-4815-88dc-7ae39bb892aa
[2025-10-17T05:38:34.171Z] [LOG] 
======================================================================
[2025-10-17T05:38:34.171Z] [LOG] 🧮 CALCULATING PAYROLL: Jessie null (EMP000013)
[2025-10-17T05:38:34.172Z] [LOG] ======================================================================
[2025-10-17T05:38:35.183Z] [LOG] 🔍 Component filtering for employee 0143ae6e-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:35.184Z] [LOG]    Total components: 9
[2025-10-17T05:38:35.184Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:35.185Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:38:36.137Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:36.138Z] [LOG] 🔄 Processing financial records for employee 0143ae6e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:36.377Z] [LOG] 📊 Found 0 active loans for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:36.617Z] [LOG] 📊 Found 0 active advances for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:36.874Z] [LOG] 📊 Found 0 approved bonuses for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:36.875Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:36.876Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:36.877Z] [LOG] 💰 GROSS CALCULATION for Jessie null:
[2025-10-17T05:38:36.877Z] [LOG]    Base Salary: 60000
[2025-10-17T05:38:36.878Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:37.122Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:37.359Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:37.359Z] [LOG]    Employee ID: 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:37.360Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:37.360Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-17T05:38:37.625Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:37.626Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-17T05:38:37.626Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-17T05:38:37.627Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-17T05:38:37.628Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:37.865Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:37.866Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:37.866Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:37.867Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:37.867Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:37.868Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:37.869Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-17T05:38:37.869Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-17T05:38:37.870Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:37.871Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:37.871Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-17T05:38:37.872Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:37.873Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-17T05:38:37.874Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-17T05:38:37.875Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:37.877Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-17T05:38:37.878Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:37.881Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:37.886Z] [LOG]    Gross Salary: 60000
[2025-10-17T05:38:37.886Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:37.887Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:37.888Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.888Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:37.889Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.890Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:37.890Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.891Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:37.892Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.892Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:37.893Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.894Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:37.894Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.901Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:37.902Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.902Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:37.903Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.903Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:37.903Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:37.904Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:37.904Z] [LOG] Regular deductions for Jessie null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:37.904Z] [LOG] Combined deductions for Jessie null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-17T05:38:38.153Z] [LOG] Creating components for record 86cb5ac3-7664-4815-88dc-7ae39bb892aa: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:38.154Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-17T05:38:38.391Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:38.646Z] [LOG] Created payroll_record_component: 61413f8a-a928-415a-bda5-e3933bc9f98c for Attendance Deduction
[2025-10-17T05:38:39.123Z] [LOG] ✅ Financial balances updated successfully for employee 0143ae6e-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:39.124Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:39.124Z] [LOG] 
======================================================================
[2025-10-17T05:38:39.125Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Jessie null
[2025-10-17T05:38:39.126Z] [LOG] ======================================================================
[2025-10-17T05:38:39.126Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-17T05:38:39.127Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-17T05:38:39.128Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-17T05:38:39.129Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:39.130Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:39.131Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:39.132Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-17T05:38:39.133Z] [LOG] ======================================================================

[2025-10-17T05:38:39.133Z] [LOG] ✅ Jessie null: Calculation completed successfully
[2025-10-17T05:38:39.134Z] [LOG] 📊 Progress: 7/34 (20.6%)
[2025-10-17T05:38:39.135Z] [LOG] 
🧮 Processing: Anoj null (EMP000014)
[2025-10-17T05:38:39.136Z] [LOG] 📋 Record ID: 42b28dc2-831b-4e70-934c-d54085584e99
[2025-10-17T05:38:39.138Z] [LOG] 
======================================================================
[2025-10-17T05:38:39.139Z] [LOG] 🧮 CALCULATING PAYROLL: Anoj null (EMP000014)
[2025-10-17T05:38:39.139Z] [LOG] ======================================================================
[2025-10-17T05:38:40.114Z] [LOG] 🔍 Component filtering for employee 0143afc6-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:40.115Z] [LOG]    Total components: 9
[2025-10-17T05:38:40.115Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:40.116Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:38:41.108Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:41.109Z] [LOG] 🔄 Processing financial records for employee 0143afc6-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:41.344Z] [LOG] 📊 Found 0 active loans for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:41.584Z] [LOG] 📊 Found 0 active advances for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:41.824Z] [LOG] 📊 Found 0 approved bonuses for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:41.824Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:41.826Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:41.826Z] [LOG] 💰 GROSS CALCULATION for Anoj null:
[2025-10-17T05:38:41.827Z] [LOG]    Base Salary: 50000
[2025-10-17T05:38:41.828Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:42.065Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:42.301Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:42.302Z] [LOG]    Employee ID: 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:42.302Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:42.303Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:38:42.543Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:42.544Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:38:42.544Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:38:42.546Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:38:42.547Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:42.785Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:42.785Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:42.786Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:42.786Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:42.786Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:42.787Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:42.787Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:38:42.787Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:38:42.788Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:42.788Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:42.788Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:38:42.789Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:42.789Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:38:42.789Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:38:42.790Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:42.790Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:42.790Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:42.790Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:42.791Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:38:42.798Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:42.798Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:42.798Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.799Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:42.799Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.799Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:42.799Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.800Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:42.800Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.800Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:42.800Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.801Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:42.801Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.801Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:42.802Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.802Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:42.802Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.802Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:42.803Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:42.804Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:42.804Z] [LOG] Regular deductions for Anoj null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:42.804Z] [LOG] Combined deductions for Anoj null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:38:43.052Z] [LOG] Creating components for record 42b28dc2-831b-4e70-934c-d54085584e99: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:43.053Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:38:43.291Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:43.536Z] [LOG] Created payroll_record_component: bba3776e-8738-47c7-9e24-69dddb8f8473 for Attendance Deduction
[2025-10-17T05:38:44.007Z] [LOG] ✅ Financial balances updated successfully for employee 0143afc6-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:44.008Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:44.009Z] [LOG] 
======================================================================
[2025-10-17T05:38:44.009Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Anoj null
[2025-10-17T05:38:44.010Z] [LOG] ======================================================================
[2025-10-17T05:38:44.011Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:38:44.011Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:38:44.013Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:44.014Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:44.014Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:44.015Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:44.016Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:38:44.017Z] [LOG] ======================================================================

[2025-10-17T05:38:44.018Z] [LOG] ✅ Anoj null: Calculation completed successfully
[2025-10-17T05:38:44.019Z] [LOG] 📊 Progress: 8/34 (23.5%)
[2025-10-17T05:38:44.020Z] [LOG] 
🧮 Processing: Sumaiya null (EMP000016)
[2025-10-17T05:38:44.022Z] [LOG] 📋 Record ID: 2d27ead8-c79c-4ebc-9e05-4ab274118704
[2025-10-17T05:38:44.023Z] [LOG] 
======================================================================
[2025-10-17T05:38:44.024Z] [LOG] 🧮 CALCULATING PAYROLL: Sumaiya null (EMP000016)
[2025-10-17T05:38:44.024Z] [LOG] ======================================================================
[2025-10-17T05:38:45.031Z] [LOG] 🔍 Component filtering for employee 0143b22f-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:45.032Z] [LOG]    Total components: 9
[2025-10-17T05:38:45.033Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:45.033Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:38:45.984Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:45.985Z] [LOG] 🔄 Processing financial records for employee 0143b22f-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:46.222Z] [LOG] 📊 Found 0 active loans for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:46.460Z] [LOG] 📊 Found 0 active advances for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:46.703Z] [LOG] 📊 Found 0 approved bonuses for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:46.705Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:46.706Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:46.707Z] [LOG] 💰 GROSS CALCULATION for Sumaiya null:
[2025-10-17T05:38:46.707Z] [LOG]    Base Salary: 60000
[2025-10-17T05:38:46.708Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:46.944Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:47.182Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:47.183Z] [LOG]    Employee ID: 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:47.183Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:47.184Z] [LOG]    Base Salary: Rs.60000.00
[2025-10-17T05:38:47.430Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:47.431Z] [LOG]       Daily Salary: Rs.2400.00
[2025-10-17T05:38:47.431Z] [LOG]       Weekday Hourly Rate: Rs.282.35
[2025-10-17T05:38:47.432Z] [LOG]       Saturday Hourly Rate: Rs.282.35
[2025-10-17T05:38:47.432Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:47.669Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:47.670Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:47.671Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:47.671Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:47.672Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:47.673Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:47.673Z] [LOG]       Weekday: 17.00h × Rs.282.35 = Rs.4799.95
[2025-10-17T05:38:47.674Z] [LOG]       Saturday: 0.00h × Rs.282.35 = Rs.0.00
[2025-10-17T05:38:47.675Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:47.675Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:47.676Z] [LOG]       Total Earned Salary: Rs.4799.95
[2025-10-17T05:38:47.677Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:47.678Z] [LOG]       Base Salary: Rs.60000.00
[2025-10-17T05:38:47.680Z] [LOG]       Earned Salary: Rs.4799.95
[2025-10-17T05:38:47.681Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:47.682Z] [LOG]       Attendance Deduction: Rs.55200.05
[2025-10-17T05:38:47.683Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:47.685Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:47.685Z] [LOG]    Gross Salary: 60000
[2025-10-17T05:38:47.686Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:47.686Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:47.687Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.688Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:47.689Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.689Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:47.690Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.690Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:47.691Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.692Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:47.692Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.693Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:47.694Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.694Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:47.697Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.697Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:47.700Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.701Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:47.702Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:47.702Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:47.703Z] [LOG] Regular deductions for Sumaiya null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:47.704Z] [LOG] Combined deductions for Sumaiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 55200.05,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 55200.05
}
[2025-10-17T05:38:47.949Z] [LOG] Creating components for record 2d27ead8-c79c-4ebc-9e05-4ab274118704: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:47.951Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 55200.05
}
[2025-10-17T05:38:48.188Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:48.427Z] [LOG] Created payroll_record_component: 10a8ddca-f920-4788-b6b0-bc9b9ebe8f12 for Attendance Deduction
[2025-10-17T05:38:48.901Z] [LOG] ✅ Financial balances updated successfully for employee 0143b22f-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:48.902Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:48.903Z] [LOG] 
======================================================================
[2025-10-17T05:38:48.903Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sumaiya null
[2025-10-17T05:38:48.904Z] [LOG] ======================================================================
[2025-10-17T05:38:48.905Z] [LOG]    Gross Salary: Rs.60000.00
[2025-10-17T05:38:48.905Z] [LOG]    Total Deductions: Rs.55200.05
[2025-10-17T05:38:48.906Z] [LOG]       - Attendance Deduction: Rs.55200.05
[2025-10-17T05:38:48.907Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:48.907Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:48.908Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:48.909Z] [LOG]    NET SALARY: Rs.4799.95
[2025-10-17T05:38:48.910Z] [LOG] ======================================================================

[2025-10-17T05:38:48.910Z] [LOG] ✅ Sumaiya null: Calculation completed successfully
[2025-10-17T05:38:48.911Z] [LOG] 📊 Progress: 9/34 (26.5%)
[2025-10-17T05:38:48.916Z] [LOG] 
🧮 Processing: Hari null (EMP000017)
[2025-10-17T05:38:48.917Z] [LOG] 📋 Record ID: 2f37d94d-aa6a-436b-ba54-d3a5cb1b5290
[2025-10-17T05:38:48.918Z] [LOG] 
======================================================================
[2025-10-17T05:38:48.918Z] [LOG] 🧮 CALCULATING PAYROLL: Hari null (EMP000017)
[2025-10-17T05:38:48.919Z] [LOG] ======================================================================
[2025-10-17T05:38:49.860Z] [LOG] 🔍 Component filtering for employee 0143bc58-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:49.860Z] [LOG]    Total components: 9
[2025-10-17T05:38:49.861Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:49.862Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:38:50.808Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:50.809Z] [LOG] 🔄 Processing financial records for employee 0143bc58-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:51.054Z] [LOG] 📊 Found 0 active loans for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:51.292Z] [LOG] 📊 Found 0 active advances for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:51.532Z] [LOG] 📊 Found 0 approved bonuses for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:51.533Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:51.534Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:51.534Z] [LOG] 💰 GROSS CALCULATION for Hari null:
[2025-10-17T05:38:51.535Z] [LOG]    Base Salary: 50000
[2025-10-17T05:38:51.535Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:51.773Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:52.012Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:52.013Z] [LOG]    Employee ID: 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:52.014Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:52.015Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:38:52.253Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:52.254Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:38:52.254Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:38:52.255Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:38:52.255Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:52.495Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:52.497Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:52.498Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:52.498Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:52.499Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:52.500Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:52.500Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:38:52.501Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:38:52.502Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:52.504Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:52.506Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:38:52.507Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:52.509Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:38:52.510Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:38:52.510Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:52.511Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:52.514Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:52.515Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:52.516Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:38:52.516Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:52.517Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:52.518Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.519Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:52.520Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.521Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:52.521Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.522Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:52.523Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.523Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:52.524Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.524Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:52.525Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.526Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:52.526Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.527Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:52.528Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.530Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:52.531Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:52.531Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:52.532Z] [LOG] Regular deductions for Hari null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:52.533Z] [LOG] Combined deductions for Hari null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:38:52.774Z] [LOG] Creating components for record 2f37d94d-aa6a-436b-ba54-d3a5cb1b5290: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:52.776Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:38:53.014Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:53.251Z] [LOG] Created payroll_record_component: 64ec1250-2feb-45bf-8a1a-0c27e8f50b3d for Attendance Deduction
[2025-10-17T05:38:53.724Z] [LOG] ✅ Financial balances updated successfully for employee 0143bc58-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:53.725Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:53.725Z] [LOG] 
======================================================================
[2025-10-17T05:38:53.726Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Hari null
[2025-10-17T05:38:53.727Z] [LOG] ======================================================================
[2025-10-17T05:38:53.727Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:38:53.728Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:38:53.730Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:53.730Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:53.731Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:53.732Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:53.732Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:38:53.733Z] [LOG] ======================================================================

[2025-10-17T05:38:53.734Z] [LOG] ✅ Hari null: Calculation completed successfully
[2025-10-17T05:38:53.734Z] [LOG] 📊 Progress: 10/34 (29.4%)
[2025-10-17T05:38:53.735Z] [LOG] 
🧮 Processing: Franklin null (EMP000018)
[2025-10-17T05:38:53.738Z] [LOG] 📋 Record ID: 1af55442-8253-47b3-8d7d-e5c042d30987
[2025-10-17T05:38:53.738Z] [LOG] 
======================================================================
[2025-10-17T05:38:53.740Z] [LOG] 🧮 CALCULATING PAYROLL: Franklin null (EMP000018)
[2025-10-17T05:38:53.740Z] [LOG] ======================================================================
[2025-10-17T05:38:54.709Z] [LOG] 🔍 Component filtering for employee 0143c037-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:54.710Z] [LOG]    Total components: 9
[2025-10-17T05:38:54.711Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:54.711Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T05:38:55.670Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:38:55.671Z] [LOG] 🔄 Processing financial records for employee 0143c037-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:38:55.916Z] [LOG] 📊 Found 0 active loans for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:56.152Z] [LOG] 📊 Found 0 active advances for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:56.387Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:56.387Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:38:56.389Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:38:56.389Z] [LOG] 💰 GROSS CALCULATION for Franklin null:
[2025-10-17T05:38:56.390Z] [LOG]    Base Salary: 50000
[2025-10-17T05:38:56.391Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:38:56.633Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:38:56.873Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:38:56.873Z] [LOG]    Employee ID: 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:56.874Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:38:56.875Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:38:57.114Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:38:57.115Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:38:57.115Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:38:57.116Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:38:57.116Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:38:57.352Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:38:57.353Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:38:57.354Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:38:57.354Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:38:57.355Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:38:57.356Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:38:57.357Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:38:57.357Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:38:57.358Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:38:57.358Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:57.359Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:38:57.360Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:38:57.361Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:38:57.364Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:38:57.367Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:38:57.367Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:57.368Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:38:57.369Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:38:57.370Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:38:57.370Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:38:57.371Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:38:57.371Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.372Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:38:57.373Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.373Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:38:57.374Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.375Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:38:57.375Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.376Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:38:57.377Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.377Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:38:57.378Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.381Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:38:57.382Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.383Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:38:57.383Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.384Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:38:57.384Z] [LOG]    Fixed amount: 0
[2025-10-17T05:38:57.384Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:38:57.385Z] [LOG] Regular deductions for Franklin null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:38:57.385Z] [LOG] Combined deductions for Franklin null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:38:57.622Z] [LOG] Creating components for record 1af55442-8253-47b3-8d7d-e5c042d30987: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:38:57.624Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:38:57.857Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:38:58.103Z] [LOG] Created payroll_record_component: 03dc0392-da13-474f-8ca4-b6b2885524fc for Attendance Deduction
[2025-10-17T05:38:58.575Z] [LOG] ✅ Financial balances updated successfully for employee 0143c037-7105-11f0-a50f-98e743540430
[2025-10-17T05:38:58.575Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:38:58.576Z] [LOG] 
======================================================================
[2025-10-17T05:38:58.577Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Franklin null
[2025-10-17T05:38:58.577Z] [LOG] ======================================================================
[2025-10-17T05:38:58.578Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:38:58.579Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:38:58.580Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:38:58.581Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:38:58.581Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:38:58.582Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:38:58.583Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:38:58.584Z] [LOG] ======================================================================

[2025-10-17T05:38:58.584Z] [LOG] ✅ Franklin null: Calculation completed successfully
[2025-10-17T05:38:58.585Z] [LOG] 📊 Progress: 11/34 (32.4%)
[2025-10-17T05:38:58.587Z] [LOG] 
🧮 Processing: Safna Nawas null (EMP000021)
[2025-10-17T05:38:58.588Z] [LOG] 📋 Record ID: 2e473576-9253-4235-b4b1-61d75e45765f
[2025-10-17T05:38:58.589Z] [LOG] 
======================================================================
[2025-10-17T05:38:58.590Z] [LOG] 🧮 CALCULATING PAYROLL: Safna Nawas null (EMP000021)
[2025-10-17T05:38:58.590Z] [LOG] ======================================================================
[2025-10-17T05:38:59.546Z] [LOG] 🔍 Component filtering for employee 0143c977-7105-11f0-a50f-98e743540430:
[2025-10-17T05:38:59.547Z] [LOG]    Total components: 9
[2025-10-17T05:38:59.548Z] [LOG]    Applicable components: 9
[2025-10-17T05:38:59.548Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:39:00.502Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:00.503Z] [LOG] 🔄 Processing financial records for employee 0143c977-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:00.748Z] [LOG] 📊 Found 0 active loans for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:01.079Z] [LOG] 📊 Found 0 active advances for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:01.331Z] [LOG] 📊 Found 0 approved bonuses for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:01.332Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:01.333Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:01.333Z] [LOG] 💰 GROSS CALCULATION for Safna Nawas null:
[2025-10-17T05:39:01.334Z] [LOG]    Base Salary: 50000
[2025-10-17T05:39:01.335Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:01.587Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:01.824Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:01.825Z] [LOG]    Employee ID: 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:01.826Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:01.826Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:39:02.064Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:02.065Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:39:02.066Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:39:02.066Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:39:02.067Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:02.311Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:02.311Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:02.313Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:02.314Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:02.315Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:02.315Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:02.316Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:39:02.317Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:39:02.317Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:02.318Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:02.318Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:39:02.319Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:02.320Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:39:02.320Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:39:02.321Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:02.322Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:02.322Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:02.324Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:02.325Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:39:02.326Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:02.326Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:02.327Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.328Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:02.331Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.331Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:02.332Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.333Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:02.333Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.334Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:02.334Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.335Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:02.335Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.336Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:02.336Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.336Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:02.337Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.337Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:02.338Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:02.338Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:02.338Z] [LOG] Regular deductions for Safna Nawas null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:02.339Z] [LOG] Combined deductions for Safna Nawas null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:39:02.577Z] [LOG] Creating components for record 2e473576-9253-4235-b4b1-61d75e45765f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:02.581Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:39:02.816Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:03.053Z] [LOG] Created payroll_record_component: 3a4723cd-8365-435d-8dec-32c288aeb316 for Attendance Deduction
[2025-10-17T05:39:03.525Z] [LOG] ✅ Financial balances updated successfully for employee 0143c977-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:03.525Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:03.526Z] [LOG] 
======================================================================
[2025-10-17T05:39:03.527Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Safna Nawas null
[2025-10-17T05:39:03.527Z] [LOG] ======================================================================
[2025-10-17T05:39:03.530Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:39:03.530Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:39:03.531Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:03.532Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:03.532Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:03.533Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:03.534Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:39:03.534Z] [LOG] ======================================================================

[2025-10-17T05:39:03.535Z] [LOG] ✅ Safna Nawas null: Calculation completed successfully
[2025-10-17T05:39:03.537Z] [LOG] 📊 Progress: 12/34 (35.3%)
[2025-10-17T05:39:03.538Z] [LOG] 
🧮 Processing: Saru null (EMP000022)
[2025-10-17T05:39:03.539Z] [LOG] 📋 Record ID: 2ba730ae-e59c-4f1e-a597-07f9e5cc07c4
[2025-10-17T05:39:03.540Z] [LOG] 
======================================================================
[2025-10-17T05:39:03.540Z] [LOG] 🧮 CALCULATING PAYROLL: Saru null (EMP000022)
[2025-10-17T05:39:03.541Z] [LOG] ======================================================================
[2025-10-17T05:39:04.501Z] [LOG] 🔍 Component filtering for employee 0143cc7e-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:04.502Z] [LOG]    Total components: 9
[2025-10-17T05:39:04.502Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:04.503Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:39:05.456Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:05.457Z] [LOG] 🔄 Processing financial records for employee 0143cc7e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:05.695Z] [LOG] 📊 Found 0 active loans for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:05.956Z] [LOG] 📊 Found 0 active advances for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:06.192Z] [LOG] 📊 Found 0 approved bonuses for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:06.193Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:06.194Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:06.195Z] [LOG] 💰 GROSS CALCULATION for Saru null:
[2025-10-17T05:39:06.196Z] [LOG]    Base Salary: 50000
[2025-10-17T05:39:06.197Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:06.467Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:06.707Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:06.708Z] [LOG]    Employee ID: 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:06.709Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:06.709Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:39:06.946Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:06.947Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:39:06.947Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:39:06.948Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:39:06.949Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:07.185Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:07.186Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:07.186Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:07.186Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:07.187Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:07.187Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:07.188Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:39:07.188Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:39:07.188Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:07.189Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:07.189Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:39:07.190Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:07.190Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:39:07.191Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:39:07.192Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:07.192Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:07.193Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:07.194Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:07.194Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:39:07.195Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:07.197Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:07.197Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.197Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:07.198Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.198Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:07.198Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.199Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:07.199Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.200Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:07.200Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.200Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:07.200Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.201Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:07.201Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.201Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:07.201Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.202Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:07.202Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:07.202Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:07.203Z] [LOG] Regular deductions for Saru null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:07.203Z] [LOG] Combined deductions for Saru null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:39:07.445Z] [LOG] Creating components for record 2ba730ae-e59c-4f1e-a597-07f9e5cc07c4: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:07.447Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:39:07.681Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:07.920Z] [LOG] Created payroll_record_component: 81cfd752-c720-450d-b6cb-40485e1c8adb for Attendance Deduction
[2025-10-17T05:39:08.389Z] [LOG] ✅ Financial balances updated successfully for employee 0143cc7e-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:08.389Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:08.390Z] [LOG] 
======================================================================
[2025-10-17T05:39:08.391Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Saru null
[2025-10-17T05:39:08.391Z] [LOG] ======================================================================
[2025-10-17T05:39:08.392Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:39:08.393Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:39:08.393Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:08.394Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:08.394Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:08.397Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:08.398Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:39:08.398Z] [LOG] ======================================================================

[2025-10-17T05:39:08.399Z] [LOG] ✅ Saru null: Calculation completed successfully
[2025-10-17T05:39:08.400Z] [LOG] 📊 Progress: 13/34 (38.2%)
[2025-10-17T05:39:08.401Z] [LOG] 
🧮 Processing: Ammaar Ilham (EMP000023)
[2025-10-17T05:39:08.403Z] [LOG] 📋 Record ID: c768f07c-1f7f-41c7-a79a-022873822a46
[2025-10-17T05:39:08.404Z] [LOG] 
======================================================================
[2025-10-17T05:39:08.405Z] [LOG] 🧮 CALCULATING PAYROLL: Ammaar Ilham (EMP000023)
[2025-10-17T05:39:08.406Z] [LOG] ======================================================================
[2025-10-17T05:39:09.383Z] [LOG] 🔍 Component filtering for employee 0143de00-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:09.384Z] [LOG]    Total components: 9
[2025-10-17T05:39:09.385Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:09.385Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:39:10.338Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:10.339Z] [LOG] 🔄 Processing financial records for employee 0143de00-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:10.580Z] [LOG] 📊 Found 1 active loans for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:10.817Z] [LOG] 📊 Found 0 active advances for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:11.057Z] [LOG] 📊 Found 0 approved bonuses for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:11.058Z] [LOG] 💰 Loan a7952829-136b-4e54-9391-303963425436: Deducting LKR 5000 (Remaining: LKR 5000)
[2025-10-17T05:39:11.059Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 5000,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": -5000
}
[2025-10-17T05:39:11.060Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:11.061Z] [LOG] 💰 GROSS CALCULATION for Ammaar Ilham:
[2025-10-17T05:39:11.063Z] [LOG]    Base Salary: 70000
[2025-10-17T05:39:11.064Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:11.300Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:11.538Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:11.539Z] [LOG]    Employee ID: 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:11.539Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:11.540Z] [LOG]    Base Salary: Rs.70000.00
[2025-10-17T05:39:11.774Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:11.775Z] [LOG]       Daily Salary: Rs.2800.00
[2025-10-17T05:39:11.776Z] [LOG]       Weekday Hourly Rate: Rs.329.41
[2025-10-17T05:39:11.776Z] [LOG]       Saturday Hourly Rate: Rs.329.41
[2025-10-17T05:39:11.777Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:12.044Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:12.045Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:12.047Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:12.047Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:12.048Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:12.049Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:12.049Z] [LOG]       Weekday: 17.00h × Rs.329.41 = Rs.5599.97
[2025-10-17T05:39:12.050Z] [LOG]       Saturday: 0.00h × Rs.329.41 = Rs.0.00
[2025-10-17T05:39:12.051Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:12.051Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:12.052Z] [LOG]       Total Earned Salary: Rs.5599.97
[2025-10-17T05:39:12.053Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:12.054Z] [LOG]       Base Salary: Rs.70000.00
[2025-10-17T05:39:12.054Z] [LOG]       Earned Salary: Rs.5599.97
[2025-10-17T05:39:12.055Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:12.059Z] [LOG]       Attendance Deduction: Rs.64400.03
[2025-10-17T05:39:12.059Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:12.060Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:12.061Z] [LOG]    Gross Salary: 70000
[2025-10-17T05:39:12.061Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:12.064Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:12.065Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.065Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:12.067Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.067Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:12.068Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.069Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:12.070Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.071Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:12.071Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.072Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:12.073Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.073Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:12.074Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.075Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:12.075Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.076Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:12.077Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:12.077Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:12.078Z] [LOG] Regular deductions for Ammaar Ilham: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:12.081Z] [LOG] Combined deductions for Ammaar Ilham: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 64400.03,
      "details": "Based on worked hours (17h total)"
    },
    {
      "code": "LOAN_DED",
      "name": "Loan Deductions",
      "type": "deduction",
      "category": "loan",
      "amount": 5000,
      "details": "1 loan(s)"
    }
  ],
  "total": 69400.03
}
[2025-10-17T05:39:12.321Z] [LOG] Creating components for record c768f07c-1f7f-41c7-a79a-022873822a46: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 2,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:12.323Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 64400.03
}
[2025-10-17T05:39:12.556Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:12.789Z] [LOG] Created payroll_record_component: 2c1a41dc-9a23-4067-afc0-46174e6d3fc2 for Attendance Deduction
[2025-10-17T05:39:12.790Z] [LOG] Processing component: {
  "name": "Loan Deductions",
  "type": "deduction",
  "amount": 5000
}
[2025-10-17T05:39:13.036Z] [LOG] Using existing component ID: 64a0d7d8-8fdb-4968-a7a2-057590b481c7
[2025-10-17T05:39:13.272Z] [LOG] Created payroll_record_component: ceb71507-952c-48fd-9dbd-51d1ba40dcb6 for Loan Deductions
[2025-10-17T05:39:13.981Z] [LOG] ✅ Updated loan a7952829-136b-4e54-9391-303963425436: Remaining LKR 0, Status: completed
[2025-10-17T05:39:14.216Z] [LOG] ✅ Financial balances updated successfully for employee 0143de00-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:14.217Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:14.217Z] [LOG] 
======================================================================
[2025-10-17T05:39:14.218Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ammaar Ilham
[2025-10-17T05:39:14.219Z] [LOG] ======================================================================
[2025-10-17T05:39:14.219Z] [LOG]    Gross Salary: Rs.70000.00
[2025-10-17T05:39:14.220Z] [LOG]    Total Deductions: Rs.69400.03
[2025-10-17T05:39:14.221Z] [LOG]       - Attendance Deduction: Rs.64400.03
[2025-10-17T05:39:14.221Z] [LOG]       - Other Deductions: Rs.5000.00
[2025-10-17T05:39:14.222Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:14.223Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:14.223Z] [LOG]    NET SALARY: Rs.599.97
[2025-10-17T05:39:14.224Z] [LOG] ======================================================================

[2025-10-17T05:39:14.225Z] [LOG] ✅ Ammaar Ilham: Calculation completed successfully
[2025-10-17T05:39:14.225Z] [LOG] 📊 Progress: 14/34 (41.2%)
[2025-10-17T05:39:14.226Z] [LOG] 
🧮 Processing: Waruni null (EMP000024)
[2025-10-17T05:39:14.227Z] [LOG] 📋 Record ID: 99a19c07-c910-413e-bf93-a0cc5fbf1140
[2025-10-17T05:39:14.231Z] [LOG] 
======================================================================
[2025-10-17T05:39:14.233Z] [LOG] 🧮 CALCULATING PAYROLL: Waruni null (EMP000024)
[2025-10-17T05:39:14.233Z] [LOG] ======================================================================
[2025-10-17T05:39:15.201Z] [LOG] 🔍 Component filtering for employee 0143e40c-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:15.202Z] [LOG]    Total components: 9
[2025-10-17T05:39:15.203Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:15.203Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:39:16.165Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:16.166Z] [LOG] 🔄 Processing financial records for employee 0143e40c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:16.408Z] [LOG] 📊 Found 0 active loans for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:16.652Z] [LOG] 📊 Found 0 active advances for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:16.892Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:16.892Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:16.893Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:16.894Z] [LOG] 💰 GROSS CALCULATION for Waruni null:
[2025-10-17T05:39:16.895Z] [LOG]    Base Salary: 50000
[2025-10-17T05:39:16.897Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:17.132Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:17.369Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:17.370Z] [LOG]    Employee ID: 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:17.371Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:17.371Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:39:17.614Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:17.614Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:39:17.615Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:39:17.616Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:39:17.616Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:17.849Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:17.850Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:17.850Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:17.851Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:17.852Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:17.852Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:17.853Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:39:17.853Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:39:17.854Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:17.855Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:17.856Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:39:17.856Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:17.857Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:39:17.858Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:39:17.858Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:17.859Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:17.861Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:17.865Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:17.865Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:39:17.866Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:17.867Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:17.868Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.869Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:17.870Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.871Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:17.871Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.872Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:17.873Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.873Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:17.873Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.874Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:17.874Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.874Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:17.875Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.875Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:17.876Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.876Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:17.876Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:17.877Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:17.877Z] [LOG] Regular deductions for Waruni null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:17.877Z] [LOG] Combined deductions for Waruni null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:39:18.120Z] [LOG] Creating components for record 99a19c07-c910-413e-bf93-a0cc5fbf1140: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:18.122Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:39:18.355Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:18.592Z] [LOG] Created payroll_record_component: e9055aca-7798-46b9-8b74-f0de6c680d0d for Attendance Deduction
[2025-10-17T05:39:19.060Z] [LOG] ✅ Financial balances updated successfully for employee 0143e40c-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:19.060Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:19.061Z] [LOG] 
======================================================================
[2025-10-17T05:39:19.063Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Waruni null
[2025-10-17T05:39:19.064Z] [LOG] ======================================================================
[2025-10-17T05:39:19.064Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:39:19.065Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:39:19.065Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:19.066Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:19.067Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:19.068Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:19.068Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:39:19.069Z] [LOG] ======================================================================

[2025-10-17T05:39:19.070Z] [LOG] ✅ Waruni null: Calculation completed successfully
[2025-10-17T05:39:19.071Z] [LOG] 📊 Progress: 15/34 (44.1%)
[2025-10-17T05:39:19.072Z] [LOG] 
🧮 Processing: Piyumi null (EMP000025)
[2025-10-17T05:39:19.074Z] [LOG] 📋 Record ID: aa456a04-d0b0-4b74-8f1b-b345ebf0d71b
[2025-10-17T05:39:19.074Z] [LOG] 
======================================================================
[2025-10-17T05:39:19.075Z] [LOG] 🧮 CALCULATING PAYROLL: Piyumi null (EMP000025)
[2025-10-17T05:39:19.076Z] [LOG] ======================================================================
[2025-10-17T05:39:20.010Z] [LOG] 🔍 Component filtering for employee 0143e565-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:20.011Z] [LOG]    Total components: 9
[2025-10-17T05:39:20.012Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:20.013Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:39:21.016Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:21.017Z] [LOG] 🔄 Processing financial records for employee 0143e565-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:21.350Z] [LOG] 📊 Found 0 active loans for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:21.591Z] [LOG] 📊 Found 0 active advances for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:21.842Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:21.843Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:21.844Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:21.846Z] [LOG] 💰 GROSS CALCULATION for Piyumi null:
[2025-10-17T05:39:21.847Z] [LOG]    Base Salary: 50000
[2025-10-17T05:39:21.847Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:22.083Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:22.319Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:22.320Z] [LOG]    Employee ID: 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:22.320Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:22.321Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:39:22.559Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:22.560Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:39:22.560Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:39:22.561Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:39:22.561Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:22.822Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:22.823Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:22.824Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:22.824Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:22.825Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:22.826Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:22.826Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:39:22.827Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:39:22.828Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:22.830Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:22.831Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:39:22.832Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:22.833Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:39:22.833Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:39:22.834Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:22.835Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:22.835Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:22.836Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:22.837Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:39:22.838Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:22.839Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:22.840Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.840Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:22.841Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.841Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:22.842Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.843Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:22.843Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.844Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:22.845Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.847Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:22.848Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.849Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:22.849Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.850Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:22.851Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.852Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:22.853Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:22.853Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:22.853Z] [LOG] Regular deductions for Piyumi null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:22.854Z] [LOG] Combined deductions for Piyumi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:39:23.093Z] [LOG] Creating components for record aa456a04-d0b0-4b74-8f1b-b345ebf0d71b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:23.097Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:39:23.335Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:23.583Z] [LOG] Created payroll_record_component: 985045f7-25be-4b47-95d6-3a5d0010946e for Attendance Deduction
[2025-10-17T05:39:24.064Z] [LOG] ✅ Financial balances updated successfully for employee 0143e565-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:24.065Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:24.065Z] [LOG] 
======================================================================
[2025-10-17T05:39:24.066Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Piyumi null
[2025-10-17T05:39:24.066Z] [LOG] ======================================================================
[2025-10-17T05:39:24.067Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:39:24.068Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:39:24.068Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:24.069Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:24.070Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:24.070Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:24.071Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:39:24.072Z] [LOG] ======================================================================

[2025-10-17T05:39:24.073Z] [LOG] ✅ Piyumi null: Calculation completed successfully
[2025-10-17T05:39:24.073Z] [LOG] 📊 Progress: 16/34 (47.1%)
[2025-10-17T05:39:24.074Z] [LOG] 
🧮 Processing: Sujevan Selvaratnam null (EMP000026)
[2025-10-17T05:39:24.076Z] [LOG] 📋 Record ID: bf36ab25-068a-4a13-8c5a-8375dd8f7b5a
[2025-10-17T05:39:24.077Z] [LOG] 
======================================================================
[2025-10-17T05:39:24.080Z] [LOG] 🧮 CALCULATING PAYROLL: Sujevan Selvaratnam null (EMP000026)
[2025-10-17T05:39:24.081Z] [LOG] ======================================================================
[2025-10-17T05:39:25.025Z] [LOG] 🔍 Component filtering for employee 0143e6c3-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:25.026Z] [LOG]    Total components: 9
[2025-10-17T05:39:25.026Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:25.027Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:39:25.987Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:25.987Z] [LOG] 🔄 Processing financial records for employee 0143e6c3-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:26.225Z] [LOG] 📊 Found 0 active loans for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:26.469Z] [LOG] 📊 Found 0 active advances for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:26.707Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:26.708Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:26.709Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:26.710Z] [LOG] 💰 GROSS CALCULATION for Sujevan Selvaratnam null:
[2025-10-17T05:39:26.710Z] [LOG]    Base Salary: 1
[2025-10-17T05:39:26.711Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:26.946Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:27.182Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:27.183Z] [LOG]    Employee ID: 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:27.184Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:27.184Z] [LOG]    Base Salary: Rs.1.00
[2025-10-17T05:39:27.424Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:27.424Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-17T05:39:27.425Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T05:39:27.426Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T05:39:27.426Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:27.662Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:27.663Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:27.664Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:27.664Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:27.665Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:27.666Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:27.666Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:27.667Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:27.668Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:27.668Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:27.669Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T05:39:27.670Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:27.671Z] [LOG]       Base Salary: Rs.1.00
[2025-10-17T05:39:27.671Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T05:39:27.672Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:27.672Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-17T05:39:27.673Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-17T05:39:27.675Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:27.676Z] [LOG]    Gross Salary: 1
[2025-10-17T05:39:27.677Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:27.677Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:27.680Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.680Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:27.681Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.682Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:27.683Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.684Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:27.685Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.686Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:27.686Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.688Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:27.688Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.689Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:27.689Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.690Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:27.690Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.691Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:27.692Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:27.692Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:27.693Z] [LOG] Regular deductions for Sujevan Selvaratnam null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:27.693Z] [LOG] Combined deductions for Sujevan Selvaratnam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-17T05:39:27.938Z] [LOG] Creating components for record bf36ab25-068a-4a13-8c5a-8375dd8f7b5a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:27.940Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-17T05:39:28.184Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:28.427Z] [LOG] Created payroll_record_component: 4bd7db05-ea71-4128-93d4-cbf538cc5490 for Attendance Deduction
[2025-10-17T05:39:28.899Z] [LOG] ✅ Financial balances updated successfully for employee 0143e6c3-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:28.899Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:28.900Z] [LOG] 
======================================================================
[2025-10-17T05:39:28.901Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sujevan Selvaratnam null
[2025-10-17T05:39:28.902Z] [LOG] ======================================================================
[2025-10-17T05:39:28.902Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-17T05:39:28.903Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-17T05:39:28.904Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-17T05:39:28.904Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:28.905Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:28.906Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:28.907Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T05:39:28.907Z] [LOG] ======================================================================

[2025-10-17T05:39:28.908Z] [LOG] ✅ Sujevan Selvaratnam null: Calculation completed successfully
[2025-10-17T05:39:28.909Z] [LOG] 📊 Progress: 17/34 (50.0%)
[2025-10-17T05:39:28.911Z] [LOG] 
🧮 Processing: Ruvindu Hewabandu null (EMP000027)
[2025-10-17T05:39:28.914Z] [LOG] 📋 Record ID: e0ca85d9-cb39-4c2f-92f3-91c31e60eb40
[2025-10-17T05:39:28.915Z] [LOG] 
======================================================================
[2025-10-17T05:39:28.916Z] [LOG] 🧮 CALCULATING PAYROLL: Ruvindu Hewabandu null (EMP000027)
[2025-10-17T05:39:28.916Z] [LOG] ======================================================================
[2025-10-17T05:39:29.861Z] [LOG] 🔍 Component filtering for employee 0143e915-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:29.864Z] [LOG]    Total components: 9
[2025-10-17T05:39:29.865Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:29.866Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:39:30.821Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:30.822Z] [LOG] 🔄 Processing financial records for employee 0143e915-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:31.060Z] [LOG] 📊 Found 0 active loans for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:31.296Z] [LOG] 📊 Found 0 active advances for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:31.535Z] [LOG] 📊 Found 0 approved bonuses for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:31.535Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:31.537Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:31.537Z] [LOG] 💰 GROSS CALCULATION for Ruvindu Hewabandu null:
[2025-10-17T05:39:31.538Z] [LOG]    Base Salary: 0
[2025-10-17T05:39:31.538Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:31.775Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:32.011Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:32.013Z] [LOG]    Employee ID: 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:32.013Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:32.014Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T05:39:32.251Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:32.252Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T05:39:32.253Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T05:39:32.253Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T05:39:32.254Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:32.492Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:32.493Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:32.494Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:32.494Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:32.496Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:32.496Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:32.497Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:32.498Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:32.498Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:32.499Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:32.500Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T05:39:32.501Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:32.501Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T05:39:32.502Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T05:39:32.503Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:32.506Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T05:39:32.507Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T05:39:32.508Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:32.508Z] [LOG]    Gross Salary: 0
[2025-10-17T05:39:32.509Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:32.509Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:32.516Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.516Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:32.517Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.517Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:32.518Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.518Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:32.518Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.519Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:32.519Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.520Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:32.520Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.521Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:32.521Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.522Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:32.522Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.523Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:32.523Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:32.523Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:32.524Z] [LOG] Regular deductions for Ruvindu Hewabandu null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:32.524Z] [LOG] Combined deductions for Ruvindu Hewabandu null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T05:39:32.766Z] [LOG] Creating components for record e0ca85d9-cb39-4c2f-92f3-91c31e60eb40: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:32.768Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T05:39:33.004Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:33.250Z] [LOG] Created payroll_record_component: de436250-4c1f-4a64-96a9-de499814cb4d for Attendance Deduction
[2025-10-17T05:39:33.726Z] [LOG] ✅ Financial balances updated successfully for employee 0143e915-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:33.727Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:33.728Z] [LOG] 
======================================================================
[2025-10-17T05:39:33.730Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ruvindu Hewabandu null
[2025-10-17T05:39:33.730Z] [LOG] ======================================================================
[2025-10-17T05:39:33.731Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T05:39:33.732Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T05:39:33.743Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T05:39:33.745Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:33.747Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:33.749Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:33.751Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T05:39:33.751Z] [LOG] ======================================================================

[2025-10-17T05:39:33.752Z] [LOG] ✅ Ruvindu Hewabandu null: Calculation completed successfully
[2025-10-17T05:39:33.753Z] [LOG] 📊 Progress: 18/34 (52.9%)
[2025-10-17T05:39:33.753Z] [LOG] 
🧮 Processing: Rasanga null (EMP000028)
[2025-10-17T05:39:33.754Z] [LOG] 📋 Record ID: c327d46b-a3a8-4631-ad5d-df04963c1493
[2025-10-17T05:39:33.756Z] [LOG] 
======================================================================
[2025-10-17T05:39:33.756Z] [LOG] 🧮 CALCULATING PAYROLL: Rasanga null (EMP000028)
[2025-10-17T05:39:33.757Z] [LOG] ======================================================================
[2025-10-17T05:39:34.699Z] [LOG] 🔍 Component filtering for employee 0143eaec-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:34.700Z] [LOG]    Total components: 9
[2025-10-17T05:39:34.701Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:34.702Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T05:39:35.648Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:35.649Z] [LOG] 🔄 Processing financial records for employee 0143eaec-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:35.886Z] [LOG] 📊 Found 0 active loans for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:36.128Z] [LOG] 📊 Found 0 active advances for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:36.365Z] [LOG] 📊 Found 0 approved bonuses for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:36.366Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:36.367Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:36.367Z] [LOG] 💰 GROSS CALCULATION for Rasanga null:
[2025-10-17T05:39:36.368Z] [LOG]    Base Salary: 50000
[2025-10-17T05:39:36.369Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:36.619Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:36.869Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:36.870Z] [LOG]    Employee ID: 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:36.870Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:36.871Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:39:37.105Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:37.106Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:39:37.106Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:39:37.107Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:39:37.108Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:37.357Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:37.358Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:37.358Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:37.359Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:37.359Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:37.360Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:37.360Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:39:37.361Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:39:37.362Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:37.363Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:37.364Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:39:37.365Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:37.365Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:39:37.366Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:39:37.366Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:37.367Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:37.368Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:37.370Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:37.370Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:39:37.371Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:37.372Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:37.372Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.373Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:37.373Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.374Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:37.374Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.375Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:37.376Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.376Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:37.377Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.377Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:37.378Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.380Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:37.381Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.381Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:37.382Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.383Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:37.383Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:37.384Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:37.385Z] [LOG] Regular deductions for Rasanga null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:37.386Z] [LOG] Combined deductions for Rasanga null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:39:37.630Z] [LOG] Creating components for record c327d46b-a3a8-4631-ad5d-df04963c1493: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:37.632Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:39:37.868Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:38.103Z] [LOG] Created payroll_record_component: de6d8fb0-0397-48c2-8b06-0db28c72db9f for Attendance Deduction
[2025-10-17T05:39:38.572Z] [LOG] ✅ Financial balances updated successfully for employee 0143eaec-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:38.573Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:38.573Z] [LOG] 
======================================================================
[2025-10-17T05:39:38.574Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Rasanga null
[2025-10-17T05:39:38.575Z] [LOG] ======================================================================
[2025-10-17T05:39:38.576Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:39:38.576Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:39:38.577Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:38.577Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:38.580Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:38.581Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:38.581Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:39:38.582Z] [LOG] ======================================================================

[2025-10-17T05:39:38.583Z] [LOG] ✅ Rasanga null: Calculation completed successfully
[2025-10-17T05:39:38.583Z] [LOG] 📊 Progress: 19/34 (55.9%)
[2025-10-17T05:39:38.584Z] [LOG] 
🧮 Processing: Chamodi null (EMP000032)
[2025-10-17T05:39:38.585Z] [LOG] 📋 Record ID: 3ab9a029-80ce-4777-9262-818b339f3f11
[2025-10-17T05:39:38.587Z] [LOG] 
======================================================================
[2025-10-17T05:39:38.588Z] [LOG] 🧮 CALCULATING PAYROLL: Chamodi null (EMP000032)
[2025-10-17T05:39:38.588Z] [LOG] ======================================================================
[2025-10-17T05:39:39.530Z] [LOG] 🔍 Component filtering for employee 0143f302-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:39.531Z] [LOG]    Total components: 9
[2025-10-17T05:39:39.531Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:39.532Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:39:40.473Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:40.474Z] [LOG] 🔄 Processing financial records for employee 0143f302-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:40.709Z] [LOG] 📊 Found 0 active loans for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:40.948Z] [LOG] 📊 Found 0 active advances for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:41.185Z] [LOG] 📊 Found 0 approved bonuses for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:41.185Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:41.186Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:41.187Z] [LOG] 💰 GROSS CALCULATION for Chamodi null:
[2025-10-17T05:39:41.188Z] [LOG]    Base Salary: 50000
[2025-10-17T05:39:41.188Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:41.426Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:41.661Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:41.663Z] [LOG]    Employee ID: 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:41.663Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:41.664Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:39:41.906Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:41.907Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:39:41.907Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:39:41.908Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:39:41.909Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:42.144Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:42.146Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:42.147Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:42.147Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:42.148Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:42.149Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:42.149Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:39:42.150Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:39:42.151Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:42.151Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:42.152Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:39:42.153Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:42.153Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:39:42.154Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:39:42.155Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:42.155Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:42.159Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:42.160Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:42.161Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:39:42.163Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:42.166Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:42.167Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.168Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:42.169Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.170Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:42.170Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.171Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:42.171Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.172Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:42.172Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.173Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:42.173Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.173Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:42.174Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.174Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:42.174Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.175Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:42.175Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:42.175Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:42.175Z] [LOG] Regular deductions for Chamodi null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:42.176Z] [LOG] Combined deductions for Chamodi null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:39:42.433Z] [LOG] Creating components for record 3ab9a029-80ce-4777-9262-818b339f3f11: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:42.435Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:39:42.671Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:42.909Z] [LOG] Created payroll_record_component: 5990df6c-a5e8-4464-b934-ee5f4998a1fb for Attendance Deduction
[2025-10-17T05:39:43.383Z] [LOG] ✅ Financial balances updated successfully for employee 0143f302-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:43.384Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:43.385Z] [LOG] 
======================================================================
[2025-10-17T05:39:43.385Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chamodi null
[2025-10-17T05:39:43.386Z] [LOG] ======================================================================
[2025-10-17T05:39:43.386Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:39:43.387Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:39:43.388Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:39:43.388Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:43.389Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:43.389Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:43.390Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:39:43.391Z] [LOG] ======================================================================

[2025-10-17T05:39:43.392Z] [LOG] ✅ Chamodi null: Calculation completed successfully
[2025-10-17T05:39:43.392Z] [LOG] 📊 Progress: 20/34 (58.8%)
[2025-10-17T05:39:43.393Z] [LOG] 
🧮 Processing: Shandeep null (EMP000034)
[2025-10-17T05:39:43.394Z] [LOG] 📋 Record ID: 62cd4bac-c957-4632-a4bf-3328e678b13d
[2025-10-17T05:39:43.394Z] [LOG] 
======================================================================
[2025-10-17T05:39:43.400Z] [LOG] 🧮 CALCULATING PAYROLL: Shandeep null (EMP000034)
[2025-10-17T05:39:43.400Z] [LOG] ======================================================================
[2025-10-17T05:39:44.343Z] [LOG] 🔍 Component filtering for employee 0143fc5a-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:44.344Z] [LOG]    Total components: 9
[2025-10-17T05:39:44.344Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:44.346Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:39:45.293Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:45.293Z] [LOG] 🔄 Processing financial records for employee 0143fc5a-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:45.530Z] [LOG] 📊 Found 0 active loans for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:45.768Z] [LOG] 📊 Found 0 active advances for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:46.009Z] [LOG] 📊 Found 0 approved bonuses for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:46.009Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:46.010Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:46.011Z] [LOG] 💰 GROSS CALCULATION for Shandeep null:
[2025-10-17T05:39:46.013Z] [LOG]    Base Salary: 80000
[2025-10-17T05:39:46.013Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:46.266Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:46.524Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:46.524Z] [LOG]    Employee ID: 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:46.524Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:46.525Z] [LOG]    Base Salary: Rs.80000.00
[2025-10-17T05:39:46.803Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:46.803Z] [LOG]       Daily Salary: Rs.3200.00
[2025-10-17T05:39:46.803Z] [LOG]       Weekday Hourly Rate: Rs.376.47
[2025-10-17T05:39:46.803Z] [LOG]       Saturday Hourly Rate: Rs.376.47
[2025-10-17T05:39:46.804Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:47.043Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:47.044Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:47.044Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:47.044Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:47.044Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:47.045Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:47.045Z] [LOG]       Weekday: 17.00h × Rs.376.47 = Rs.6399.99
[2025-10-17T05:39:47.045Z] [LOG]       Saturday: 0.00h × Rs.376.47 = Rs.0.00
[2025-10-17T05:39:47.046Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:47.046Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:47.046Z] [LOG]       Total Earned Salary: Rs.6399.99
[2025-10-17T05:39:47.047Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:47.047Z] [LOG]       Base Salary: Rs.80000.00
[2025-10-17T05:39:47.047Z] [LOG]       Earned Salary: Rs.6399.99
[2025-10-17T05:39:47.047Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:47.048Z] [LOG]       Attendance Deduction: Rs.73600.01
[2025-10-17T05:39:47.048Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:47.048Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:47.048Z] [LOG]    Gross Salary: 80000
[2025-10-17T05:39:47.048Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:47.049Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:47.049Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.049Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:47.049Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.049Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:47.049Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.050Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:47.050Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.050Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:47.050Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.050Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:47.051Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.051Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:47.051Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.051Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:47.052Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.052Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:47.052Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:47.053Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:47.053Z] [LOG] Regular deductions for Shandeep null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:47.053Z] [LOG] Combined deductions for Shandeep null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 73600.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 73600.01
}
[2025-10-17T05:39:47.291Z] [LOG] Creating components for record 62cd4bac-c957-4632-a4bf-3328e678b13d: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:47.292Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 73600.01
}
[2025-10-17T05:39:47.526Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:47.785Z] [LOG] Created payroll_record_component: 3c023bc2-2cf1-42d6-94bb-95654d3f5a68 for Attendance Deduction
[2025-10-17T05:39:48.261Z] [LOG] ✅ Financial balances updated successfully for employee 0143fc5a-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:48.262Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:48.262Z] [LOG] 
======================================================================
[2025-10-17T05:39:48.262Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Shandeep null
[2025-10-17T05:39:48.262Z] [LOG] ======================================================================
[2025-10-17T05:39:48.263Z] [LOG]    Gross Salary: Rs.80000.00
[2025-10-17T05:39:48.263Z] [LOG]    Total Deductions: Rs.73600.01
[2025-10-17T05:39:48.263Z] [LOG]       - Attendance Deduction: Rs.73600.01
[2025-10-17T05:39:48.263Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:48.264Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:48.264Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:48.264Z] [LOG]    NET SALARY: Rs.6399.99
[2025-10-17T05:39:48.265Z] [LOG] ======================================================================

[2025-10-17T05:39:48.265Z] [LOG] ✅ Shandeep null: Calculation completed successfully
[2025-10-17T05:39:48.265Z] [LOG] 📊 Progress: 21/34 (61.8%)
[2025-10-17T05:39:48.265Z] [LOG] 
🧮 Processing: Maryam null (EMP000035)
[2025-10-17T05:39:48.266Z] [LOG] 📋 Record ID: f9bed9d4-e0ae-4c89-b391-13add725475c
[2025-10-17T05:39:48.266Z] [LOG] 
======================================================================
[2025-10-17T05:39:48.266Z] [LOG] 🧮 CALCULATING PAYROLL: Maryam null (EMP000035)
[2025-10-17T05:39:48.266Z] [LOG] ======================================================================
[2025-10-17T05:39:49.204Z] [LOG] 🔍 Component filtering for employee 01440221-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:49.204Z] [LOG]    Total components: 9
[2025-10-17T05:39:49.204Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:49.205Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T05:39:50.153Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:50.153Z] [LOG] 🔄 Processing financial records for employee 01440221-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:50.389Z] [LOG] 📊 Found 0 active loans for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:50.627Z] [LOG] 📊 Found 0 active advances for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:50.866Z] [LOG] 📊 Found 0 approved bonuses for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:50.866Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:50.867Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:50.867Z] [LOG] 💰 GROSS CALCULATION for Maryam null:
[2025-10-17T05:39:50.867Z] [LOG]    Base Salary: 40000
[2025-10-17T05:39:50.868Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:51.103Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:51.338Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:51.338Z] [LOG]    Employee ID: 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:51.338Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:51.339Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-17T05:39:51.575Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:51.575Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-17T05:39:51.575Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-17T05:39:51.575Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-17T05:39:51.576Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:51.812Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:51.813Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:51.813Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:51.813Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:51.813Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:51.814Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:51.814Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-17T05:39:51.814Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-17T05:39:51.814Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:51.815Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:51.815Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-17T05:39:51.815Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:51.815Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-17T05:39:51.816Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-17T05:39:51.816Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:51.816Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-17T05:39:51.817Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:39:51.817Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:51.817Z] [LOG]    Gross Salary: 40000
[2025-10-17T05:39:51.817Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:51.818Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:51.818Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.818Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:51.818Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.818Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:51.818Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.819Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:51.819Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.819Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:51.819Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.819Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:51.820Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.820Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:51.820Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.820Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:51.821Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.821Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:51.821Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:51.822Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:51.822Z] [LOG] Regular deductions for Maryam null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:51.822Z] [LOG] Combined deductions for Maryam null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-17T05:39:52.059Z] [LOG] Creating components for record f9bed9d4-e0ae-4c89-b391-13add725475c: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:52.060Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-17T05:39:52.298Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:52.537Z] [LOG] Created payroll_record_component: 076b2ad6-54c0-48bb-a029-967e7f1b6580 for Attendance Deduction
[2025-10-17T05:39:53.008Z] [LOG] ✅ Financial balances updated successfully for employee 01440221-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:53.009Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:53.009Z] [LOG] 
======================================================================
[2025-10-17T05:39:53.009Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Maryam null
[2025-10-17T05:39:53.009Z] [LOG] ======================================================================
[2025-10-17T05:39:53.010Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-17T05:39:53.010Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-17T05:39:53.010Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-17T05:39:53.010Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:53.011Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:53.011Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:53.012Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-17T05:39:53.012Z] [LOG] ======================================================================

[2025-10-17T05:39:53.012Z] [LOG] ✅ Maryam null: Calculation completed successfully
[2025-10-17T05:39:53.012Z] [LOG] 📊 Progress: 22/34 (64.7%)
[2025-10-17T05:39:53.013Z] [LOG] 
🧮 Processing: customer null (EMP000036)
[2025-10-17T05:39:53.013Z] [LOG] 📋 Record ID: ee065730-9d9c-4d2a-ac54-8e30186e965f
[2025-10-17T05:39:53.013Z] [LOG] 
======================================================================
[2025-10-17T05:39:53.013Z] [LOG] 🧮 CALCULATING PAYROLL: customer null (EMP000036)
[2025-10-17T05:39:53.014Z] [LOG] ======================================================================
[2025-10-17T05:39:53.975Z] [LOG] 🔍 Component filtering for employee 014409a2-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:53.976Z] [LOG]    Total components: 9
[2025-10-17T05:39:53.976Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:53.976Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:39:54.917Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:54.917Z] [LOG] 🔄 Processing financial records for employee 014409a2-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:55.154Z] [LOG] 📊 Found 0 active loans for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:55.390Z] [LOG] 📊 Found 0 active advances for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:55.627Z] [LOG] 📊 Found 0 approved bonuses for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:55.628Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:39:55.628Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:39:55.629Z] [LOG] 💰 GROSS CALCULATION for customer null:
[2025-10-17T05:39:55.629Z] [LOG]    Base Salary: 0
[2025-10-17T05:39:55.629Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:39:55.867Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:39:56.104Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:39:56.105Z] [LOG]    Employee ID: 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:56.105Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:39:56.106Z] [LOG]    Base Salary: Rs.0.00
[2025-10-17T05:39:56.343Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:39:56.344Z] [LOG]       Daily Salary: Rs.0.00
[2025-10-17T05:39:56.345Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T05:39:56.346Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T05:39:56.347Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:39:56.582Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:39:56.582Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:39:56.583Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:39:56.583Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:39:56.583Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:39:56.584Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:39:56.584Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:56.585Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:56.585Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:39:56.585Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:56.586Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T05:39:56.586Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:39:56.587Z] [LOG]       Base Salary: Rs.0.00
[2025-10-17T05:39:56.587Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T05:39:56.587Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:39:56.588Z] [LOG]       Attendance Deduction: Rs.0.00
[2025-10-17T05:39:56.588Z] [LOG]       ✅ No deduction - Employee earned full salary!
[2025-10-17T05:39:56.589Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:39:56.589Z] [LOG]    Gross Salary: 0
[2025-10-17T05:39:56.589Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:39:56.590Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:39:56.590Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.590Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:39:56.591Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.592Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:39:56.592Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.593Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:39:56.594Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.594Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:39:56.594Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.596Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:39:56.597Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.597Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:39:56.598Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.599Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:39:56.599Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.600Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:39:56.600Z] [LOG]    Fixed amount: 0
[2025-10-17T05:39:56.601Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:39:56.601Z] [LOG] Regular deductions for customer null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:39:56.602Z] [LOG] Combined deductions for customer null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 0,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 0
}
[2025-10-17T05:39:56.840Z] [LOG] Creating components for record ee065730-9d9c-4d2a-ac54-8e30186e965f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:39:56.842Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 0
}
[2025-10-17T05:39:57.080Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:39:57.321Z] [LOG] Created payroll_record_component: bd5222e8-c1e7-4856-ae96-b48fc14ccfa6 for Attendance Deduction
[2025-10-17T05:39:57.789Z] [LOG] ✅ Financial balances updated successfully for employee 014409a2-7105-11f0-a50f-98e743540430
[2025-10-17T05:39:57.790Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:39:57.790Z] [LOG] 
======================================================================
[2025-10-17T05:39:57.791Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: customer null
[2025-10-17T05:39:57.791Z] [LOG] ======================================================================
[2025-10-17T05:39:57.792Z] [LOG]    Gross Salary: Rs.0.00
[2025-10-17T05:39:57.793Z] [LOG]    Total Deductions: Rs.0.00
[2025-10-17T05:39:57.793Z] [LOG]       - Attendance Deduction: Rs.0.00
[2025-10-17T05:39:57.794Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:39:57.795Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:39:57.797Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:39:57.797Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T05:39:57.798Z] [LOG] ======================================================================

[2025-10-17T05:39:57.799Z] [LOG] ✅ customer null: Calculation completed successfully
[2025-10-17T05:39:57.799Z] [LOG] 📊 Progress: 23/34 (67.6%)
[2025-10-17T05:39:57.800Z] [LOG] 
🧮 Processing: Viruna Damsiha Cooray null (EMP000038)
[2025-10-17T05:39:57.802Z] [LOG] 📋 Record ID: fdf04353-640a-4666-9fde-1c9d51597662
[2025-10-17T05:39:57.803Z] [LOG] 
======================================================================
[2025-10-17T05:39:57.804Z] [LOG] 🧮 CALCULATING PAYROLL: Viruna Damsiha Cooray null (EMP000038)
[2025-10-17T05:39:57.804Z] [LOG] ======================================================================
[2025-10-17T05:39:58.758Z] [LOG] 🔍 Component filtering for employee 01441633-7105-11f0-a50f-98e743540430:
[2025-10-17T05:39:58.759Z] [LOG]    Total components: 9
[2025-10-17T05:39:58.759Z] [LOG]    Applicable components: 9
[2025-10-17T05:39:58.760Z] [LOG]    Employee dept: undefined, designation: Customer Executive
[2025-10-17T05:39:59.701Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:39:59.701Z] [LOG] 🔄 Processing financial records for employee 01441633-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:39:59.938Z] [LOG] 📊 Found 0 active loans for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:00.174Z] [LOG] 📊 Found 0 active advances for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:00.416Z] [LOG] 📊 Found 0 approved bonuses for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:00.417Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:00.418Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:00.419Z] [LOG] 💰 GROSS CALCULATION for Viruna Damsiha Cooray null:
[2025-10-17T05:40:00.420Z] [LOG]    Base Salary: 50000
[2025-10-17T05:40:00.420Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:00.666Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:00.909Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:00.910Z] [LOG]    Employee ID: 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:00.911Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:00.911Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:40:01.150Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:01.151Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:40:01.152Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:40:01.152Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:40:01.153Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:01.389Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:01.390Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:01.390Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:01.391Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:01.392Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:01.392Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:01.393Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:40:01.394Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:40:01.394Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:01.396Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:01.397Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:40:01.397Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:01.398Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:40:01.399Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:40:01.399Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:01.400Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:01.401Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:01.401Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:01.402Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:40:01.403Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:01.404Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:01.405Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.406Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:01.407Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.407Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:01.408Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.408Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:01.409Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.410Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:01.410Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.411Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:01.413Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.414Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:01.414Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.415Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:01.417Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.418Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:01.418Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:01.419Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:01.420Z] [LOG] Regular deductions for Viruna Damsiha Cooray null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:01.420Z] [LOG] Combined deductions for Viruna Damsiha Cooray null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:40:01.664Z] [LOG] Creating components for record fdf04353-640a-4666-9fde-1c9d51597662: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:01.666Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:40:01.907Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:02.153Z] [LOG] Created payroll_record_component: 32c72e7c-d4bd-4b94-a08c-15c2fdd52fa8 for Attendance Deduction
[2025-10-17T05:40:02.629Z] [LOG] ✅ Financial balances updated successfully for employee 01441633-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:02.630Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:02.630Z] [LOG] 
======================================================================
[2025-10-17T05:40:02.631Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Viruna Damsiha Cooray null
[2025-10-17T05:40:02.632Z] [LOG] ======================================================================
[2025-10-17T05:40:02.632Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:40:02.633Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:40:02.634Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:02.634Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:02.635Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:02.635Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:02.636Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:40:02.637Z] [LOG] ======================================================================

[2025-10-17T05:40:02.638Z] [LOG] ✅ Viruna Damsiha Cooray null: Calculation completed successfully
[2025-10-17T05:40:02.638Z] [LOG] 📊 Progress: 24/34 (70.6%)
[2025-10-17T05:40:02.639Z] [LOG] 
🧮 Processing: Sithira null (EMP000039)
[2025-10-17T05:40:02.640Z] [LOG] 📋 Record ID: 97729f40-95b0-4c0e-87f0-60d118bbe40f
[2025-10-17T05:40:02.642Z] [LOG] 
======================================================================
[2025-10-17T05:40:02.643Z] [LOG] 🧮 CALCULATING PAYROLL: Sithira null (EMP000039)
[2025-10-17T05:40:02.644Z] [LOG] ======================================================================
[2025-10-17T05:40:03.591Z] [LOG] 🔍 Component filtering for employee 01441e19-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:03.591Z] [LOG]    Total components: 9
[2025-10-17T05:40:03.592Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:03.593Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T05:40:04.549Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:04.550Z] [LOG] 🔄 Processing financial records for employee 01441e19-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:04.787Z] [LOG] 📊 Found 0 active loans for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:05.023Z] [LOG] 📊 Found 0 active advances for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:05.260Z] [LOG] 📊 Found 0 approved bonuses for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:05.260Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:05.263Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:05.263Z] [LOG] 💰 GROSS CALCULATION for Sithira null:
[2025-10-17T05:40:05.264Z] [LOG]    Base Salary: 40000
[2025-10-17T05:40:05.264Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:05.498Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:05.736Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:05.737Z] [LOG]    Employee ID: 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:05.738Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:05.738Z] [LOG]    Base Salary: Rs.40000.00
[2025-10-17T05:40:05.977Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:05.980Z] [LOG]       Daily Salary: Rs.1600.00
[2025-10-17T05:40:05.980Z] [LOG]       Weekday Hourly Rate: Rs.188.24
[2025-10-17T05:40:05.981Z] [LOG]       Saturday Hourly Rate: Rs.188.24
[2025-10-17T05:40:05.981Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:06.224Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:06.224Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:06.225Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:06.225Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:06.226Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:06.227Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:06.227Z] [LOG]       Weekday: 17.00h × Rs.188.24 = Rs.3200.08
[2025-10-17T05:40:06.229Z] [LOG]       Saturday: 0.00h × Rs.188.24 = Rs.0.00
[2025-10-17T05:40:06.230Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:06.231Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:06.231Z] [LOG]       Total Earned Salary: Rs.3200.08
[2025-10-17T05:40:06.232Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:06.233Z] [LOG]       Base Salary: Rs.40000.00
[2025-10-17T05:40:06.233Z] [LOG]       Earned Salary: Rs.3200.08
[2025-10-17T05:40:06.234Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:06.235Z] [LOG]       Attendance Deduction: Rs.36799.92
[2025-10-17T05:40:06.237Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:06.238Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:06.238Z] [LOG]    Gross Salary: 40000
[2025-10-17T05:40:06.239Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:06.240Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:06.240Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.241Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:06.241Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.242Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:06.243Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.243Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:06.244Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.245Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:06.246Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.247Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:06.248Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.248Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:06.249Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.250Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:06.251Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.251Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:06.252Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:06.253Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:06.254Z] [LOG] Regular deductions for Sithira null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:06.254Z] [LOG] Combined deductions for Sithira null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 36799.92,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 36799.92
}
[2025-10-17T05:40:06.493Z] [LOG] Creating components for record 97729f40-95b0-4c0e-87f0-60d118bbe40f: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:06.498Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 36799.92
}
[2025-10-17T05:40:06.733Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:06.971Z] [LOG] Created payroll_record_component: e7e5664a-619b-4af3-86d9-bb8699ccdc1e for Attendance Deduction
[2025-10-17T05:40:07.451Z] [LOG] ✅ Financial balances updated successfully for employee 01441e19-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:07.452Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:07.453Z] [LOG] 
======================================================================
[2025-10-17T05:40:07.453Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Sithira null
[2025-10-17T05:40:07.454Z] [LOG] ======================================================================
[2025-10-17T05:40:07.455Z] [LOG]    Gross Salary: Rs.40000.00
[2025-10-17T05:40:07.455Z] [LOG]    Total Deductions: Rs.36799.92
[2025-10-17T05:40:07.456Z] [LOG]       - Attendance Deduction: Rs.36799.92
[2025-10-17T05:40:07.456Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:07.457Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:07.457Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:07.458Z] [LOG]    NET SALARY: Rs.3200.08
[2025-10-17T05:40:07.459Z] [LOG] ======================================================================

[2025-10-17T05:40:07.460Z] [LOG] ✅ Sithira null: Calculation completed successfully
[2025-10-17T05:40:07.461Z] [LOG] 📊 Progress: 25/34 (73.5%)
[2025-10-17T05:40:07.467Z] [LOG] 
🧮 Processing: Chemil null (EMP000040)
[2025-10-17T05:40:07.468Z] [LOG] 📋 Record ID: fd8d120d-4dee-4b60-8a22-fa38564c9213
[2025-10-17T05:40:07.469Z] [LOG] 
======================================================================
[2025-10-17T05:40:07.469Z] [LOG] 🧮 CALCULATING PAYROLL: Chemil null (EMP000040)
[2025-10-17T05:40:07.470Z] [LOG] ======================================================================
[2025-10-17T05:40:08.434Z] [LOG] 🔍 Component filtering for employee 01442599-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:08.434Z] [LOG]    Total components: 9
[2025-10-17T05:40:08.435Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:08.436Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:40:09.395Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:09.397Z] [LOG] 🔄 Processing financial records for employee 01442599-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:09.632Z] [LOG] 📊 Found 0 active loans for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:09.869Z] [LOG] 📊 Found 0 active advances for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:10.106Z] [LOG] 📊 Found 0 approved bonuses for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:10.106Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:10.108Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:10.108Z] [LOG] 💰 GROSS CALCULATION for Chemil null:
[2025-10-17T05:40:10.109Z] [LOG]    Base Salary: 250000
[2025-10-17T05:40:10.110Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:10.347Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:10.584Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:10.585Z] [LOG]    Employee ID: 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:10.585Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:10.586Z] [LOG]    Base Salary: Rs.250000.00
[2025-10-17T05:40:10.824Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:10.825Z] [LOG]       Daily Salary: Rs.10000.00
[2025-10-17T05:40:10.825Z] [LOG]       Weekday Hourly Rate: Rs.1176.47
[2025-10-17T05:40:10.826Z] [LOG]       Saturday Hourly Rate: Rs.1176.47
[2025-10-17T05:40:10.826Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:11.063Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:11.064Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:11.064Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:11.065Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:11.065Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:11.066Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:11.067Z] [LOG]       Weekday: 17.00h × Rs.1176.47 = Rs.19999.99
[2025-10-17T05:40:11.067Z] [LOG]       Saturday: 0.00h × Rs.1176.47 = Rs.0.00
[2025-10-17T05:40:11.068Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:11.069Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:11.069Z] [LOG]       Total Earned Salary: Rs.19999.99
[2025-10-17T05:40:11.070Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:11.071Z] [LOG]       Base Salary: Rs.250000.00
[2025-10-17T05:40:11.071Z] [LOG]       Earned Salary: Rs.19999.99
[2025-10-17T05:40:11.072Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:11.073Z] [LOG]       Attendance Deduction: Rs.230000.01
[2025-10-17T05:40:11.073Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:11.074Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:11.075Z] [LOG]    Gross Salary: 250000
[2025-10-17T05:40:11.076Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:11.077Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:11.078Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.080Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:11.081Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.082Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:11.083Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.084Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:11.085Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.086Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:11.086Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.087Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:11.087Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.088Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:11.089Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.089Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:11.090Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.090Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:11.091Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:11.092Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:11.092Z] [LOG] Regular deductions for Chemil null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:11.093Z] [LOG] Combined deductions for Chemil null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 230000.01,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 230000.01
}
[2025-10-17T05:40:11.333Z] [LOG] Creating components for record fd8d120d-4dee-4b60-8a22-fa38564c9213: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 1
}
[2025-10-17T05:40:11.335Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 230000.01
}
[2025-10-17T05:40:11.573Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:11.814Z] [LOG] Created payroll_record_component: 93e765d6-ce7e-4b0e-97bc-96f912cf81dd for Attendance Deduction
[2025-10-17T05:40:11.815Z] [LOG] Processing component: {
  "name": "Income Tax",
  "type": "tax",
  "amount": 12000
}
[2025-10-17T05:40:12.050Z] [LOG] Using existing component ID: 72f98b53-4bd5-4713-98d0-e3a641ad8d0f
[2025-10-17T05:40:12.290Z] [LOG] Created payroll_record_component: 253cbcf4-a2d8-497f-8616-edf250a1d162 for Income Tax
[2025-10-17T05:40:12.761Z] [LOG] ✅ Financial balances updated successfully for employee 01442599-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:12.763Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:12.764Z] [LOG] 
======================================================================
[2025-10-17T05:40:12.764Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Chemil null
[2025-10-17T05:40:12.765Z] [LOG] ======================================================================
[2025-10-17T05:40:12.766Z] [LOG]    Gross Salary: Rs.250000.00
[2025-10-17T05:40:12.766Z] [LOG]    Total Deductions: Rs.230000.01
[2025-10-17T05:40:12.767Z] [LOG]       - Attendance Deduction: Rs.230000.01
[2025-10-17T05:40:12.767Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:12.768Z] [LOG]    Total Taxes: Rs.12000.00
[2025-10-17T05:40:12.769Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:12.770Z] [LOG]    NET SALARY: Rs.7999.99
[2025-10-17T05:40:12.771Z] [LOG] ======================================================================

[2025-10-17T05:40:12.773Z] [LOG] ✅ Chemil null: Calculation completed successfully
[2025-10-17T05:40:12.774Z] [LOG] 📊 Progress: 26/34 (76.5%)
[2025-10-17T05:40:12.776Z] [LOG] 
🧮 Processing: Office Team null (EMP000041)
[2025-10-17T05:40:12.776Z] [LOG] 📋 Record ID: a2a2252f-0095-4912-a177-8a343ebef121
[2025-10-17T05:40:12.777Z] [LOG] 
======================================================================
[2025-10-17T05:40:12.777Z] [LOG] 🧮 CALCULATING PAYROLL: Office Team null (EMP000041)
[2025-10-17T05:40:12.778Z] [LOG] ======================================================================
[2025-10-17T05:40:13.726Z] [LOG] 🔍 Component filtering for employee 01442b21-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:13.727Z] [LOG]    Total components: 9
[2025-10-17T05:40:13.728Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:13.729Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:40:14.691Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:14.692Z] [LOG] 🔄 Processing financial records for employee 01442b21-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:14.929Z] [LOG] 📊 Found 0 active loans for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:15.166Z] [LOG] 📊 Found 0 active advances for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:15.402Z] [LOG] 📊 Found 0 approved bonuses for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:15.402Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:15.404Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:15.404Z] [LOG] 💰 GROSS CALCULATION for Office Team null:
[2025-10-17T05:40:15.405Z] [LOG]    Base Salary: 1
[2025-10-17T05:40:15.406Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:15.641Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:15.874Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:15.875Z] [LOG]    Employee ID: 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:15.875Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:15.876Z] [LOG]    Base Salary: Rs.1.00
[2025-10-17T05:40:16.114Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:16.115Z] [LOG]       Daily Salary: Rs.0.04
[2025-10-17T05:40:16.116Z] [LOG]       Weekday Hourly Rate: Rs.0.00
[2025-10-17T05:40:16.116Z] [LOG]       Saturday Hourly Rate: Rs.0.00
[2025-10-17T05:40:16.117Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:16.352Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:16.353Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:16.354Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:16.354Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:16.355Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:16.355Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:16.356Z] [LOG]       Weekday: 17.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:16.357Z] [LOG]       Saturday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:16.357Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:16.358Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:16.358Z] [LOG]       Total Earned Salary: Rs.0.00
[2025-10-17T05:40:16.359Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:16.360Z] [LOG]       Base Salary: Rs.1.00
[2025-10-17T05:40:16.361Z] [LOG]       Earned Salary: Rs.0.00
[2025-10-17T05:40:16.364Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:16.366Z] [LOG]       Attendance Deduction: Rs.1.00
[2025-10-17T05:40:16.367Z] [LOG]       📉 Deduction is 100.00% of base salary
[2025-10-17T05:40:16.368Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:16.369Z] [LOG]    Gross Salary: 1
[2025-10-17T05:40:16.369Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:16.370Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:16.371Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.372Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:16.372Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.372Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:16.373Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.373Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:16.374Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.374Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:16.375Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.375Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:16.375Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.376Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:16.377Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.377Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:16.382Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.383Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:16.384Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:16.384Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:16.385Z] [LOG] Regular deductions for Office Team null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:16.385Z] [LOG] Combined deductions for Office Team null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 1,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 1
}
[2025-10-17T05:40:16.630Z] [LOG] Creating components for record a2a2252f-0095-4912-a177-8a343ebef121: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:16.632Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 1
}
[2025-10-17T05:40:16.978Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:17.227Z] [LOG] Created payroll_record_component: 2fefab3f-6962-4b66-9806-be1f8f2686e5 for Attendance Deduction
[2025-10-17T05:40:17.694Z] [LOG] ✅ Financial balances updated successfully for employee 01442b21-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:17.694Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:17.694Z] [LOG] 
======================================================================
[2025-10-17T05:40:17.695Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Office Team null
[2025-10-17T05:40:17.695Z] [LOG] ======================================================================
[2025-10-17T05:40:17.695Z] [LOG]    Gross Salary: Rs.1.00
[2025-10-17T05:40:17.696Z] [LOG]    Total Deductions: Rs.1.00
[2025-10-17T05:40:17.696Z] [LOG]       - Attendance Deduction: Rs.1.00
[2025-10-17T05:40:17.696Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:17.696Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:17.697Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:17.697Z] [LOG]    NET SALARY: Rs.0.00
[2025-10-17T05:40:17.697Z] [LOG] ======================================================================

[2025-10-17T05:40:17.697Z] [LOG] ✅ Office Team null: Calculation completed successfully
[2025-10-17T05:40:17.697Z] [LOG] 📊 Progress: 27/34 (79.4%)
[2025-10-17T05:40:17.698Z] [LOG] 
🧮 Processing: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-17T05:40:17.698Z] [LOG] 📋 Record ID: 3a46a434-1ea4-4a1b-b844-fe121aa0759b
[2025-10-17T05:40:17.698Z] [LOG] 
======================================================================
[2025-10-17T05:40:17.699Z] [LOG] 🧮 CALCULATING PAYROLL: G.M Supathala Sadaru Madhushan null (EMP000042)
[2025-10-17T05:40:17.699Z] [LOG] ======================================================================
[2025-10-17T05:40:18.639Z] [LOG] 🔍 Component filtering for employee 0144315c-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:18.639Z] [LOG]    Total components: 9
[2025-10-17T05:40:18.640Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:18.641Z] [LOG]    Employee dept: undefined, designation: Sales Executive
[2025-10-17T05:40:19.601Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:19.601Z] [LOG] 🔄 Processing financial records for employee 0144315c-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:19.837Z] [LOG] 📊 Found 0 active loans for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:20.072Z] [LOG] 📊 Found 0 active advances for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:20.308Z] [LOG] 📊 Found 0 approved bonuses for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:20.308Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:20.309Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:20.310Z] [LOG] 💰 GROSS CALCULATION for G.M Supathala Sadaru Madhushan null:
[2025-10-17T05:40:20.311Z] [LOG]    Base Salary: 50000
[2025-10-17T05:40:20.313Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:20.550Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:20.786Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:20.786Z] [LOG]    Employee ID: 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:20.787Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:20.788Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:40:21.024Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:21.024Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:40:21.025Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:40:21.026Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:40:21.026Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:21.267Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:21.268Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:21.268Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:21.269Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:21.270Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:21.270Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:21.271Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:40:21.271Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:40:21.272Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:21.273Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:21.273Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:40:21.274Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:21.275Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:40:21.276Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:40:21.276Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:21.277Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:21.282Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:21.283Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:21.284Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:40:21.284Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:21.285Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:21.286Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.286Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:21.287Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.287Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:21.288Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.288Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:21.289Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.290Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:21.290Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.291Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:21.291Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.292Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:21.292Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.293Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:21.293Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.294Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:21.294Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:21.294Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:21.296Z] [LOG] Regular deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:21.297Z] [LOG] Combined deductions for G.M Supathala Sadaru Madhushan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:40:21.539Z] [LOG] Creating components for record 3a46a434-1ea4-4a1b-b844-fe121aa0759b: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:21.540Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:40:21.775Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:22.013Z] [LOG] Created payroll_record_component: 61c2e0a9-73c4-4bc6-82bb-418ff446e25c for Attendance Deduction
[2025-10-17T05:40:22.482Z] [LOG] ✅ Financial balances updated successfully for employee 0144315c-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:22.482Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:22.483Z] [LOG] 
======================================================================
[2025-10-17T05:40:22.483Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: G.M Supathala Sadaru Madhushan null
[2025-10-17T05:40:22.484Z] [LOG] ======================================================================
[2025-10-17T05:40:22.485Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:40:22.485Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:40:22.486Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:22.486Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:22.487Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:22.488Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:22.489Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:40:22.490Z] [LOG] ======================================================================

[2025-10-17T05:40:22.490Z] [LOG] ✅ G.M Supathala Sadaru Madhushan null: Calculation completed successfully
[2025-10-17T05:40:22.491Z] [LOG] 📊 Progress: 28/34 (82.4%)
[2025-10-17T05:40:22.492Z] [LOG] 
🧮 Processing: P.D.P Dilini Madushani null (EMP000043)
[2025-10-17T05:40:22.494Z] [LOG] 📋 Record ID: 271bfe49-1ab8-4e82-a664-fbae0bf7711a
[2025-10-17T05:40:22.497Z] [LOG] 
======================================================================
[2025-10-17T05:40:22.500Z] [LOG] 🧮 CALCULATING PAYROLL: P.D.P Dilini Madushani null (EMP000043)
[2025-10-17T05:40:22.500Z] [LOG] ======================================================================
[2025-10-17T05:40:23.441Z] [LOG] 🔍 Component filtering for employee 014435dc-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:23.441Z] [LOG]    Total components: 9
[2025-10-17T05:40:23.442Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:23.442Z] [LOG]    Employee dept: undefined, designation: null
[2025-10-17T05:40:24.380Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:24.381Z] [LOG] 🔄 Processing financial records for employee 014435dc-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:24.614Z] [LOG] 📊 Found 0 active loans for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:24.850Z] [LOG] 📊 Found 0 active advances for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:25.085Z] [LOG] 📊 Found 0 approved bonuses for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:25.085Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:25.086Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:25.087Z] [LOG] 💰 GROSS CALCULATION for P.D.P Dilini Madushani null:
[2025-10-17T05:40:25.088Z] [LOG]    Base Salary: 50000
[2025-10-17T05:40:25.089Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:25.330Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:25.563Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:25.564Z] [LOG]    Employee ID: 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:25.564Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:25.565Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:40:25.799Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:25.801Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:40:25.801Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:40:25.802Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:40:25.803Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:26.038Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:26.038Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:26.039Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:26.039Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:26.039Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:26.040Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:26.040Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:40:26.040Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:40:26.041Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:26.041Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:26.041Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:40:26.042Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:26.042Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:40:26.042Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:40:26.043Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:26.043Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:26.044Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:26.044Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:26.046Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:40:26.047Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:26.047Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:26.047Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.048Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:26.048Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.048Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:26.049Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.049Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:26.049Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.050Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:26.050Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.050Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:26.051Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.051Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:26.051Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.052Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:26.052Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.052Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:26.052Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:26.053Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:26.053Z] [LOG] Regular deductions for P.D.P Dilini Madushani null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:26.054Z] [LOG] Combined deductions for P.D.P Dilini Madushani null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:40:26.289Z] [LOG] Creating components for record 271bfe49-1ab8-4e82-a664-fbae0bf7711a: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:26.290Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:40:26.523Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:26.758Z] [LOG] Created payroll_record_component: 0e4f5b63-24b0-44c3-b147-380705b417e2 for Attendance Deduction
[2025-10-17T05:40:27.225Z] [LOG] ✅ Financial balances updated successfully for employee 014435dc-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:27.225Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:27.225Z] [LOG] 
======================================================================
[2025-10-17T05:40:27.226Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: P.D.P Dilini Madushani null
[2025-10-17T05:40:27.226Z] [LOG] ======================================================================
[2025-10-17T05:40:27.226Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:40:27.227Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:40:27.227Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:27.227Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:27.228Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:27.229Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:27.229Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:40:27.229Z] [LOG] ======================================================================

[2025-10-17T05:40:27.230Z] [LOG] ✅ P.D.P Dilini Madushani null: Calculation completed successfully
[2025-10-17T05:40:27.230Z] [LOG] 📊 Progress: 29/34 (85.3%)
[2025-10-17T05:40:27.231Z] [LOG] 
🧮 Processing: R. D.A Kaushalya null (EMP000044)
[2025-10-17T05:40:27.231Z] [LOG] 📋 Record ID: b54dbc23-dad3-41f5-80b9-e72df5f97d52
[2025-10-17T05:40:27.232Z] [LOG] 
======================================================================
[2025-10-17T05:40:27.232Z] [LOG] 🧮 CALCULATING PAYROLL: R. D.A Kaushalya null (EMP000044)
[2025-10-17T05:40:27.232Z] [LOG] ======================================================================
[2025-10-17T05:40:28.205Z] [LOG] 🔍 Component filtering for employee 01443963-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:28.206Z] [LOG]    Total components: 9
[2025-10-17T05:40:28.206Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:28.207Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:40:29.145Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:29.146Z] [LOG] 🔄 Processing financial records for employee 01443963-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:29.382Z] [LOG] 📊 Found 0 active loans for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:29.615Z] [LOG] 📊 Found 0 active advances for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:29.851Z] [LOG] 📊 Found 0 approved bonuses for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:29.852Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:29.853Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:29.854Z] [LOG] 💰 GROSS CALCULATION for R. D.A Kaushalya null:
[2025-10-17T05:40:29.855Z] [LOG]    Base Salary: 50000
[2025-10-17T05:40:29.855Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:30.092Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:30.328Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:30.329Z] [LOG]    Employee ID: 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:30.330Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:30.331Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:40:30.565Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:30.565Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:40:30.566Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:40:30.567Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:40:30.567Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:30.800Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:30.800Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:30.801Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:30.802Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:30.802Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:30.803Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:30.803Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:40:30.804Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:40:30.805Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:30.805Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:30.806Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:40:30.807Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:30.808Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:40:30.809Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:40:30.809Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:30.821Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:30.821Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:30.822Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:30.823Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:40:30.823Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:30.824Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:30.825Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.825Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:30.826Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.827Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:30.827Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.830Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:30.834Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.834Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:30.834Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.834Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:30.834Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.835Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:30.835Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.835Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:30.835Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.835Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:30.836Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:30.836Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:30.836Z] [LOG] Regular deductions for R. D.A Kaushalya null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:30.837Z] [LOG] Combined deductions for R. D.A Kaushalya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:40:31.071Z] [LOG] Creating components for record b54dbc23-dad3-41f5-80b9-e72df5f97d52: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:31.073Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:40:31.307Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:31.541Z] [LOG] Created payroll_record_component: df2fcc52-b313-40ce-bddb-fdd738848d8a for Attendance Deduction
[2025-10-17T05:40:32.010Z] [LOG] ✅ Financial balances updated successfully for employee 01443963-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:32.011Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:32.012Z] [LOG] 
======================================================================
[2025-10-17T05:40:32.013Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: R. D.A Kaushalya null
[2025-10-17T05:40:32.014Z] [LOG] ======================================================================
[2025-10-17T05:40:32.014Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:40:32.015Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:40:32.015Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:32.016Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:32.017Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:32.018Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:32.018Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:40:32.019Z] [LOG] ======================================================================

[2025-10-17T05:40:32.019Z] [LOG] ✅ R. D.A Kaushalya null: Calculation completed successfully
[2025-10-17T05:40:32.020Z] [LOG] 📊 Progress: 30/34 (88.2%)
[2025-10-17T05:40:32.021Z] [LOG] 
🧮 Processing: Nimdiya Ranasinghe null (EMP000045)
[2025-10-17T05:40:32.023Z] [LOG] 📋 Record ID: 86325ff0-c5d3-486d-81f0-6345bbf2f22c
[2025-10-17T05:40:32.024Z] [LOG] 
======================================================================
[2025-10-17T05:40:32.025Z] [LOG] 🧮 CALCULATING PAYROLL: Nimdiya Ranasinghe null (EMP000045)
[2025-10-17T05:40:32.025Z] [LOG] ======================================================================
[2025-10-17T05:40:32.962Z] [LOG] 🔍 Component filtering for employee 01444074-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:32.963Z] [LOG]    Total components: 9
[2025-10-17T05:40:32.964Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:32.964Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:40:33.901Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:33.902Z] [LOG] 🔄 Processing financial records for employee 01444074-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:34.136Z] [LOG] 📊 Found 0 active loans for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:34.369Z] [LOG] 📊 Found 0 active advances for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:34.603Z] [LOG] 📊 Found 0 approved bonuses for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:34.603Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:34.605Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:34.605Z] [LOG] 💰 GROSS CALCULATION for Nimdiya Ranasinghe null:
[2025-10-17T05:40:34.606Z] [LOG]    Base Salary: 35000
[2025-10-17T05:40:34.607Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:34.839Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:35.077Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:35.077Z] [LOG]    Employee ID: 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:35.079Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:35.080Z] [LOG]    Base Salary: Rs.35000.00
[2025-10-17T05:40:35.318Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:35.318Z] [LOG]       Daily Salary: Rs.1400.00
[2025-10-17T05:40:35.319Z] [LOG]       Weekday Hourly Rate: Rs.164.71
[2025-10-17T05:40:35.319Z] [LOG]       Saturday Hourly Rate: Rs.164.71
[2025-10-17T05:40:35.320Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:35.554Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:35.555Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:35.555Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:35.556Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:35.556Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:35.557Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:35.558Z] [LOG]       Weekday: 17.00h × Rs.164.71 = Rs.2800.07
[2025-10-17T05:40:35.558Z] [LOG]       Saturday: 0.00h × Rs.164.71 = Rs.0.00
[2025-10-17T05:40:35.559Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:35.559Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:35.560Z] [LOG]       Total Earned Salary: Rs.2800.07
[2025-10-17T05:40:35.560Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:35.564Z] [LOG]       Base Salary: Rs.35000.00
[2025-10-17T05:40:35.564Z] [LOG]       Earned Salary: Rs.2800.07
[2025-10-17T05:40:35.565Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:35.566Z] [LOG]       Attendance Deduction: Rs.32199.93
[2025-10-17T05:40:35.567Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:35.568Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:35.569Z] [LOG]    Gross Salary: 35000
[2025-10-17T05:40:35.569Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:35.570Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:35.571Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.571Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:35.572Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.572Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:35.573Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.574Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:35.574Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.575Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:35.575Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.576Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:35.577Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.577Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:35.578Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.580Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:35.581Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.582Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:35.582Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:35.583Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:35.585Z] [LOG] Regular deductions for Nimdiya Ranasinghe null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:35.586Z] [LOG] Combined deductions for Nimdiya Ranasinghe null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 32199.93,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 32199.93
}
[2025-10-17T05:40:35.826Z] [LOG] Creating components for record 86325ff0-c5d3-486d-81f0-6345bbf2f22c: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:35.830Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 32199.93
}
[2025-10-17T05:40:36.066Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:36.300Z] [LOG] Created payroll_record_component: da4e33e0-7c38-41f8-ab60-d3d9cbce21f7 for Attendance Deduction
[2025-10-17T05:40:36.766Z] [LOG] ✅ Financial balances updated successfully for employee 01444074-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:36.767Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:36.767Z] [LOG] 
======================================================================
[2025-10-17T05:40:36.768Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Nimdiya Ranasinghe null
[2025-10-17T05:40:36.769Z] [LOG] ======================================================================
[2025-10-17T05:40:36.769Z] [LOG]    Gross Salary: Rs.35000.00
[2025-10-17T05:40:36.770Z] [LOG]    Total Deductions: Rs.32199.93
[2025-10-17T05:40:36.770Z] [LOG]       - Attendance Deduction: Rs.32199.93
[2025-10-17T05:40:36.771Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:36.771Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:36.772Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:36.773Z] [LOG]    NET SALARY: Rs.2800.07
[2025-10-17T05:40:36.773Z] [LOG] ======================================================================

[2025-10-17T05:40:36.774Z] [LOG] ✅ Nimdiya Ranasinghe null: Calculation completed successfully
[2025-10-17T05:40:36.775Z] [LOG] 📊 Progress: 31/34 (91.2%)
[2025-10-17T05:40:36.775Z] [LOG] 
🧮 Processing: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-17T05:40:36.776Z] [LOG] 📋 Record ID: 49f886d5-3146-481e-b693-10da994533bf
[2025-10-17T05:40:36.777Z] [LOG] 
======================================================================
[2025-10-17T05:40:36.783Z] [LOG] 🧮 CALCULATING PAYROLL: Ashen Nirmal Wadugodapitiya null (EMP000046)
[2025-10-17T05:40:36.784Z] [LOG] ======================================================================
[2025-10-17T05:40:37.732Z] [LOG] 🔍 Component filtering for employee 0144461e-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:37.733Z] [LOG]    Total components: 9
[2025-10-17T05:40:37.733Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:37.734Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:40:38.670Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:38.671Z] [LOG] 🔄 Processing financial records for employee 0144461e-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:38.904Z] [LOG] 📊 Found 0 active loans for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:39.137Z] [LOG] 📊 Found 0 active advances for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:39.382Z] [LOG] 📊 Found 0 approved bonuses for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:39.382Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:39.384Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:39.384Z] [LOG] 💰 GROSS CALCULATION for Ashen Nirmal Wadugodapitiya null:
[2025-10-17T05:40:39.385Z] [LOG]    Base Salary: 50000
[2025-10-17T05:40:39.385Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:39.633Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:39.866Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:39.867Z] [LOG]    Employee ID: 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:39.867Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:39.868Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:40:40.102Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:40.103Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:40:40.103Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:40:40.104Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:40:40.105Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:40.339Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:40.340Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:40.340Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:40.341Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:40.341Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:40.342Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:40.343Z] [LOG]       Weekday: 17.00h × Rs.235.29 = Rs.3999.93
[2025-10-17T05:40:40.343Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:40:40.344Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:40.345Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:40.347Z] [LOG]       Total Earned Salary: Rs.3999.93
[2025-10-17T05:40:40.348Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:40.349Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:40:40.349Z] [LOG]       Earned Salary: Rs.3999.93
[2025-10-17T05:40:40.350Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:40.350Z] [LOG]       Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:40.351Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:40.352Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:40.353Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:40:40.354Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:40.355Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:40.355Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.356Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:40.356Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.357Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:40.358Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.358Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:40.359Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.359Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:40.360Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.361Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:40.363Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.364Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:40.365Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.365Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:40.366Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.367Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:40.368Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:40.369Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:40.369Z] [LOG] Regular deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:40.370Z] [LOG] Combined deductions for Ashen Nirmal Wadugodapitiya null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 46000.07,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 46000.07
}
[2025-10-17T05:40:40.608Z] [LOG] Creating components for record 49f886d5-3146-481e-b693-10da994533bf: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:40.610Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 46000.07
}
[2025-10-17T05:40:40.845Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:41.081Z] [LOG] Created payroll_record_component: e4eeaff8-3983-4866-b23c-ea5543ed125d for Attendance Deduction
[2025-10-17T05:40:41.552Z] [LOG] ✅ Financial balances updated successfully for employee 0144461e-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:41.552Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:41.553Z] [LOG] 
======================================================================
[2025-10-17T05:40:41.554Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ashen Nirmal Wadugodapitiya null
[2025-10-17T05:40:41.554Z] [LOG] ======================================================================
[2025-10-17T05:40:41.555Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:40:41.555Z] [LOG]    Total Deductions: Rs.46000.07
[2025-10-17T05:40:41.556Z] [LOG]       - Attendance Deduction: Rs.46000.07
[2025-10-17T05:40:41.557Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:41.557Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:41.558Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:41.559Z] [LOG]    NET SALARY: Rs.3999.93
[2025-10-17T05:40:41.560Z] [LOG] ======================================================================

[2025-10-17T05:40:41.561Z] [LOG] ✅ Ashen Nirmal Wadugodapitiya null: Calculation completed successfully
[2025-10-17T05:40:41.563Z] [LOG] 📊 Progress: 32/34 (94.1%)
[2025-10-17T05:40:41.567Z] [LOG] 
🧮 Processing: Ratheeshanan null (EMP000047)
[2025-10-17T05:40:41.568Z] [LOG] 📋 Record ID: 151f5cc8-c2d5-47de-8c5f-47b68c857723
[2025-10-17T05:40:41.569Z] [LOG] 
======================================================================
[2025-10-17T05:40:41.570Z] [LOG] 🧮 CALCULATING PAYROLL: Ratheeshanan null (EMP000047)
[2025-10-17T05:40:41.570Z] [LOG] ======================================================================
[2025-10-17T05:40:42.512Z] [LOG] 🔍 Component filtering for employee 01444966-7105-11f0-a50f-98e743540430:
[2025-10-17T05:40:42.513Z] [LOG]    Total components: 9
[2025-10-17T05:40:42.513Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:42.514Z] [LOG]    Employee dept: undefined, designation: Web Developer
[2025-10-17T05:40:43.449Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:43.449Z] [LOG] 🔄 Processing financial records for employee 01444966-7105-11f0-a50f-98e743540430 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:43.686Z] [LOG] 📊 Found 0 active loans for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:43.922Z] [LOG] 📊 Found 0 active advances for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:44.156Z] [LOG] 📊 Found 0 approved bonuses for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:44.157Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:44.158Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:44.159Z] [LOG] 💰 GROSS CALCULATION for Ratheeshanan null:
[2025-10-17T05:40:44.160Z] [LOG]    Base Salary: 25000
[2025-10-17T05:40:44.160Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:44.393Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:44.626Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:44.627Z] [LOG]    Employee ID: 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:44.628Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:44.629Z] [LOG]    Base Salary: Rs.25000.00
[2025-10-17T05:40:44.864Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:44.865Z] [LOG]       Daily Salary: Rs.1000.00
[2025-10-17T05:40:44.866Z] [LOG]       Weekday Hourly Rate: Rs.117.65
[2025-10-17T05:40:44.866Z] [LOG]       Saturday Hourly Rate: Rs.117.65
[2025-10-17T05:40:44.867Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:45.100Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:45.101Z] [LOG]       Weekday (Mon-Fri): 17.00h
[2025-10-17T05:40:45.101Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:45.102Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:45.102Z] [LOG]       Total Worked: 17.00h
[2025-10-17T05:40:45.103Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:45.103Z] [LOG]       Weekday: 17.00h × Rs.117.65 = Rs.2000.05
[2025-10-17T05:40:45.104Z] [LOG]       Saturday: 0.00h × Rs.117.65 = Rs.0.00
[2025-10-17T05:40:45.105Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:45.105Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:45.106Z] [LOG]       Total Earned Salary: Rs.2000.05
[2025-10-17T05:40:45.106Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:45.107Z] [LOG]       Base Salary: Rs.25000.00
[2025-10-17T05:40:45.108Z] [LOG]       Earned Salary: Rs.2000.05
[2025-10-17T05:40:45.108Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:45.109Z] [LOG]       Attendance Deduction: Rs.22999.95
[2025-10-17T05:40:45.110Z] [LOG]       📉 Deduction is 92.00% of base salary
[2025-10-17T05:40:45.110Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:45.114Z] [LOG]    Gross Salary: 25000
[2025-10-17T05:40:45.117Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:45.118Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:45.118Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.119Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:45.119Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.120Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:45.121Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.121Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:45.122Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.123Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:45.123Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.124Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:45.124Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.125Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:45.126Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.126Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:45.127Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.127Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:45.130Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:45.131Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:45.132Z] [LOG] Regular deductions for Ratheeshanan null: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:45.133Z] [LOG] Combined deductions for Ratheeshanan null: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 22999.95,
      "details": "Based on worked hours (17h total)"
    }
  ],
  "total": 22999.95
}
[2025-10-17T05:40:45.383Z] [LOG] Creating components for record 151f5cc8-c2d5-47de-8c5f-47b68c857723: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:45.385Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 22999.95
}
[2025-10-17T05:40:45.628Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:45.863Z] [LOG] Created payroll_record_component: ea5dcb88-3618-40ce-a79b-59f28002c2b1 for Attendance Deduction
[2025-10-17T05:40:46.328Z] [LOG] ✅ Financial balances updated successfully for employee 01444966-7105-11f0-a50f-98e743540430
[2025-10-17T05:40:46.330Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:46.330Z] [LOG] 
======================================================================
[2025-10-17T05:40:46.331Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Ratheeshanan null
[2025-10-17T05:40:46.331Z] [LOG] ======================================================================
[2025-10-17T05:40:46.332Z] [LOG]    Gross Salary: Rs.25000.00
[2025-10-17T05:40:46.333Z] [LOG]    Total Deductions: Rs.22999.95
[2025-10-17T05:40:46.333Z] [LOG]       - Attendance Deduction: Rs.22999.95
[2025-10-17T05:40:46.334Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:46.334Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:46.335Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:46.336Z] [LOG]    NET SALARY: Rs.2000.05
[2025-10-17T05:40:46.336Z] [LOG] ======================================================================

[2025-10-17T05:40:46.337Z] [LOG] ✅ Ratheeshanan null: Calculation completed successfully
[2025-10-17T05:40:46.338Z] [LOG] 📊 Progress: 33/34 (97.1%)
[2025-10-17T05:40:46.338Z] [LOG] 
🧮 Processing: Kaushal Thambi (EMP465256103)
[2025-10-17T05:40:46.339Z] [LOG] 📋 Record ID: 8eb6e05f-6cbd-4780-964d-68337b526a5e
[2025-10-17T05:40:46.340Z] [LOG] 
======================================================================
[2025-10-17T05:40:46.341Z] [LOG] 🧮 CALCULATING PAYROLL: Kaushal Thambi (EMP465256103)
[2025-10-17T05:40:46.343Z] [LOG] ======================================================================
[2025-10-17T05:40:47.279Z] [LOG] 🔍 Component filtering for employee 9e8125c4-ce58-411a-b617-9f75d481c613:
[2025-10-17T05:40:47.280Z] [LOG]    Total components: 9
[2025-10-17T05:40:47.281Z] [LOG]    Applicable components: 9
[2025-10-17T05:40:47.281Z] [LOG]    Employee dept: undefined, designation: Designer
[2025-10-17T05:40:48.226Z] [LOG] 
🔄 Processing financial records...
[2025-10-17T05:40:48.227Z] [LOG] 🔄 Processing financial records for employee 9e8125c4-ce58-411a-b617-9f75d481c613 in period 2025-10-01 to 2025-10-31
[2025-10-17T05:40:48.466Z] [LOG] 📊 Found 0 active loans for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T05:40:48.703Z] [LOG] 📊 Found 0 active advances for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T05:40:48.938Z] [LOG] 📊 Found 0 approved bonuses for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T05:40:48.939Z] [LOG] ✅ Financial adjustments calculated: {
  "loans": 0,
  "advances": 0,
  "bonuses": 0,
  "netAdjustment": 0
}
[2025-10-17T05:40:48.940Z] [LOG] 
💰 Calculating gross salary components...
[2025-10-17T05:40:48.941Z] [LOG] 💰 GROSS CALCULATION for Kaushal Thambi:
[2025-10-17T05:40:48.941Z] [LOG]    Base Salary: 50000
[2025-10-17T05:40:48.942Z] [LOG]    📋 Processing 0 configured earning components
[2025-10-17T05:40:49.184Z] [LOG] ⚠️  No overtime enable setting found for client it-signature, defaulting to disabled
[2025-10-17T05:40:49.421Z] [LOG] 
💰 CALCULATING ATTENDANCE DEDUCTION (NEW OPTIMIZED APPROACH)
[2025-10-17T05:40:49.421Z] [LOG]    Employee ID: 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T05:40:49.422Z] [LOG]    📅 Calculation Period: 2025-10-01 to 2025-10-16
[2025-10-17T05:40:49.422Z] [LOG]    Base Salary: Rs.50000.00
[2025-10-17T05:40:49.659Z] [LOG] 
   💵 Pre-calculated Rates (from payroll_records):
[2025-10-17T05:40:49.660Z] [LOG]       Daily Salary: Rs.2000.00
[2025-10-17T05:40:49.661Z] [LOG]       Weekday Hourly Rate: Rs.235.29
[2025-10-17T05:40:49.661Z] [LOG]       Saturday Hourly Rate: Rs.235.29
[2025-10-17T05:40:49.663Z] [LOG]       Sunday Hourly Rate: Rs.0.00
[2025-10-17T05:40:49.898Z] [LOG] 
   ⏰ Worked Hours (from attendance records):
[2025-10-17T05:40:49.899Z] [LOG]       Weekday (Mon-Fri): 8.50h
[2025-10-17T05:40:49.899Z] [LOG]       Saturday: 0.00h
[2025-10-17T05:40:49.900Z] [LOG]       Sunday: 0.00h
[2025-10-17T05:40:49.900Z] [LOG]       Total Worked: 8.50h
[2025-10-17T05:40:49.901Z] [LOG] 
   💵 Earned Salary Calculation (worked_hours × hourly_rate):
[2025-10-17T05:40:49.901Z] [LOG]       Weekday: 8.50h × Rs.235.29 = Rs.1999.96
[2025-10-17T05:40:49.902Z] [LOG]       Saturday: 0.00h × Rs.235.29 = Rs.0.00
[2025-10-17T05:40:49.903Z] [LOG]       Sunday: 0.00h × Rs.0.00 = Rs.0.00
[2025-10-17T05:40:49.903Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:49.904Z] [LOG]       Total Earned Salary: Rs.1999.96
[2025-10-17T05:40:49.904Z] [LOG] 
   📊 Final Calculation:
[2025-10-17T05:40:49.906Z] [LOG]       Base Salary: Rs.50000.00
[2025-10-17T05:40:49.907Z] [LOG]       Earned Salary: Rs.1999.96
[2025-10-17T05:40:49.907Z] [LOG]       ─────────────────────────────────────────────────────
[2025-10-17T05:40:49.908Z] [LOG]       Attendance Deduction: Rs.48000.04
[2025-10-17T05:40:49.909Z] [LOG]       📉 Deduction is 96.00% of base salary
[2025-10-17T05:40:49.911Z] [LOG] 💸 DEDUCTION CALCULATION:
[2025-10-17T05:40:49.915Z] [LOG]    Gross Salary: 50000
[2025-10-17T05:40:49.915Z] [LOG]    📋 Processing 9 configured deduction components
[2025-10-17T05:40:49.917Z] [LOG] 🧮 Calculating component: Weekend Shortfall Deduction (fixed)
[2025-10-17T05:40:49.918Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.919Z] [LOG] 🧮 Calculating component: Unpaid Leave Deduction (fixed)
[2025-10-17T05:40:49.920Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.920Z] [LOG] 🧮 Calculating component: Attendance Deduction (fixed)
[2025-10-17T05:40:49.921Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.921Z] [LOG] 🧮 Calculating component: Advance Deductions (fixed)
[2025-10-17T05:40:49.922Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.923Z] [LOG] 🧮 Calculating component: Loan Deductions (fixed)
[2025-10-17T05:40:49.923Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.924Z] [LOG] 🧮 Calculating component: INCOME TAX (fixed)
[2025-10-17T05:40:49.925Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.925Z] [LOG] 🧮 Calculating component: Weekend Absent Days (fixed)
[2025-10-17T05:40:49.926Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.927Z] [LOG] 🧮 Calculating component: Employee Provident Fund (8%) (fixed)
[2025-10-17T05:40:49.927Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.930Z] [LOG] 🧮 Calculating component: Working Hours Shortfall (fixed)
[2025-10-17T05:40:49.931Z] [LOG]    Fixed amount: 0
[2025-10-17T05:40:49.931Z] [LOG]    📊 Total Deductions: 0
[2025-10-17T05:40:49.933Z] [LOG] Regular deductions for Kaushal Thambi: {
  "components": [],
  "total": 0
}
[2025-10-17T05:40:49.934Z] [LOG] Combined deductions for Kaushal Thambi: {
  "components": [
    {
      "code": "ATTENDANCE_DED",
      "name": "Attendance Deduction",
      "type": "deduction",
      "category": "attendance",
      "amount": 48000.035,
      "details": "Based on worked hours (8.5h total)"
    }
  ],
  "total": 48000.035
}
[2025-10-17T05:40:50.179Z] [LOG] Creating components for record 8eb6e05f-6cbd-4780-964d-68337b526a5e: {
  "grossComponentsCount": 0,
  "deductionComponentsCount": 1,
  "taxComponentsCount": 0
}
[2025-10-17T05:40:50.181Z] [LOG] Processing component: {
  "name": "Attendance Deduction",
  "type": "deduction",
  "amount": 48000.035
}
[2025-10-17T05:40:50.419Z] [LOG] Using existing component ID: 1a4950fc-0ef8-4b7c-bf9f-25ccfe2ae02f
[2025-10-17T05:40:50.656Z] [LOG] Created payroll_record_component: 94a9885a-f941-46ef-b0e5-4d2135b1e089 for Attendance Deduction
[2025-10-17T05:40:51.128Z] [LOG] ✅ Financial balances updated successfully for employee 9e8125c4-ce58-411a-b617-9f75d481c613
[2025-10-17T05:40:51.130Z] [LOG] ✅ Financial balances updated successfully
[2025-10-17T05:40:51.130Z] [LOG] 
======================================================================
[2025-10-17T05:40:51.131Z] [LOG] 📊 PAYROLL CALCULATION SUMMARY: Kaushal Thambi
[2025-10-17T05:40:51.132Z] [LOG] ======================================================================
[2025-10-17T05:40:51.132Z] [LOG]    Gross Salary: Rs.50000.00
[2025-10-17T05:40:51.133Z] [LOG]    Total Deductions: Rs.48000.04
[2025-10-17T05:40:51.133Z] [LOG]       - Attendance Deduction: Rs.48000.04
[2025-10-17T05:40:51.134Z] [LOG]       - Other Deductions: Rs.0.00
[2025-10-17T05:40:51.134Z] [LOG]    Total Taxes: Rs.0.00
[2025-10-17T05:40:51.135Z] [LOG]    ─────────────────────────────────────────────────────────────────────
[2025-10-17T05:40:51.136Z] [LOG]    NET SALARY: Rs.1999.96
[2025-10-17T05:40:51.136Z] [LOG] ======================================================================

[2025-10-17T05:40:51.137Z] [LOG] ✅ Kaushal Thambi: Calculation completed successfully
[2025-10-17T05:40:51.138Z] [LOG] 📊 Progress: 34/34 (100.0%)
[2025-10-17T05:40:51.139Z] [LOG] 
============================================================
[2025-10-17T05:40:51.141Z] [LOG] 📈 Processing Summary: 34 successful, 0 failed
[2025-10-17T05:40:53.037Z] [LOG] 🎉 Payroll calculation completed successfully!
[2025-10-17T05:40:53.038Z] [LOG] 📊 Final Summary: 34 processed, 0 errors
[2025-10-17T05:40:53.039Z] [INFO] ================================================================================
[2025-10-17T05:40:53.039Z] [INFO] ⏰ Completed at: 2025-10-17T05:40:53.039Z
[2025-10-17T05:40:53.039Z] [INFO] 📊 Total log entries: 3053